import{r as s,c as r,g as o,h as t}from"./index-DLMfuaWg.js";const n=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif}.erx-payment{display:flex;flex-direction:column;gap:var(--erx-space-md, 16px);padding:var(--erx-space-md, 16px);background:var(--erx-surface, #ffffff);border-radius:var(--erx-border-radius-lg, 12px);border:1px solid var(--erx-border-color, #e5e7eb)}.erx-payment--disabled{opacity:0.6;pointer-events:none}.erx-payment__amount{text-align:center;padding:var(--erx-space-md, 16px);background:var(--erx-surface-secondary, #f9fafb);border-radius:var(--erx-border-radius, 8px)}.erx-payment__label{display:block;font-size:14px;color:var(--erx-text-secondary, #6b7280);margin-bottom:4px}.erx-payment__total{font-size:36px;font-weight:700;color:var(--erx-text, #111827)}.erx-payment__tip-info{display:block;font-size:12px;color:var(--erx-color-success, #10b981);margin-top:4px}.erx-payment__section-title{display:block;font-size:13px;font-weight:600;color:var(--erx-text-secondary, #6b7280);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px}.erx-payment__tip-options{display:flex;flex-wrap:wrap;gap:8px}.erx-payment__tip-btn{flex:1;min-width:60px;height:40px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:var(--erx-border-radius, 8px);background:var(--erx-surface, #ffffff);color:var(--erx-text, #111827);font-size:14px;font-weight:500;cursor:pointer;transition:all 150ms ease}.erx-payment__tip-btn:hover{border-color:var(--erx-color-primary, #667eea)}.erx-payment__tip-btn--selected{background:var(--erx-color-primary, #667eea);border-color:var(--erx-color-primary, #667eea);color:white}.erx-payment__tip-input{width:80px;height:40px;padding:0 12px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:var(--erx-border-radius, 8px);font-size:14px;text-align:center}.erx-payment__tip-input:focus{outline:none;border-color:var(--erx-color-primary, #667eea)}.erx-payment__method-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(100px, 1fr));gap:8px}.erx-payment__method{display:flex;flex-direction:column;align-items:center;gap:6px;padding:var(--erx-space-sm, 12px);border:2px solid var(--erx-border-color, #e5e7eb);border-radius:var(--erx-border-radius, 8px);background:var(--erx-surface, #ffffff);cursor:pointer;transition:all 150ms ease}.erx-payment__method:hover:not(:disabled){border-color:var(--erx-color-primary, #667eea)}.erx-payment__method--selected{border-color:var(--erx-color-primary, #667eea);background:rgba(102, 126, 234, 0.1)}.erx-payment__method--unavailable{opacity:0.4;cursor:not-allowed}.erx-payment__method-icon{font-size:28px}.erx-payment__method-name{font-size:13px;font-weight:500;color:var(--erx-text, #111827)}.erx-payment__method-fee{font-size:11px;color:var(--erx-text-tertiary, #9ca3af)}.erx-payment__cash{display:flex;flex-direction:column;gap:var(--erx-space-sm, 12px)}.erx-payment__cash-display{text-align:center;padding:var(--erx-space-sm, 12px);background:var(--erx-surface-secondary, #f9fafb);border-radius:var(--erx-border-radius, 8px)}.erx-payment__cash-label{display:block;font-size:12px;color:var(--erx-text-secondary, #6b7280)}.erx-payment__cash-amount{display:block;font-size:28px;font-weight:700;color:var(--erx-text, #111827)}.erx-payment__cash-change{display:block;font-size:14px;font-weight:600;color:var(--erx-color-success, #10b981);margin-top:4px}.erx-payment__quick-cash{display:flex;flex-wrap:wrap;gap:8px}.erx-payment__quick-btn{flex:1;min-width:60px;height:36px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:var(--erx-border-radius, 8px);background:var(--erx-surface, #ffffff);color:var(--erx-text, #111827);font-size:13px;font-weight:500;cursor:pointer;transition:all 150ms ease}.erx-payment__quick-btn:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-payment__quick-btn--exact{background:var(--erx-color-success, #10b981);border-color:var(--erx-color-success, #10b981);color:white}.erx-payment__numpad{display:grid;grid-template-columns:repeat(3, 1fr);gap:8px}.erx-payment__num-btn{height:48px;border:none;border-radius:var(--erx-border-radius, 8px);background:var(--erx-surface-secondary, #f9fafb);color:var(--erx-text, #111827);font-size:20px;font-weight:500;cursor:pointer;transition:all 150ms ease}.erx-payment__num-btn:hover{background:var(--erx-surface-tertiary, #f3f4f6)}.erx-payment__num-btn:active{background:var(--erx-color-primary, #667eea);color:white}.erx-payment__num-btn--action{background:var(--erx-surface-tertiary, #f3f4f6);color:var(--erx-text-secondary, #6b7280);font-size:16px}.erx-payment__complete-btn{width:100%;height:var(--erx-touch-target-lg, 52px);border:none;border-radius:var(--erx-border-radius, 8px);background:var(--erx-color-success, #10b981);color:white;font-size:16px;font-weight:600;cursor:pointer;transition:all 150ms ease}.erx-payment__complete-btn:hover:not(:disabled){background:#0d9668}.erx-payment__complete-btn:disabled{background:var(--erx-text-tertiary, #9ca3af);cursor:not-allowed}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-payment,:host(.dark) .erx-payment{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-payment__total,:host(.dark) .erx-payment__total,:host-context(.dark) .erx-payment__cash-amount,:host(.dark) .erx-payment__cash-amount,:host-context(.dark) .erx-payment__method-name,:host(.dark) .erx-payment__method-name{color:var(--erx-text)}:host-context(.dark) .erx-payment__amount,:host(.dark) .erx-payment__amount,:host-context(.dark) .erx-payment__cash-display,:host(.dark) .erx-payment__cash-display{background:var(--erx-surface-secondary)}:host-context(.dark) .erx-payment__tip-btn,:host(.dark) .erx-payment__tip-btn,:host-context(.dark) .erx-payment__method,:host(.dark) .erx-payment__method,:host-context(.dark) .erx-payment__quick-btn,:host(.dark) .erx-payment__quick-btn{background:var(--erx-surface);border-color:var(--erx-border-color);color:var(--erx-text)}:host-context(.dark) .erx-payment__num-btn,:host(.dark) .erx-payment__num-btn{background:var(--erx-surface-secondary);color:var(--erx-text)}",c=class{constructor(e){s(this,e),this.erxSelect=r(this,"erxSelect"),this.erxComplete=r(this,"erxComplete")}get el(){return o(this)}methods=[];total=0;allowSplit=!1;allowTip=!0;tipPresets=[10,15,20,25];currency="$";locale="en-US";showNumpad=!0;disabled=!1;selectedMethod;splits=[];tip=0;customTip=!1;cashAmount=0;erxSelect;erxComplete;async reset(){this.selectedMethod=void 0,this.splits=[],this.tip=0,this.customTip=!1,this.cashAmount=0}selectMethod=e=>{this.disabled||!e.available||(this.selectedMethod=e,this.erxSelect.emit({method:e,amount:this.getTotalWithTip()}))};selectTip=e=>{this.tip=this.total*(e/100),this.customTip=!1};handleCustomTip=e=>{const a=parseFloat(e.target.value)||0;this.tip=a,this.customTip=!0};handleCashInput=e=>{if(e==="clear")this.cashAmount=0;else if(e==="backspace")this.cashAmount=Math.floor(this.cashAmount/10);else{const a=this.cashAmount*10+parseInt(e);this.cashAmount=a}};handleQuickCash=e=>{this.cashAmount=e*100};getTotalWithTip(){return this.total+this.tip}getChange(){const e=this.cashAmount/100;return Math.max(0,e-this.getTotalWithTip())}canComplete(){return this.selectedMethod?this.selectedMethod.id==="cash"?this.cashAmount/100>=this.getTotalWithTip():!0:!1}handleComplete=()=>{if(!this.canComplete())return;const e=this.allowSplit&&this.splits.length>0?this.splits:[{methodId:this.selectedMethod.id,amount:this.getTotalWithTip()}];this.erxComplete.emit({methods:e,total:this.getTotalWithTip(),tip:this.tip,change:this.selectedMethod?.id==="cash"?this.getChange():0})};formatPrice(e){return new Intl.NumberFormat(this.locale,{style:"currency",currency:this.getCurrencyCode()}).format(e)}getCurrencyCode(){return{$:"USD","â‚¬":"EUR","Â£":"GBP"}[this.currency]||"USD"}getMethodIcon(e){return e.icon?e.icon:{cash:"ðŸ’µ",card:"ðŸ’³",credit:"ðŸ’³",debit:"ðŸ’³",mobile:"ðŸ“±",qr:"ðŸ“±"}[e.id]||"ðŸ’³"}render(){const e=this.getTotalWithTip();return t("div",{key:"712874693e96cb00d8e4c196cb87fe30c8e1c1f4",class:{"erx-payment":!0,"erx-payment--disabled":this.disabled},part:"container"},t("div",{key:"b347832bbf59fe5d941d329f96a96f1381f9bef0",class:"erx-payment__amount",part:"amount"},t("span",{key:"f2cd0a519d2330cc9a7129cae20a0934e779f85e",class:"erx-payment__label"},"Total"),t("span",{key:"3001390ec5f3d6eac2653bfd1285afd0e8175c59",class:"erx-payment__total"},this.formatPrice(e)),this.tip>0&&t("span",{key:"aef65a6bfbfa22b41afe9a8d7b54175effa39cd3",class:"erx-payment__tip-info"},"(includes ",this.formatPrice(this.tip)," tip)")),this.allowTip&&t("div",{key:"b8f5bc2236c8ff796bdb574ac8fd4da224ad6966",class:"erx-payment__tips",part:"tips"},t("span",{key:"ab754eaa81a3bdaf83cc61b48df8d221d77edee3",class:"erx-payment__section-title"},"Add Tip"),t("div",{key:"2cfc653903e91e90014dfe040a4b37ca598e6d7c",class:"erx-payment__tip-options"},t("button",{key:"9c9849ae827d6bf51ac4863f4a32fffb5aa0a337",class:{"erx-payment__tip-btn":!0,"erx-payment__tip-btn--selected":this.tip===0&&!this.customTip},onClick:()=>this.selectTip(0),type:"button"},"No Tip"),this.tipPresets.map(a=>t("button",{class:{"erx-payment__tip-btn":!0,"erx-payment__tip-btn--selected":!this.customTip&&this.tip===this.total*(a/100)},onClick:()=>this.selectTip(a),type:"button"},a,"%")),t("input",{key:"a923cb0b73df02aa564d317b943cfa4f15f49a86",type:"number",class:"erx-payment__tip-input",placeholder:"Custom",value:this.customTip?this.tip:"",onInput:this.handleCustomTip,min:"0",step:"0.01"}))),t("div",{key:"f39c748f99ad9fd5bf2669472b31047928c7d1ca",class:"erx-payment__methods",part:"methods"},t("span",{key:"20af7259f05ffe8b5a9a622800230e4636206e6d",class:"erx-payment__section-title"},"Payment Method"),t("div",{key:"f972f9a4b0e7738b492afcb2495490632defe982",class:"erx-payment__method-grid"},this.methods.map(a=>t("button",{class:{"erx-payment__method":!0,"erx-payment__method--selected":this.selectedMethod?.id===a.id,"erx-payment__method--unavailable":!a.available},onClick:()=>this.selectMethod(a),disabled:this.disabled||!a.available,type:"button"},t("span",{class:"erx-payment__method-icon"},this.getMethodIcon(a)),t("span",{class:"erx-payment__method-name"},a.name),a.fee&&a.fee>0&&t("span",{class:"erx-payment__method-fee"},"+",a.fee,"%"))))),this.selectedMethod?.id==="cash"&&this.showNumpad&&t("div",{key:"9713b310cd6506ed0b9d3a016bafdc5bfb983925",class:"erx-payment__cash",part:"cash"},t("div",{key:"70a5bddbe4510cbd90022adf233711b4069ffa74",class:"erx-payment__cash-display"},t("span",{key:"e8c45a849eca1a935de19745077b1848b8d571e4",class:"erx-payment__cash-label"},"Tendered"),t("span",{key:"1cac99c3ada1c2e2322af3f8de1a05aed3aaebed",class:"erx-payment__cash-amount"},this.formatPrice(this.cashAmount/100)),this.getChange()>0&&t("span",{key:"d826005bae77f6f26f65633e722101cd9b80742a",class:"erx-payment__cash-change"},"Change: ",this.formatPrice(this.getChange()))),t("div",{key:"e0d9652adeb79bc1dfe84f6dc75d9f4577329e07",class:"erx-payment__quick-cash"},[5,10,20,50,100].map(a=>t("button",{class:"erx-payment__quick-btn",onClick:()=>this.handleQuickCash(a),type:"button"},this.currency,a)),t("button",{key:"d9dfadf7a7a66a5462f71dd2b3cf5b17a405b248",class:"erx-payment__quick-btn erx-payment__quick-btn--exact",onClick:()=>this.handleQuickCash(Math.ceil(e)),type:"button"},"Exact")),t("div",{key:"30505ad3eeacc0a7fd3a79e7e5358a12f3c8fdff",class:"erx-payment__numpad"},["1","2","3","4","5","6","7","8","9","clear","0","backspace"].map(a=>t("button",{class:{"erx-payment__num-btn":!0,"erx-payment__num-btn--action":a==="clear"||a==="backspace"},onClick:()=>this.handleCashInput(a),type:"button"},a==="clear"?"C":a==="backspace"?"âŒ«":a)))),t("button",{key:"05e76f851a0bc2891caf3204e49ebe8d6e1ef981",class:"erx-payment__complete-btn",onClick:this.handleComplete,disabled:this.disabled||!this.canComplete(),part:"complete",type:"button"},t("slot",{key:"f904c7e2e54f0307da83c7a9a5eb8c7fe599f32d",name:"complete-label"},this.selectedMethod?.id==="cash"&&this.getChange()>0?`Pay & Return ${this.formatPrice(this.getChange())}`:`Pay ${this.formatPrice(e)}`)))}};c.style=n();export{c as erx_payment};
