import{r as s,c as n,h as e}from"./index-DLMfuaWg.js";const x=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-machine{padding:16px;background:var(--erx-surface, #fff);border-radius:12px;border:1px solid var(--erx-border-color, #e5e7eb);cursor:pointer;transition:all 200ms ease}.erx-machine:hover{border-color:var(--erx-color-primary, #667eea);box-shadow:0 4px 12px rgba(0,0,0,0.1)}.erx-machine--running{border-top:3px solid var(--erx-color-success, #10b981)}.erx-machine--idle{border-top:3px solid var(--erx-color-warning, #f59e0b)}.erx-machine--maintenance{border-top:3px solid var(--erx-color-primary, #667eea)}.erx-machine--error{border-top:3px solid var(--erx-color-danger, #ef4444)}.erx-machine--offline{border-top:3px solid var(--erx-text-tertiary, #9ca3af)}.erx-machine__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.erx-machine__status{display:flex;align-items:center;gap:8px}.erx-machine__state-indicator{width:10px;height:10px;border-radius:50%;animation:pulse 2s infinite}.erx-machine--running .erx-machine__state-indicator{background:var(--erx-color-success, #10b981)}.erx-machine--idle .erx-machine__state-indicator{background:var(--erx-color-warning, #f59e0b);animation:none}.erx-machine--maintenance .erx-machine__state-indicator{background:var(--erx-color-primary, #667eea);animation:none}.erx-machine--error .erx-machine__state-indicator{background:var(--erx-color-danger, #ef4444)}.erx-machine--offline .erx-machine__state-indicator{background:var(--erx-text-tertiary, #9ca3af);animation:none}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.erx-machine__state-label{font-size:12px;font-weight:600;text-transform:uppercase;color:var(--erx-text-secondary, #6b7280)}.erx-machine__oee{text-align:right}.erx-machine__oee-label{display:block;font-size:10px;color:var(--erx-text-tertiary, #9ca3af)}.erx-machine__oee-value{font-size:18px;font-weight:700;color:var(--erx-text, #111827)}.erx-machine__info{display:flex;align-items:center;gap:12px;margin-bottom:12px}.erx-machine__image{width:56px;height:56px;border-radius:8px;-o-object-fit:cover;object-fit:cover;background:var(--erx-surface-tertiary, #f3f4f6)}.erx-machine__details{flex:1}.erx-machine__name{display:block;font-size:16px;font-weight:600;color:var(--erx-text, #111827)}.erx-machine__code{display:block;font-size:12px;color:var(--erx-text-tertiary, #9ca3af)}.erx-machine__job{padding:12px;background:var(--erx-surface-secondary, #f9fafb);border-radius:8px;margin-bottom:12px}.erx-machine__job-header{display:flex;justify-content:space-between;margin-bottom:4px}.erx-machine__job-label{font-size:10px;text-transform:uppercase;color:var(--erx-text-tertiary, #9ca3af)}.erx-machine__job-eta{font-size:11px;color:var(--erx-text-secondary, #6b7280)}.erx-machine__job-name{font-size:13px;font-weight:500;color:var(--erx-text, #111827);margin-bottom:8px}.erx-machine__job-progress{height:6px;background:var(--erx-surface-tertiary, #e5e7eb);border-radius:3px;overflow:hidden;margin-bottom:4px}.erx-machine__job-fill{height:100%;background:var(--erx-color-primary, #667eea);border-radius:3px;transition:width 300ms ease}.erx-machine__job-percent{font-size:11px;color:var(--erx-text-secondary, #6b7280)}.erx-machine__metrics{display:grid;grid-template-columns:repeat(3, 1fr);gap:8px;margin-bottom:12px}.erx-machine__metric{text-align:center;padding:8px;background:var(--erx-surface-secondary, #f9fafb);border-radius:6px}.erx-machine__metric--warning{background:rgba(245,158,11,0.1)}.erx-machine__metric--critical{background:rgba(239,68,68,0.1)}.erx-machine__metric-value{display:block;font-size:16px;font-weight:600;color:var(--erx-text, #111827)}.erx-machine__metric-unit{font-size:11px;color:var(--erx-text-tertiary, #9ca3af)}.erx-machine__metric-label{font-size:10px;color:var(--erx-text-secondary, #6b7280)}.erx-machine__alerts{margin-bottom:12px}.erx-machine__alert{display:flex;align-items:center;gap:8px;padding:8px;border-radius:6px;margin-bottom:4px;font-size:12px}.erx-machine__alert--error{background:rgba(239,68,68,0.1);color:var(--erx-color-danger, #ef4444)}.erx-machine__alert--warning{background:rgba(245,158,11,0.1);color:var(--erx-color-warning, #f59e0b)}.erx-machine__alert--info{background:rgba(102,126,234,0.1);color:var(--erx-color-primary, #667eea)}.erx-machine__alert-icon{font-size:14px}.erx-machine__alert-msg{flex:1}.erx-machine__operator{display:flex;align-items:center;gap:8px;padding-top:12px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-machine__operator-avatar{width:28px;height:28px;border-radius:50%;background:rgba(102,126,234,0.1);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;color:var(--erx-color-primary, #667eea);overflow:hidden}.erx-machine__operator-avatar img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.erx-machine__operator-name{font-size:13px;color:var(--erx-text-secondary, #6b7280)}.erx-machine__actions{display:flex;gap:8px;margin-top:12px}.erx-machine__btn{height:36px;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;transition:all 150ms ease;padding:0 16px}.erx-machine__btn--start{flex:1;background:var(--erx-color-success, #10b981);color:white}.erx-machine__btn--stop{flex:1;background:var(--erx-color-danger, #ef4444);color:white}.erx-machine__btn--maintenance{width:36px;padding:0;background:var(--erx-surface-secondary, #f9fafb);color:var(--erx-text-secondary, #6b7280);border:1px solid var(--erx-border-color, #e5e7eb)}.erx-machine__btn--details{width:36px;padding:0;background:var(--erx-surface-secondary, #f9fafb);color:var(--erx-text-secondary, #6b7280);border:1px solid var(--erx-border-color, #e5e7eb)}.erx-machine--compact{padding:12px}.erx-machine--compact .erx-machine__image{width:40px;height:40px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-machine,:host(.dark) .erx-machine{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-machine__name,:host(.dark) .erx-machine__name,:host-context(.dark) .erx-machine__oee-value,:host(.dark) .erx-machine__oee-value{color:var(--erx-text)}",d=class{constructor(a){s(this,a),this.erxAction=n(this,"erxAction"),this.erxSelect=n(this,"erxSelect")}machine;showMetrics=!0;showAlerts=!0;showActions=!0;compact=!1;erxAction;erxSelect;getStateLabel(){return{running:"Running",idle:"Idle",maintenance:"Maintenance",error:"Error",offline:"Offline"}[this.machine.state]||"Unknown"}handleAction(a,t){t.stopPropagation(),this.erxAction.emit({action:a,machine:this.machine})}handleSelect=()=>{this.erxSelect.emit(this.machine)};render(){const{machine:a,showMetrics:t,showAlerts:i,showActions:o,compact:c}=this;return e("div",{key:"4cebc56bf96946ac0a40a76fb256611ebe52673b",class:{"erx-machine":!0,[`erx-machine--${a.state}`]:!0,"erx-machine--compact":c},onClick:this.handleSelect,part:"container"},e("div",{key:"a3f6af5aa7ad6c3f2d8340a1f795d8d799487c72",class:"erx-machine__header",part:"header"},e("div",{key:"dd61ee9baa90ed467f01b0835097a3f3774ca9d6",class:"erx-machine__status"},e("span",{key:"da88529dbc86f9bf26b0d2c407a5d4f041295c4f",class:"erx-machine__state-indicator"}),e("span",{key:"330f327e79d39e9d18a1cd09a38d5ed7a5929dd9",class:"erx-machine__state-label"},this.getStateLabel())),a.efficiency!==void 0&&e("div",{key:"261e937c92a33c8e86f43f58472b54115cafa88e",class:"erx-machine__oee"},e("span",{key:"419ad9c9144387787c56dc4b3c286c02f8ca1541",class:"erx-machine__oee-label"},"OEE"),e("span",{key:"e9c14926d0876add8a12a141e16794d26fbc2e13",class:"erx-machine__oee-value"},a.efficiency,"%"))),e("div",{key:"e7912abb23fcc797148e6ba3d3a5d8c408f9b744",class:"erx-machine__info",part:"info"},a.image&&e("img",{key:"294618917ffd3794ac02c227b7d23ba1dcd4ed49",src:a.image,alt:a.name,class:"erx-machine__image"}),e("div",{key:"85140dfa6a010a2746c35f4e9d7d496c41e98f36",class:"erx-machine__details"},e("span",{key:"7801782d9a2187b49f28fe34c4c8025e522a2039",class:"erx-machine__name"},a.name),a.code&&e("span",{key:"900a6a347d496e353bf6c44839a158846cf22a10",class:"erx-machine__code"},a.code))),a.currentJob&&e("div",{key:"4cd553ab82ec32ae0e5a0cc0996642fd76ae104a",class:"erx-machine__job",part:"job"},e("div",{key:"8a54a173005cf91c47aea576f5e068b6b1209f44",class:"erx-machine__job-header"},e("span",{key:"1f7b14e296a5bcdcde28e02309a1d0c536132741",class:"erx-machine__job-label"},"Current Job"),a.currentJob.eta&&e("span",{key:"3b703922fc9d49c0f3709a65815d108b713d7bed",class:"erx-machine__job-eta"},"ETA: ",a.currentJob.eta)),e("span",{key:"5e846a8404c5a736875031838c916f105a8b7486",class:"erx-machine__job-name"},a.currentJob.name),e("div",{key:"e57c36c748c32e39e3dd76bc80e06c197ae51dca",class:"erx-machine__job-progress"},e("div",{key:"0c7531cdcb5e2841627e89dcd37ba5e22a2bbb90",class:"erx-machine__job-fill",style:{width:`${a.currentJob.progress}%`}})),e("span",{key:"e80245d2bb3010e1d600298645498822752d30ff",class:"erx-machine__job-percent"},a.currentJob.progress,"%")),!c&&t&&a.metrics&&a.metrics.length>0&&e("div",{key:"d400804f187122778bcf60f6753891efde7ede85",class:"erx-machine__metrics",part:"metrics"},a.metrics.map(r=>e("div",{class:{"erx-machine__metric":!0,[`erx-machine__metric--${r.status||"normal"}`]:!0},key:r.label},e("span",{class:"erx-machine__metric-value"},r.value,r.unit&&e("span",{class:"erx-machine__metric-unit"},r.unit)),e("span",{class:"erx-machine__metric-label"},r.label)))),!c&&i&&a.alerts&&a.alerts.length>0&&e("div",{key:"9186e4de06d3efa58b9f088b4ee641e9be9e4119",class:"erx-machine__alerts",part:"alerts"},a.alerts.slice(0,3).map(r=>e("div",{class:`erx-machine__alert erx-machine__alert--${r.type}`,key:r.id},e("span",{class:"erx-machine__alert-icon"},r.type==="error"?"âŒ":r.type==="warning"?"âš ï¸":"â„¹ï¸"),e("span",{class:"erx-machine__alert-msg"},r.message)))),!c&&a.operator&&e("div",{key:"fd316535ebff613bcdcfd701b10e6b7661f94113",class:"erx-machine__operator",part:"operator"},a.operator.avatar?e("img",{src:a.operator.avatar,alt:"",class:"erx-machine__operator-avatar"}):e("span",{class:"erx-machine__operator-avatar"},a.operator.name.charAt(0).toUpperCase()),e("span",{key:"619766f0a01e628a81e0fb190eaf09b3dcbbe917",class:"erx-machine__operator-name"},a.operator.name)),o&&e("div",{key:"437413908582017f2eb99a6b600a8af99184cf9d",class:"erx-machine__actions",part:"actions"},a.state==="idle"&&e("button",{key:"cc2af6017d64a8226dbcc16df800bd2d5ae9517a",class:"erx-machine__btn erx-machine__btn--start",onClick:r=>this.handleAction("start",r)},"Start"),a.state==="running"&&e("button",{key:"a59a42770669b140ac0bbb566c1d3918ea94d505",class:"erx-machine__btn erx-machine__btn--stop",onClick:r=>this.handleAction("stop",r)},"Stop"),e("button",{key:"6bb921b68e8a3d3da7979f99cb06cd1d2e0e4122",class:"erx-machine__btn erx-machine__btn--maintenance",onClick:r=>this.handleAction("maintenance",r)},"ðŸ”§"),e("button",{key:"2ce2dc915755d101c3b3b85f8d9e800be8002569",class:"erx-machine__btn erx-machine__btn--details",onClick:r=>this.handleAction("details",r)},"â‹¯")))}};d.style=x();export{d as erx_machine_status};
