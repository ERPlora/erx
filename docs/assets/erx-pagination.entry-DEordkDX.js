import{r as l,c as g,h as t}from"./index-DLMfuaWg.js";const x=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-pagination{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.erx-pagination--disabled{opacity:0.6;pointer-events:none}.erx-pagination__total{font-size:14px;color:var(--erx-text-secondary, #6b7280)}.erx-pagination__range{font-size:14px;color:var(--erx-text-secondary, #6b7280)}.erx-pagination__size{display:flex;align-items:center;gap:8px}.erx-pagination__size-label{font-size:14px;color:var(--erx-text-secondary, #6b7280)}.erx-pagination__size-select{position:relative}.erx-pagination__size-btn{display:flex;align-items:center;gap:4px;padding:6px 12px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:6px;background:var(--erx-surface, #fff);font-size:14px;color:var(--erx-text, #111827);cursor:pointer}.erx-pagination__size-btn:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-pagination__chevron{font-size:10px;color:var(--erx-text-tertiary, #9ca3af)}.erx-pagination__size-dropdown{position:absolute;top:100%;left:0;margin-top:4px;background:var(--erx-surface, #fff);border:1px solid var(--erx-border-color, #e5e7eb);border-radius:6px;box-shadow:0 4px 12px rgba(0,0,0,0.1);z-index:10;min-width:60px}.erx-pagination__size-option{display:block;width:100%;padding:8px 12px;border:none;background:transparent;font-size:14px;color:var(--erx-text, #111827);text-align:left;cursor:pointer}.erx-pagination__size-option:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-pagination__size-option--active{color:var(--erx-color-primary, #667eea);font-weight:500}.erx-pagination__nav{display:flex;align-items:center;gap:4px}.erx-pagination__btn{min-width:36px;height:36px;padding:0 8px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:6px;background:var(--erx-surface, #fff);font-size:14px;color:var(--erx-text, #111827);cursor:pointer;transition:all 150ms ease}.erx-pagination__btn:hover:not(:disabled){background:var(--erx-surface-secondary, #f9fafb);border-color:var(--erx-color-primary, #667eea)}.erx-pagination__btn:disabled{opacity:0.4;cursor:not-allowed}.erx-pagination__btn--active{background:var(--erx-color-primary, #667eea);border-color:var(--erx-color-primary, #667eea);color:white}.erx-pagination__btn--active:hover:not(:disabled){background:var(--erx-color-primary-dark, #5a6fd6)}.erx-pagination__pages{display:flex;align-items:center;gap:4px}.erx-pagination__ellipsis{padding:0 8px;color:var(--erx-text-tertiary, #9ca3af)}.erx-pagination__current{padding:0 12px;font-size:14px;color:var(--erx-text, #111827)}.erx-pagination--compact .erx-pagination__btn{min-width:32px;height:32px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-pagination__btn,:host(.dark) .erx-pagination__btn{background:var(--erx-surface);border-color:var(--erx-border-color);color:var(--erx-text)}:host-context(.dark) .erx-pagination__size-btn,:host(.dark) .erx-pagination__size-btn{background:var(--erx-surface);border-color:var(--erx-border-color);color:var(--erx-text)}:host-context(.dark) .erx-pagination__size-dropdown,:host(.dark) .erx-pagination__size-dropdown{background:var(--erx-surface);border-color:var(--erx-border-color)}",c=class{constructor(a){l(this,a),this.erxPageChange=g(this,"erxPageChange"),this.erxPageSizeChange=g(this,"erxPageSizeChange")}page=1;total=0;perPage=10;maxVisible=5;showFirstLast=!0;showPrevNext=!0;showPageSize=!1;pageSizes=[10,25,50,100];showTotal=!1;showRange=!0;compact=!1;disabled=!1;erxPageChange;erxPageSizeChange;pageSizeOpen=!1;get totalPages(){return Math.ceil(this.total/this.perPage)}get visiblePages(){const a=[],e=this.totalPages,p=this.page,s=this.maxVisible;if(e<=s)for(let i=1;i<=e;i++)a.push(i);else{const i=Math.floor(s/2);let r=p-i,o=p+i;r<1&&(r=1,o=s),o>e&&(o=e,r=e-s+1),r>1&&(a.push(1),r>2&&a.push("..."));for(let n=r;n<=o;n++)n>1&&n<e&&a.push(n);o<e&&(o<e-1&&a.push("..."),a.push(e))}return a}get rangeStart(){return(this.page-1)*this.perPage+1}get rangeEnd(){return Math.min(this.page*this.perPage,this.total)}goToPage(a){this.disabled||a<1||a>this.totalPages||a===this.page||this.erxPageChange.emit({page:a,perPage:this.perPage,offset:(a-1)*this.perPage})}changePageSize(a){if(this.pageSizeOpen=!1,a===this.perPage)return;const e=Math.min(Math.ceil(this.rangeStart/a),Math.ceil(this.total/a));this.erxPageSizeChange.emit({perPage:a,page:e})}render(){const a=this.totalPages;return a<=1&&!this.showPageSize&&!this.showTotal?null:t("nav",{class:{"erx-pagination":!0,"erx-pagination--compact":this.compact,"erx-pagination--disabled":this.disabled},part:"container",role:"navigation","aria-label":"Pagination"},this.showTotal&&t("span",{class:"erx-pagination__total",part:"total"},this.total.toLocaleString()," items"),this.showPageSize&&t("div",{class:"erx-pagination__size",part:"size"},t("span",{class:"erx-pagination__size-label"},"Show"),t("div",{class:"erx-pagination__size-select"},t("button",{class:"erx-pagination__size-btn",onClick:()=>this.pageSizeOpen=!this.pageSizeOpen,disabled:this.disabled},this.perPage,t("span",{class:"erx-pagination__chevron"},"▼")),this.pageSizeOpen&&t("div",{class:"erx-pagination__size-dropdown"},this.pageSizes.map(e=>t("button",{class:{"erx-pagination__size-option":!0,"erx-pagination__size-option--active":e===this.perPage},onClick:()=>this.changePageSize(e)},e))))),this.showRange&&this.total>0&&t("span",{class:"erx-pagination__range",part:"range"},this.rangeStart,"-",this.rangeEnd," of ",this.total.toLocaleString()),t("div",{class:"erx-pagination__nav",part:"nav"},this.showFirstLast&&t("button",{class:"erx-pagination__btn erx-pagination__btn--first",onClick:()=>this.goToPage(1),disabled:this.disabled||this.page===1,"aria-label":"First page",part:"btn-first"},"⟨⟨"),this.showPrevNext&&t("button",{class:"erx-pagination__btn erx-pagination__btn--prev",onClick:()=>this.goToPage(this.page-1),disabled:this.disabled||this.page===1,"aria-label":"Previous page",part:"btn-prev"},"⟨"),!this.compact&&t("div",{class:"erx-pagination__pages",part:"pages"},this.visiblePages.map(e=>e==="..."?t("span",{class:"erx-pagination__ellipsis"},"..."):t("button",{class:{"erx-pagination__btn":!0,"erx-pagination__btn--page":!0,"erx-pagination__btn--active":e===this.page},onClick:()=>this.goToPage(e),disabled:this.disabled,"aria-current":e===this.page?"page":void 0,part:"btn-page"},e))),this.compact&&t("span",{class:"erx-pagination__current",part:"current"},this.page," / ",a),this.showPrevNext&&t("button",{class:"erx-pagination__btn erx-pagination__btn--next",onClick:()=>this.goToPage(this.page+1),disabled:this.disabled||this.page===a,"aria-label":"Next page",part:"btn-next"},"⟩"),this.showFirstLast&&t("button",{class:"erx-pagination__btn erx-pagination__btn--last",onClick:()=>this.goToPage(a),disabled:this.disabled||this.page===a,"aria-label":"Last page",part:"btn-last"},"⟩⟩")))}};c.style=x();export{c as erx_pagination};
