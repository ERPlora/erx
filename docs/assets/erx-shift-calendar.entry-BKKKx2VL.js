import{r as n,c as o,g as c,h as r}from"./index-DLMfuaWg.js";const l=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-shift{background:var(--erx-surface, #fff);border-radius:12px;border:1px solid var(--erx-border-color, #e5e7eb);overflow:hidden}.erx-shift--disabled{opacity:0.6;pointer-events:none}.erx-shift__header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--erx-border-color, #e5e7eb)}.erx-shift__nav-btn{width:32px;height:32px;border:none;border-radius:8px;background:var(--erx-surface-secondary, #f9fafb);color:var(--erx-text, #111827);font-size:18px;cursor:pointer}.erx-shift__nav-btn:hover{background:var(--erx-surface-tertiary, #f3f4f6)}.erx-shift__title{font-size:16px;font-weight:600;color:var(--erx-text, #111827)}.erx-shift__grid{overflow-x:auto}.erx-shift__row{display:flex;border-bottom:1px solid var(--erx-border-color, #e5e7eb)}.erx-shift__row:last-child{border-bottom:none}.erx-shift__row--header{background:var(--erx-surface-secondary, #f9fafb);font-weight:600;font-size:12px;text-transform:uppercase;color:var(--erx-text-secondary, #6b7280)}.erx-shift__cell{flex:1;min-width:100px;padding:12px 8px;border-right:1px solid var(--erx-border-color, #e5e7eb)}.erx-shift__cell:last-child{border-right:none}.erx-shift__cell--employee{min-width:150px;flex:none;font-weight:500;color:var(--erx-text, #111827)}.erx-shift__cell--day{text-align:center}.erx-shift__cell--today{background:rgba(102,126,234,0.05)}.erx-shift__shift{padding:4px 8px;margin:2px 0;border-radius:4px;font-size:11px;background:var(--shift-color, var(--erx-color-primary, #667eea));color:white;cursor:pointer;text-align:center}.erx-shift__shift:hover{opacity:0.9}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-shift,:host(.dark) .erx-shift{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-shift__title,:host(.dark) .erx-shift__title,:host-context(.dark) .erx-shift__cell--employee,:host(.dark) .erx-shift__cell--employee{color:var(--erx-text)}:host-context(.dark) .erx-shift__row--header,:host(.dark) .erx-shift__row--header{background:var(--erx-surface-secondary)}",h=class{constructor(e){n(this,e),this.erxSelect=o(this,"erxSelect"),this.erxDateChange=o(this,"erxDateChange")}get el(){return c(this)}shifts=[];employees=[];currentDate=new Date;view="week";locale="en-US";disabled=!1;weekDays=[];erxSelect;erxDateChange;handleDateChange(){this.generateWeekDays()}componentWillLoad(){this.generateWeekDays()}generateWeekDays(){const e=[],t=new Date(this.currentDate);t.setDate(t.getDate()-t.getDay());for(let s=0;s<7;s++){const a=new Date(t);a.setDate(t.getDate()+s),e.push(a)}this.weekDays=e}navigate(e){const t=new Date(this.currentDate);t.setDate(t.getDate()+e*7),this.currentDate=t,this.erxDateChange.emit({date:t})}getShiftsForDay(e,t){const s=t.toISOString().split("T")[0];return this.shifts.filter(a=>{const i=new Date(a.date).toISOString().split("T")[0];return a.employeeId===e&&i===s})}formatDayHeader(e){return e.toLocaleDateString(this.locale,{weekday:"short",day:"numeric"})}isToday(e){const t=new Date;return e.toDateString()===t.toDateString()}handleShiftClick(e,t){this.disabled||this.erxSelect.emit({shift:e,date:t})}getShiftColor(e){return e.color?e.color:{morning:"#10b981",afternoon:"#3b82f6",night:"#8b5cf6",custom:"#6b7280"}[e.type||"custom"]}render(){return r("div",{key:"8ffec3c61d663056d80fd37ea0661c29bac43aba",class:{"erx-shift":!0,"erx-shift--disabled":this.disabled},part:"container"},r("div",{key:"b389256467bdc60edf8c8e684e15718d93e8c81b",class:"erx-shift__header",part:"header"},r("button",{key:"67e9007170d55579032f7c34afd7b7d3bcce40a9",class:"erx-shift__nav-btn",onClick:()=>this.navigate(-1),type:"button"},"‹"),r("span",{key:"380401fc420a49d9a64e21ef166aa773d449e372",class:"erx-shift__title"},this.currentDate.toLocaleDateString(this.locale,{month:"long",year:"numeric"})),r("button",{key:"1d72958abe8fe2c396aa1e9ab126624b4ad81503",class:"erx-shift__nav-btn",onClick:()=>this.navigate(1),type:"button"},"›")),r("div",{key:"d3f8174331478893202b00e97af5edf5a6847b8c",class:"erx-shift__grid",part:"grid"},r("div",{key:"62c71456ccfa4768e28b420c1246cc6099751ff7",class:"erx-shift__row erx-shift__row--header"},r("div",{key:"806e290d3601149f5ba9f9638a390e6a6bee1b84",class:"erx-shift__cell erx-shift__cell--employee"},"Employee"),this.weekDays.map(e=>r("div",{class:{"erx-shift__cell":!0,"erx-shift__cell--day":!0,"erx-shift__cell--today":this.isToday(e)},key:e.toISOString()},this.formatDayHeader(e)))),this.employees.map(e=>r("div",{class:"erx-shift__row",key:e.id},r("div",{class:"erx-shift__cell erx-shift__cell--employee"},e.name),this.weekDays.map(t=>{const s=this.getShiftsForDay(e.id,t);return r("div",{class:{"erx-shift__cell":!0,"erx-shift__cell--today":this.isToday(t)},key:t.toISOString()},s.map(a=>r("div",{class:"erx-shift__shift",style:{"--shift-color":this.getShiftColor(a)},onClick:()=>this.handleShiftClick(a,t),key:a.id},a.startTime," - ",a.endTime)))})))))}static get watchers(){return{currentDate:[{handleDateChange:0}]}}};h.style=l();export{h as erx_shift_calendar};
