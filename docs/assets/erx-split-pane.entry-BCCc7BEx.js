import{r as n,c as s,g as l,h as r}from"./index-DLMfuaWg.js";const h=()=>":host{display:block;width:100%;height:100%}.erx-split{display:flex;width:100%;height:100%;overflow:hidden}.erx-split--horizontal{flex-direction:row}.erx-split--vertical{flex-direction:column}.erx-split--dragging{cursor:col-resize;-webkit-user-select:none;-moz-user-select:none;user-select:none}.erx-split--vertical.erx-split--dragging{cursor:row-resize}.erx-split--disabled .erx-split__gutter{cursor:default;pointer-events:none}.erx-split__pane{overflow:auto;transition:width 200ms ease, height 200ms ease}.erx-split--dragging .erx-split__pane{transition:none}.erx-split__pane--collapsed{overflow:hidden}.erx-split__pane--primary{flex-shrink:0}.erx-split__pane--secondary{flex:1;min-width:0;min-height:0}.erx-split__gutter{position:relative;flex-shrink:0;display:flex;align-items:center;justify-content:center;background:var(--erx-surface-secondary, #f9fafb);transition:background-color 150ms ease}.erx-split--horizontal .erx-split__gutter{cursor:col-resize}.erx-split--vertical .erx-split__gutter{cursor:row-resize}.erx-split__gutter:hover,.erx-split__gutter--dragging{background:var(--erx-surface-tertiary, #f3f4f6)}.erx-split__gutter:focus{outline:none;background:rgba(var(--erx-color-primary-rgb, 102, 126, 234), 0.1)}.erx-split__gutter:focus-visible{box-shadow:inset 0 0 0 2px var(--erx-color-primary, #667eea)}.erx-split__gutter-line{position:absolute;background:var(--erx-border-color, #e5e7eb);border-radius:2px;transition:background-color 150ms ease}.erx-split--horizontal .erx-split__gutter-line{width:4px;height:32px}.erx-split--vertical .erx-split__gutter-line{width:32px;height:4px}.erx-split__gutter:hover .erx-split__gutter-line,.erx-split__gutter--dragging .erx-split__gutter-line{background:var(--erx-color-primary, #667eea)}.erx-split__collapse-buttons{position:absolute;display:flex;gap:2px;z-index:1}.erx-split--horizontal .erx-split__collapse-buttons{flex-direction:column}.erx-split--vertical .erx-split__collapse-buttons{flex-direction:row}.erx-split__collapse-btn{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border:none;border-radius:4px;background:var(--erx-surface, #ffffff);color:var(--erx-text-secondary, #6b7280);font-size:12px;cursor:pointer;transition:all 150ms ease;box-shadow:0 1px 3px rgba(0, 0, 0, 0.1)}.erx-split__collapse-btn:hover{background:var(--erx-color-primary, #667eea);color:white}.erx-split__collapse-btn:focus{outline:none;box-shadow:0 0 0 2px rgba(var(--erx-color-primary-rgb, 102, 126, 234), 0.4)}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-split__gutter,:host(.dark) .erx-split__gutter{background:var(--erx-surface-secondary)}:host-context(.dark) .erx-split__gutter:hover,:host-context(.dark) .erx-split__gutter--dragging,:host(.dark) .erx-split__gutter:hover,:host(.dark) .erx-split__gutter--dragging{background:var(--erx-surface-tertiary)}:host-context(.dark) .erx-split__gutter-line,:host(.dark) .erx-split__gutter-line{background:var(--erx-border-color)}:host-context(.dark) .erx-split__collapse-btn,:host(.dark) .erx-split__collapse-btn{background:var(--erx-surface-tertiary);color:var(--erx-text-secondary)}",c=class{constructor(e){n(this,e),this.erxResize=s(this,"erxResize"),this.erxResizeStart=s(this,"erxResizeStart"),this.erxResizeEnd=s(this,"erxResizeEnd"),this.erxCollapse=s(this,"erxCollapse")}get el(){return l(this)}orientation="horizontal";primarySize="50%";primaryMinSize=100;primaryMaxSize;secondaryMinSize=100;collapsible=!1;persistKey;resetOnDoubleClick=!0;gutterSize=8;disabled=!1;isDragging=!1;currentSize=0;collapsed=null;containerSize=0;containerRef;initialSize="50%";startPos=0;startSize=0;erxResize;erxResizeStart;erxResizeEnd;erxCollapse;handlePrimarySizeChange(){this.updateSizeFromProp()}componentWillLoad(){if(this.initialSize=this.primarySize,this.persistKey){const e=localStorage.getItem(`erx-split-${this.persistKey}`);if(e){const t=JSON.parse(e);this.primarySize=t.size||this.primarySize,this.collapsed=t.collapsed||null}}}componentDidLoad(){this.updateContainerSize(),this.updateSizeFromProp(),window.addEventListener("resize",this.handleWindowResize)}disconnectedCallback(){window.removeEventListener("resize",this.handleWindowResize)}async collapsePrimary(){this.collapsed="primary",this.saveState(),this.erxCollapse.emit({collapsed:"primary"})}async collapseSecondary(){this.collapsed="secondary",this.saveState(),this.erxCollapse.emit({collapsed:"secondary"})}async expand(){this.collapsed=null,this.saveState(),this.erxCollapse.emit({collapsed:null})}async reset(){this.primarySize=this.initialSize,this.collapsed=null,this.updateSizeFromProp(),this.saveState()}async setSize(e){typeof e=="number"?this.currentSize=e:(this.primarySize=e,this.updateSizeFromProp()),this.saveState()}handleWindowResize=()=>{this.updateContainerSize()};updateContainerSize(){if(!this.containerRef)return;const e=this.containerRef.getBoundingClientRect();this.containerSize=this.orientation==="horizontal"?e.width:e.height}updateSizeFromProp(){if(this.updateContainerSize(),this.primarySize.endsWith("%")){const e=parseFloat(this.primarySize);this.currentSize=this.containerSize*e/100}else this.currentSize=parseFloat(this.primarySize)}handleMouseDown=e=>{this.disabled||(e.preventDefault(),this.isDragging=!0,this.startPos=this.orientation==="horizontal"?e.clientX:e.clientY,this.startSize=this.currentSize,this.erxResizeStart.emit(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))};handleTouchStart=e=>{if(this.disabled)return;this.isDragging=!0;const t=e.touches[0];this.startPos=this.orientation==="horizontal"?t.clientX:t.clientY,this.startSize=this.currentSize,this.erxResizeStart.emit(),document.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleTouchEnd)};handleMouseMove=e=>{if(!this.isDragging)return;e.preventDefault();const t=this.orientation==="horizontal"?e.clientX:e.clientY;this.updateSize(t)};handleTouchMove=e=>{if(!this.isDragging)return;e.preventDefault();const t=e.touches[0],i=this.orientation==="horizontal"?t.clientX:t.clientY;this.updateSize(i)};updateSize(e){const t=e-this.startPos;let i=this.startSize+t;i=Math.max(i,this.primaryMinSize),this.primaryMaxSize&&(i=Math.min(i,this.primaryMaxSize));const a=this.containerSize-this.secondaryMinSize-this.gutterSize;i=Math.min(i,a),this.currentSize=i;const o=i/this.containerSize*100;this.erxResize.emit({size:i,percentage:o})}handleMouseUp=()=>{this.finishDrag(),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)};handleTouchEnd=()=>{this.finishDrag(),document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchend",this.handleTouchEnd)};finishDrag(){this.isDragging=!1;const e=this.currentSize/this.containerSize*100;this.erxResizeEnd.emit({size:this.currentSize,percentage:e}),this.saveState()}handleDoubleClick=()=>{this.resetOnDoubleClick&&this.reset()};handleCollapseClick=e=>{this.collapsed===e?this.expand():e==="primary"?this.collapsePrimary():this.collapseSecondary()};saveState(){this.persistKey&&localStorage.setItem(`erx-split-${this.persistKey}`,JSON.stringify({size:`${this.currentSize/this.containerSize*100}%`,collapsed:this.collapsed}))}getPrimaryStyle(){return this.collapsed==="primary"?{[this.orientation==="horizontal"?"width":"height"]:"0px"}:this.collapsed==="secondary"?{[this.orientation==="horizontal"?"width":"height"]:"100%"}:{[this.orientation==="horizontal"?"width":"height"]:`${this.currentSize}px`}}getSecondaryStyle(){return this.collapsed==="secondary"?{[this.orientation==="horizontal"?"width":"height"]:"0px"}:this.collapsed==="primary"?{[this.orientation==="horizontal"?"width":"height"]:"100%"}:{flex:"1"}}render(){return r("div",{key:"9a3ec075c80e3cc736473d810e756496ca4d59e1",class:{"erx-split":!0,"erx-split--horizontal":this.orientation==="horizontal","erx-split--vertical":this.orientation==="vertical","erx-split--dragging":this.isDragging,"erx-split--disabled":this.disabled},ref:e=>this.containerRef=e,part:"container"},r("div",{key:"bad751ef7ba8b90c9fcaa37b9013a727d68ba8f8",class:{"erx-split__pane":!0,"erx-split__pane--primary":!0,"erx-split__pane--collapsed":this.collapsed==="primary"},style:this.getPrimaryStyle(),part:"primary"},r("slot",{key:"01acc456a12e8d94032f6608d39248a46b8e7c61",name:"primary"})),r("div",{key:"2cb97d2572e21b80a6bb6c504eb7f2d43f6bb563",class:{"erx-split__gutter":!0,"erx-split__gutter--dragging":this.isDragging},style:{[this.orientation==="horizontal"?"width":"height"]:`${this.gutterSize}px`},onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onDblClick:this.handleDoubleClick,part:"gutter",role:"separator","aria-orientation":this.orientation,"aria-valuenow":Math.round(this.currentSize/this.containerSize*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:this.disabled?-1:0},r("div",{key:"ebbcf4ee07e65286e9977ca651de340f99670136",class:"erx-split__gutter-line"}),this.collapsible&&r("div",{key:"bc5424a7d1da8fce811ab99c8ed67dd64a28acff",class:"erx-split__collapse-buttons"},r("button",{key:"d88006b4c78f5b12667af9984fe312613fefa30d",class:"erx-split__collapse-btn",onClick:()=>this.handleCollapseClick("primary"),"aria-label":this.collapsed==="primary"?"Expand primary pane":"Collapse primary pane"},this.orientation==="horizontal"?this.collapsed==="primary"?"›":"‹":this.collapsed==="primary"?"▼":"▲"),r("button",{key:"d9aad56d1bc0e138e39118f6d1a4ceb3e6e9d595",class:"erx-split__collapse-btn",onClick:()=>this.handleCollapseClick("secondary"),"aria-label":this.collapsed==="secondary"?"Expand secondary pane":"Collapse secondary pane"},this.orientation==="horizontal"?this.collapsed==="secondary"?"‹":"›":this.collapsed==="secondary"?"▲":"▼"))),r("div",{key:"381dc166f13148d04a3d9a4cf4d0db72a00f6d09",class:{"erx-split__pane":!0,"erx-split__pane--secondary":!0,"erx-split__pane--collapsed":this.collapsed==="secondary"},style:this.getSecondaryStyle(),part:"secondary"},r("slot",{key:"46c412bac3d88deeeb35486c16264a2eb0282f8d",name:"secondary"})))}static get watchers(){return{primarySize:[{handlePrimarySizeChange:0}]}}};c.style=h();export{c as erx_split_pane};
