import{r as i,c as s,h as e}from"./index-DLMfuaWg.js";const n=()=>":host{display:block;font-family:ui-monospace, SFMono-Regular, 'SF Mono', Menlo, monospace;font-size:13px}.erx-cb{background:var(--erx-surface-code, #1e1e1e);border-radius:8px;overflow:hidden}.erx-cb--wrap .erx-cb__text{white-space:pre-wrap;word-break:break-all}.erx-cb__header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:rgba(255,255,255,0.05);border-bottom:1px solid rgba(255,255,255,0.1)}.erx-cb__meta{display:flex;align-items:center;gap:8px}.erx-cb__filename{font-size:12px;color:rgba(255,255,255,0.7)}.erx-cb__lang{font-size:11px;padding:2px 8px;background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.6);border-radius:4px;text-transform:lowercase}.erx-cb__copy{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;background:rgba(255,255,255,0.1);border:none;color:rgba(255,255,255,0.7);font-size:12px;border-radius:4px;cursor:pointer;transition:all 150ms}.erx-cb__copy:hover{background:rgba(255,255,255,0.15);color:#fff}.erx-cb__copy svg{width:14px;height:14px}.erx-cb__content{overflow:auto}.erx-cb__pre{margin:0;padding:12px 0}.erx-cb__code{display:block}.erx-cb__line{display:flex;min-height:22px;line-height:22px;padding:0 12px}.erx-cb__line--highlighted{background:rgba(255, 255, 0, 0.1)}.erx-cb__ln{width:40px;min-width:40px;padding-right:16px;text-align:right;color:rgba(255,255,255,0.3);-webkit-user-select:none;-moz-user-select:none;user-select:none}.erx-cb__text{flex:1;color:#d4d4d4;white-space:pre}.erx-cb__code .keyword{color:#569cd6}.erx-cb__code .string{color:#ce9178}.erx-cb__code .comment{color:#6a9955}.erx-cb__code .number{color:#b5cea8}.erx-cb__code .function{color:#dcdcaa}:host-context(.light) .erx-cb,:host(.light) .erx-cb{background:var(--erx-surface-secondary, #f5f5f5)}:host-context(.light) .erx-cb__header,:host(.light) .erx-cb__header{background:rgba(0,0,0,0.03);border-color:rgba(0,0,0,0.1)}:host-context(.light) .erx-cb__filename,:host(.light) .erx-cb__filename{color:var(--erx-text-secondary)}:host-context(.light) .erx-cb__lang,:host(.light) .erx-cb__lang{background:rgba(0,0,0,0.05);color:var(--erx-text-tertiary)}:host-context(.light) .erx-cb__copy,:host(.light) .erx-cb__copy{background:rgba(0,0,0,0.05);color:var(--erx-text-secondary)}:host-context(.light) .erx-cb__copy:hover,:host(.light) .erx-cb__copy:hover{background:rgba(0,0,0,0.1);color:var(--erx-text)}:host-context(.light) .erx-cb__ln,:host(.light) .erx-cb__ln{color:var(--erx-text-tertiary)}:host-context(.light) .erx-cb__text,:host(.light) .erx-cb__text{color:var(--erx-text)}:host-context(.light) .erx-cb__line--highlighted,:host(.light) .erx-cb__line--highlighted{background:rgba(255, 255, 0, 0.2)}",l=class{constructor(r){i(this,r),this.erxCopy=s(this,"erxCopy")}code="";language;showLineNumbers=!0;showCopy=!0;showLanguage=!0;highlightLines;maxHeight;wordWrap=!1;fileName;copied=!1;erxCopy;get lines(){return this.code.split(`
`)}get highlightedLineNumbers(){if(!this.highlightLines)return new Set;if(Array.isArray(this.highlightLines))return new Set(this.highlightLines);const r=this.highlightLines.split(",").map(t=>parseInt(t.trim(),10)).filter(t=>!isNaN(t));return new Set(r)}async copyCode(){try{return await navigator.clipboard.writeText(this.code),this.copied=!0,this.erxCopy.emit({code:this.code,success:!0}),setTimeout(()=>{this.copied=!1},2e3),!0}catch{return this.erxCopy.emit({code:this.code,success:!1}),!1}}handleCopy=()=>{this.copyCode()};render(){const r={};return this.maxHeight&&(r.maxHeight=this.maxHeight),e("div",{key:"5d66196e993313549b1ba16957310951655c990b",class:{"erx-cb":!0,"erx-cb--wrap":this.wordWrap},part:"container"},(this.fileName||this.language||this.showCopy)&&e("div",{key:"e88e6f11d0e7532ca00391c9e4fd4e547443e727",class:"erx-cb__header",part:"header"},e("div",{key:"225d6225a146188f436c8365c55af184b420d0c0",class:"erx-cb__meta"},this.fileName&&e("span",{key:"24f30cade11ce36dbc86042a943ddc9e25e9e30f",class:"erx-cb__filename",part:"filename"},this.fileName),this.showLanguage&&this.language&&!this.fileName&&e("span",{key:"afc588674e7be89d9169597afdc7a1b81549101d",class:"erx-cb__lang",part:"language"},this.language)),this.showCopy&&e("button",{key:"e0278ded0e46554f19a4d437ec14ee2af141552a",type:"button",class:"erx-cb__copy",part:"copy",onClick:this.handleCopy,"aria-label":"Copy code"},this.copied?e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},e("path",{d:"M20 6L9 17l-5-5"})):e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),e("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})),e("span",{key:"21b6b5c09f8fc8e716a0c8fc5a4637682e70fe76"},this.copied?"Copied!":"Copy"))),e("div",{key:"e7572f790fa4624af2c65c21c180cc7614c050b4",class:"erx-cb__content",part:"content",style:r},e("pre",{key:"a476b518ec51d115b4b2982b7f860720bf807b69",class:"erx-cb__pre"},e("code",{key:"7818b58801dfa3bb09040b2b9d8dd8d554f2772c",class:`erx-cb__code language-${this.language||"text"}`},this.lines.map((t,o)=>{const c=o+1,a=this.highlightedLineNumbers.has(c);return e("div",{class:{"erx-cb__line":!0,"erx-cb__line--highlighted":a}},this.showLineNumbers&&e("span",{class:"erx-cb__ln"},c),e("span",{class:"erx-cb__text"},t||" "))})))))}};l.style=n();export{l as erx_code_block};
