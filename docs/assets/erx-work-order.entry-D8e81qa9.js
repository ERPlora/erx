import{r as n,c,h as e}from"./index-DLMfuaWg.js";const x=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-wo{padding:16px;background:var(--erx-surface, #fff);border-radius:12px;border:1px solid var(--erx-border-color, #e5e7eb);cursor:pointer;transition:all 200ms ease}.erx-wo:hover{border-color:var(--erx-color-primary, #667eea);box-shadow:0 4px 12px rgba(0, 0, 0, 0.1)}.erx-wo--draft{border-left:4px solid var(--erx-text-tertiary, #9ca3af)}.erx-wo--pending{border-left:4px solid var(--erx-color-warning, #f59e0b)}.erx-wo--in-progress{border-left:4px solid var(--erx-color-primary, #667eea)}.erx-wo--completed{border-left:4px solid var(--erx-color-success, #10b981)}.erx-wo--cancelled{border-left:4px solid var(--erx-color-danger, #ef4444)}.erx-wo--on-hold{border-left:4px solid var(--erx-text-secondary, #6b7280)}.erx-wo__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.erx-wo__number{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:600;color:var(--erx-text, #111827)}.erx-wo__status-icon{font-size:16px}.erx-wo__priority{display:flex;align-items:center;gap:4px}.erx-wo__priority-icon{font-size:12px}.erx-wo__priority-label{font-size:11px;font-weight:600;text-transform:uppercase;padding:2px 8px;border-radius:10px}.erx-wo__priority-label--low{background:rgba(59, 130, 246, 0.15);color:#3b82f6}.erx-wo__priority-label--medium{background:rgba(245, 158, 11, 0.15);color:var(--erx-color-warning, #f59e0b)}.erx-wo__priority-label--high{background:rgba(249, 115, 22, 0.15);color:#f97316}.erx-wo__priority-label--urgent{background:rgba(239, 68, 68, 0.15);color:var(--erx-color-danger, #ef4444)}.erx-wo__product{display:flex;align-items:center;gap:12px;margin-bottom:12px}.erx-wo__product-img{width:48px;height:48px;border-radius:8px;-o-object-fit:cover;object-fit:cover;background:var(--erx-surface-tertiary, #f3f4f6)}.erx-wo__product-info{flex:1;min-width:0}.erx-wo__product-name{display:block;font-size:14px;font-weight:500;color:var(--erx-text, #111827);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.erx-wo__product-sku{display:block;font-size:12px;color:var(--erx-text-tertiary, #9ca3af)}.erx-wo__quantity{margin-bottom:12px}.erx-wo__qty-label{font-size:11px;color:var(--erx-text-secondary, #6b7280);margin-bottom:4px}.erx-wo__qty-values{display:flex;align-items:baseline;gap:4px;margin-bottom:6px}.erx-wo__qty-produced{font-size:20px;font-weight:700;color:var(--erx-text, #111827)}.erx-wo__qty-sep{color:var(--erx-text-tertiary, #9ca3af)}.erx-wo__qty-total{font-size:14px;color:var(--erx-text-secondary, #6b7280)}.erx-wo__progress-bar{height:6px;background:var(--erx-surface-tertiary, #f3f4f6);border-radius:3px;overflow:hidden;margin-bottom:4px}.erx-wo__progress-fill{height:100%;background:var(--erx-color-primary, #667eea);border-radius:3px;transition:width 300ms ease}.erx-wo__progress-text{font-size:11px;color:var(--erx-text-secondary, #6b7280)}.erx-wo__schedule{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-wo__date-label{font-size:11px;color:var(--erx-text-tertiary, #9ca3af)}.erx-wo__date-value{font-size:12px;color:var(--erx-text-secondary, #6b7280)}.erx-wo__assignee{display:flex;align-items:center;gap:8px}.erx-wo__assignee-avatar{width:28px;height:28px;border-radius:50%;background:rgba(102, 126, 234, 0.1);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;color:var(--erx-color-primary, #667eea);overflow:hidden}.erx-wo__assignee-avatar img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.erx-wo__assignee-name{font-size:12px;color:var(--erx-text-secondary, #6b7280)}.erx-wo__section-title{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--erx-text-secondary, #6b7280);margin-bottom:8px}.erx-wo__materials{margin-top:12px;padding-top:12px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-wo__material{display:flex;align-items:center;gap:8px;margin-bottom:8px}.erx-wo__mat-name{flex:1;font-size:12px;color:var(--erx-text, #111827)}.erx-wo__mat-qty{font-size:11px;color:var(--erx-text-secondary, #6b7280);width:80px;text-align:right}.erx-wo__mat-bar{width:60px;height:4px;background:var(--erx-surface-tertiary, #f3f4f6);border-radius:2px;overflow:hidden}.erx-wo__mat-fill{height:100%;background:var(--erx-color-success, #10b981)}.erx-wo__operations{margin-top:12px;padding-top:12px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-wo__operation{display:flex;align-items:center;gap:8px;padding:6px 0}.erx-wo__operation--done{opacity:0.6}.erx-wo__op-check{font-size:14px;color:var(--erx-color-success, #10b981)}.erx-wo__op-name{flex:1;font-size:12px;color:var(--erx-text, #111827)}.erx-wo__op-center{font-size:11px;color:var(--erx-text-tertiary, #9ca3af);padding:2px 6px;background:var(--erx-surface-secondary, #f9fafb);border-radius:4px}.erx-wo__op-time{font-size:11px;color:var(--erx-text-secondary, #6b7280)}.erx-wo__actions{display:flex;gap:8px;margin-top:12px;padding-top:12px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-wo__btn{flex:1;height:36px;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;transition:all 150ms ease}.erx-wo__btn--start{background:var(--erx-color-primary, #667eea);color:white}.erx-wo__btn--pause{background:var(--erx-color-warning, #f59e0b);color:white}.erx-wo__btn--complete{background:var(--erx-color-success, #10b981);color:white}.erx-wo--compact{padding:12px}.erx-wo--compact .erx-wo__product-img{width:36px;height:36px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-wo,:host(.dark) .erx-wo{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-wo__number,:host(.dark) .erx-wo__number,:host-context(.dark) .erx-wo__product-name,:host(.dark) .erx-wo__product-name{color:var(--erx-text)}",l=class{constructor(r){n(this,r),this.erxAction=c(this,"erxAction"),this.erxSelect=c(this,"erxSelect")}order;showMaterials=!1;showOperations=!1;showActions=!0;compact=!1;erxAction;erxSelect;getStatusIcon(){return{draft:"ðŸ“",pending:"â³","in-progress":"ðŸ”„",completed:"âœ…",cancelled:"âŒ","on-hold":"â¸ï¸"}[this.order.status]||"ðŸ“‹"}getPriorityIcon(){return{low:"ðŸ”µ",medium:"ðŸŸ¡",high:"ðŸŸ ",urgent:"ðŸ”´"}[this.order.priority]||""}getProgress(){return this.order.quantity===0?0:Math.round(this.order.quantityProduced/this.order.quantity*100)}formatDate(r){return r?new Date(r).toLocaleDateString():"-"}handleAction(r,a){a.stopPropagation(),this.erxAction.emit({action:r,order:this.order})}handleSelect=()=>{this.erxSelect.emit(this.order)};render(){const{order:r,showMaterials:a,showOperations:i,showActions:d,compact:t}=this,s=this.getProgress();return e("div",{key:"ee5cd0f610de1750fd8c397a33b3ef27a8c626b5",class:{"erx-wo":!0,[`erx-wo--${r.status}`]:!0,[`erx-wo--priority-${r.priority}`]:!0,"erx-wo--compact":t},onClick:this.handleSelect,part:"container"},e("div",{key:"838b9b79bbc8a88fe85abcaa67b31f540d1cae94",class:"erx-wo__header",part:"header"},e("div",{key:"0665f8d74be4993dac8541912b207983d745594e",class:"erx-wo__number"},e("span",{key:"113f103ffd264f8d7aff52f14339fde1350bbdb9",class:"erx-wo__status-icon"},this.getStatusIcon()),e("span",{key:"25dea8726f79efcde8ba17f0b9ab17066221fce6"},r.number)),e("div",{key:"8f48cb294b7a463e0c9c3725d48e5e9cfefc036e",class:"erx-wo__priority"},e("span",{key:"7259e8cdb83ba31b6370347e9692f531dfed8c36",class:"erx-wo__priority-icon"},this.getPriorityIcon()),e("span",{key:"7be7ca178f7538921078b72bd32d369838e35e71",class:`erx-wo__priority-label erx-wo__priority-label--${r.priority}`},r.priority))),e("div",{key:"16c5e79f6e890e543c82f5cccff2db298159918b",class:"erx-wo__product",part:"product"},r.product.image&&e("img",{key:"d4ff27c0ee8d64c89db70dc1603eff854f360033",src:r.product.image,alt:r.product.name,class:"erx-wo__product-img"}),e("div",{key:"ba9acc18d0b6912e101a7a9aa2d103741ce63936",class:"erx-wo__product-info"},e("span",{key:"6e52d5a6ee9098253a1cae26a4968ac1a062eb3b",class:"erx-wo__product-name"},r.product.name),r.product.sku&&e("span",{key:"943bd6cfc9b6e0ef2e0e3f556d477c329c8ca123",class:"erx-wo__product-sku"},r.product.sku))),e("div",{key:"086cd1f34802fdc24611525db52af4e8c403c738",class:"erx-wo__quantity",part:"quantity"},e("div",{key:"73a268b90a1e0424ba1b22ecdf5a5dc619f35a64",class:"erx-wo__qty-label"},"Progress"),e("div",{key:"7e3e30a50aed326c40525275c5243b614da1b284",class:"erx-wo__qty-values"},e("span",{key:"b69c1fe893599436e54f97a9f4948376de42eee4",class:"erx-wo__qty-produced"},r.quantityProduced),e("span",{key:"a5ab5e10c2ce6773fb0c8f28fa3f0c4848623bfb",class:"erx-wo__qty-sep"},"/"),e("span",{key:"0de46c6dff2390edf8d2059d445355754135b1d8",class:"erx-wo__qty-total"},r.quantity," ",r.unit)),e("div",{key:"cb7b48f9f6b64a07241a271b30f123d8ea6007e7",class:"erx-wo__progress-bar"},e("div",{key:"ad5b03e36fa27cb6eea50ec4c747ff7568444c54",class:"erx-wo__progress-fill",style:{width:`${s}%`}})),e("span",{key:"17cd5cfde6e58ba96f8470cf664cf818ef4c31f6",class:"erx-wo__progress-text"},s,"%")),!t&&e("div",{key:"f504949eef4c8789a0d1aacf063e893813acc857",class:"erx-wo__schedule",part:"schedule"},e("div",{key:"c8caddf14abc7ceeb3b004bd6a49cc11291fbebe",class:"erx-wo__date"},e("span",{key:"25601020052ea0aca47dfb8bed1e4f64f923d55f",class:"erx-wo__date-label"},"Scheduled"),e("span",{key:"23aa465849146adbe7053c9b64aeaf8b5b7ba985",class:"erx-wo__date-value"},this.formatDate(r.scheduledStart)," - ",this.formatDate(r.scheduledEnd))),r.assignee&&e("div",{key:"d3ffa1e4481bc08676679e593d6b37e9b9bc1e84",class:"erx-wo__assignee"},r.assignee.avatar?e("img",{src:r.assignee.avatar,alt:"",class:"erx-wo__assignee-avatar"}):e("span",{class:"erx-wo__assignee-avatar"},r.assignee.name.charAt(0).toUpperCase()),e("span",{key:"74a38a9cd751887db28af28c52fedc29095d84d8",class:"erx-wo__assignee-name"},r.assignee.name))),a&&r.materials&&r.materials.length>0&&e("div",{key:"1d731fbbfe0b88ee26d541ce941170719777c1c0",class:"erx-wo__materials",part:"materials"},e("div",{key:"c919a1c77e9aebaeeb09d4e07a545efea0ff9b64",class:"erx-wo__section-title"},"Materials"),r.materials.map(o=>e("div",{class:"erx-wo__material",key:o.id},e("span",{class:"erx-wo__mat-name"},o.name),e("span",{class:"erx-wo__mat-qty"},o.consumed,"/",o.required," ",o.unit),e("div",{class:"erx-wo__mat-bar"},e("div",{class:"erx-wo__mat-fill",style:{width:`${Math.min(o.consumed/o.required*100,100)}%`}}))))),i&&r.operations&&r.operations.length>0&&e("div",{key:"641010255c128a5fe12950c705a28c02572a38f1",class:"erx-wo__operations",part:"operations"},e("div",{key:"44bcc8cdf548a551fc5aa26361971d2d7aaf31fe",class:"erx-wo__section-title"},"Operations"),r.operations.map(o=>e("div",{class:{"erx-wo__operation":!0,"erx-wo__operation--done":o.completed},key:o.id},e("span",{class:"erx-wo__op-check"},o.completed?"âœ“":"â—‹"),e("span",{class:"erx-wo__op-name"},o.name),o.workCenter&&e("span",{class:"erx-wo__op-center"},o.workCenter),e("span",{class:"erx-wo__op-time"},o.duration,"m")))),d&&r.status!=="completed"&&r.status!=="cancelled"&&e("div",{key:"053e187e61ec42fdba2e14063fa3a8c49d4a9953",class:"erx-wo__actions",part:"actions"},r.status==="pending"&&e("button",{key:"66c4a38e6067dc3bb165dcaa8671c278f836525c",class:"erx-wo__btn erx-wo__btn--start",onClick:o=>this.handleAction("start",o)},"Start"),r.status==="in-progress"&&e("button",{key:"adb560f870c1e7adf49d487fde7d6354ad86dc58",class:"erx-wo__btn erx-wo__btn--pause",onClick:o=>this.handleAction("pause",o)},"Pause"),r.status==="in-progress"&&e("button",{key:"4afbb7f5b03428328b88582ca0aa66447e96cb6d",class:"erx-wo__btn erx-wo__btn--complete",onClick:o=>this.handleAction("complete",o)},"Complete"),r.status==="on-hold"&&e("button",{key:"eb1f276dc03e5ff73d413c2a7773ff0fca57c701",class:"erx-wo__btn erx-wo__btn--start",onClick:o=>this.handleAction("start",o)},"Resume")))}};l.style=x();export{l as erx_work_order};
