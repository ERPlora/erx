import{r as i,c as r,h as e}from"./index-DLMfuaWg.js";const l=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-gallery__grid{display:grid;grid-template-columns:repeat(var(--columns), 1fr);gap:var(--gap)}.erx-gallery__grid--masonry{display:block;-moz-column-count:var(--columns);column-count:var(--columns);-moz-column-gap:var(--gap);column-gap:var(--gap)}.erx-gallery__grid--masonry .erx-gallery__item{-moz-column-break-inside:avoid;break-inside:avoid;margin-bottom:var(--gap)}.erx-gallery__item{position:relative;aspect-ratio:var(--aspect-ratio);overflow:hidden;border-radius:8px;cursor:pointer;background:var(--erx-surface-secondary, #f9fafb)}.erx-gallery__grid--masonry .erx-gallery__item{aspect-ratio:auto}.erx-gallery__item::before{content:'';position:absolute;inset:0;background:linear-gradient(to top, rgba(0,0,0,0.5) 0%, transparent 50%);opacity:0;transition:opacity 200ms ease;z-index:1}.erx-gallery__item:hover::before{opacity:1}.erx-gallery__image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:transform 200ms ease}.erx-gallery__item:hover .erx-gallery__image{transform:scale(1.05)}.erx-gallery__caption{position:absolute;bottom:0;left:0;right:0;padding:12px;color:white;font-size:14px;font-weight:500;z-index:2;opacity:0;transform:translateY(8px);transition:all 200ms ease}.erx-gallery__item:hover .erx-gallery__caption{opacity:1;transform:translateY(0)}.erx-gallery__lightbox{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center}.erx-gallery__lightbox-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.95)}.erx-gallery__lightbox-content{position:relative;max-width:90vw;max-height:90vh;display:flex;flex-direction:column;align-items:center}.erx-gallery__lightbox-image{max-width:100%;max-height:80vh;-o-object-fit:contain;object-fit:contain;border-radius:8px}.erx-gallery__lightbox-nav{position:fixed;top:50%;transform:translateY(-50%);width:48px;height:48px;border:none;background:rgba(255,255,255,0.1);color:white;font-size:32px;cursor:pointer;border-radius:50%;transition:background 150ms ease}.erx-gallery__lightbox-nav:hover{background:rgba(255,255,255,0.2)}.erx-gallery__lightbox-nav--prev{left:16px}.erx-gallery__lightbox-nav--next{right:16px}.erx-gallery__lightbox-close{position:fixed;top:16px;right:16px;width:40px;height:40px;border:none;background:rgba(255,255,255,0.1);color:white;font-size:18px;cursor:pointer;border-radius:50%;transition:background 150ms ease}.erx-gallery__lightbox-close:hover{background:rgba(255,255,255,0.2)}.erx-gallery__lightbox-info{margin-top:16px;text-align:center;color:white}.erx-gallery__lightbox-info h3{margin:0 0 4px 0;font-size:18px;font-weight:600}.erx-gallery__lightbox-info p{margin:0 0 8px 0;font-size:14px;opacity:0.8}.erx-gallery__lightbox-counter{font-size:14px;opacity:0.6}",o=class{constructor(t){i(this,t),this.erxImageClick=r(this,"erxImageClick")}images=[];layout="grid";columns=3;gap=8;aspectRatio="1";lightbox=!0;lazyLoad=!0;erxImageClick;lightboxOpen=!1;lightboxIndex=0;loadedImages=new Set;handleImageClick(t,a){this.erxImageClick.emit({image:t,index:a}),this.lightbox&&(this.lightboxIndex=a,this.lightboxOpen=!0)}handleImageLoad(t){this.loadedImages=new Set([...this.loadedImages,t])}closeLightbox=()=>{this.lightboxOpen=!1};prevImage=()=>{this.lightboxIndex=this.lightboxIndex===0?this.images.length-1:this.lightboxIndex-1};nextImage=()=>{this.lightboxIndex=(this.lightboxIndex+1)%this.images.length};render(){return e("div",{key:"f2388acf7b48cea8f0dc34b3f61356109270b69a",class:"erx-gallery",part:"container"},e("div",{key:"27955a740d5d3bdcd63000e6052cd7d5f255a458",class:`erx-gallery__grid erx-gallery__grid--${this.layout}`,style:{"--columns":String(this.columns),"--gap":`${this.gap}px`,"--aspect-ratio":this.aspectRatio},part:"grid"},this.images.map((t,a)=>e("div",{class:{"erx-gallery__item":!0,"erx-gallery__item--loaded":this.loadedImages.has(t.id)},onClick:()=>this.handleImageClick(t,a),part:"item"},e("img",{src:t.thumbnail||t.src,alt:t.alt||"",loading:this.lazyLoad?"lazy":"eager",onLoad:()=>this.handleImageLoad(t.id),class:"erx-gallery__image",part:"image"}),t.title&&e("div",{class:"erx-gallery__caption",part:"caption"},t.title)))),this.lightbox&&this.lightboxOpen&&e("div",{key:"e562c373e427930ca147ff7e1bad25cb20a79054",class:"erx-gallery__lightbox",part:"lightbox"},e("div",{key:"3256649ca10cb67f55289552dbc2df1bb0f11394",class:"erx-gallery__lightbox-backdrop",onClick:this.closeLightbox}),e("div",{key:"94e59e0aa4b13e9cfe1f8f9ffeb82153e697e7b8",class:"erx-gallery__lightbox-content"},e("img",{key:"99e3a500c6bab6237c322879b8b3664135167f39",src:this.images[this.lightboxIndex]?.src,alt:this.images[this.lightboxIndex]?.alt||"",class:"erx-gallery__lightbox-image"}),this.images.length>1&&e("button",{key:"bfe12cfe77787aa3cc14e4f65b5e8a4b8c5ad869",class:"erx-gallery__lightbox-nav erx-gallery__lightbox-nav--prev",onClick:this.prevImage},"‹"),this.images.length>1&&e("button",{key:"a4e9b2e97b1ecc3271b067f1ef7be24d1534604a",class:"erx-gallery__lightbox-nav erx-gallery__lightbox-nav--next",onClick:this.nextImage},"›"),e("button",{key:"23db9e173321b20bdd39681859d73ff4a7b47f27",class:"erx-gallery__lightbox-close",onClick:this.closeLightbox},"✕"),e("div",{key:"d14395806318d859ef40767adb2868ce560cb2ab",class:"erx-gallery__lightbox-info"},this.images[this.lightboxIndex]?.title&&e("h3",{key:"381067d1ab32d1f7f7f051b88fc83fcdfda89ead"},this.images[this.lightboxIndex].title),this.images[this.lightboxIndex]?.description&&e("p",{key:"08e0790600344edebcce1798b34b803a8b9068fd"},this.images[this.lightboxIndex].description),e("span",{key:"704f0206d1621f8025a8e20aad624d577ee435f6",class:"erx-gallery__lightbox-counter"},this.lightboxIndex+1," / ",this.images.length)))))}};o.style=l();export{o as erx_image_gallery};
