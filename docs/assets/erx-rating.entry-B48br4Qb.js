import{r as l,c as n,h as a,H as o}from"./index-DLMfuaWg.js";const c=()=>':host{display:inline-block;--erx-rating-color-primary:var(--erx-color-primary, #667eea);--erx-rating-color-secondary:var(--erx-color-secondary, #6b7280);--erx-rating-color-warning:#f59e0b;--erx-rating-color-success:#10b981;--erx-rating-color-danger:#ef4444;--erx-rating-color-empty:#e5e7eb;--erx-rating-size-sm:16px;--erx-rating-size-md:24px;--erx-rating-size-lg:32px}:host([size="sm"]){--erx-rating-size:var(--erx-rating-size-sm);--erx-rating-gap:2px;--erx-rating-label-size:0.75rem}:host([size="md"]){--erx-rating-size:var(--erx-rating-size-md);--erx-rating-gap:4px;--erx-rating-label-size:0.875rem}:host([size="lg"]){--erx-rating-size:var(--erx-rating-size-lg);--erx-rating-gap:6px;--erx-rating-label-size:1rem}:host([color="primary"]){--erx-rating-color:var(--erx-rating-color-primary)}:host([color="secondary"]){--erx-rating-color:var(--erx-rating-color-secondary)}:host([color="warning"]){--erx-rating-color:var(--erx-rating-color-warning)}:host([color="success"]){--erx-rating-color:var(--erx-rating-color-success)}:host([color="danger"]){--erx-rating-color:var(--erx-rating-color-danger)}:host([disabled]){opacity:0.5;pointer-events:none}.erx-rating{display:inline-flex;align-items:center;gap:8px}.erx-rating__stars{display:inline-flex;align-items:center;gap:var(--erx-rating-gap, 4px)}.erx-rating__star-container{position:relative;display:inline-flex;align-items:center}.erx-rating__star{position:relative;width:var(--erx-rating-size, 24px);height:var(--erx-rating-size, 24px);cursor:pointer;transition:transform 0.2s ease;outline:none}.erx-rating__star:focus-visible{transform:scale(1.2)}.erx-rating__star--half{position:absolute;left:0;top:0;width:50%;overflow:hidden;z-index:2}.erx-rating__star--full{position:relative;z-index:1}:host(:not(.erx-rating--readonly):not(.erx-rating--disabled)) .erx-rating__star:hover{transform:scale(1.15)}:host(.erx-rating--readonly) .erx-rating__star,:host(.erx-rating--disabled) .erx-rating__star{cursor:default;pointer-events:none}.erx-rating__icon{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.erx-rating__icon svg{width:100%;height:100%;display:block}.erx-rating__icon--empty{color:var(--erx-rating-color-empty);z-index:1}.erx-rating__icon--filled{color:var(--erx-rating-color, var(--erx-rating-color-warning));z-index:2;transition:clip-path 0.2s ease}.erx-rating__star--active .erx-rating__icon--filled{animation:star-fill 0.3s ease}@keyframes star-fill{0%{transform:scale(0.8);opacity:0.8}50%{transform:scale(1.2)}100%{transform:scale(1);opacity:1}}.erx-rating__label{font-size:var(--erx-rating-label-size, 0.875rem);color:var(--erx-text-muted, #6b7280);white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media (prefers-color-scheme: dark){:host{--erx-rating-color-empty:#374151}}:host-context(.dark){--erx-rating-color-empty:#374151}:host(.dark){--erx-rating-color-empty:#374151}',h=class{constructor(r){l(this,r),this.erxChange=n(this,"erxChange"),this.erxHover=n(this,"erxHover")}value=0;max=5;allowHalf=!1;readonly=!1;disabled=!1;size="md";color="warning";showLabel=!1;label="";showValue=!1;reviewCount=0;icon="star";erxChange;erxHover;hoverValue=0;handleClick(r,e=!1){if(this.readonly||this.disabled)return;const t=this.allowHalf&&e?r+.5:r+1;this.value===t?this.value=0:this.value=t,this.erxChange.emit({value:this.value,maxValue:this.max})}handleMouseEnter(r,e=!1){this.readonly||this.disabled||(this.hoverValue=this.allowHalf&&e?r+.5:r+1,this.erxHover.emit(this.hoverValue))}handleMouseLeave(){this.readonly||this.disabled||(this.hoverValue=0)}handleKeyDown(r,e){if(!(this.readonly||this.disabled))switch(r.key){case"Enter":case" ":r.preventDefault(),this.handleClick(e);break;case"ArrowRight":case"ArrowUp":r.preventDefault(),e<this.max-1&&r.target.parentElement?.nextElementSibling?.querySelector(".erx-rating__star")?.focus();break;case"ArrowLeft":case"ArrowDown":r.preventDefault(),e>0&&r.target.parentElement?.previousElementSibling?.querySelector(".erx-rating__star")?.focus();break}}getStarFillPercentage(r){const e=this.hoverValue||this.value;return e>=r+1?100:e>r?(e-r)*100:0}renderIcon(){switch(this.icon){case"heart":return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},a("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}));case"circle":return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},a("circle",{cx:"12",cy:"12",r:"10"}));case"thumb":return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},a("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}));default:return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},a("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}))}}getLabel(){return this.label?this.label:this.showLabel&&this.reviewCount>0?`${this.value} out of ${this.max} (${this.reviewCount} ${this.reviewCount===1?"review":"reviews"})`:this.showValue?`${this.value}`:""}render(){const r=Array.from({length:this.max},(e,t)=>t);return a(o,{key:"f011540dc69f2d9744ef1b969ebc39fac39f0b60",class:{"erx-rating--readonly":this.readonly,"erx-rating--disabled":this.disabled},role:"slider","aria-label":"Rating","aria-valuenow":this.value,"aria-valuemin":0,"aria-valuemax":this.max,"aria-readonly":this.readonly?"true":"false","aria-disabled":this.disabled?"true":"false"},a("div",{key:"cd71e95b26030010c903ac80f04fd01f6cdf5a7c",class:"erx-rating",part:"container"},a("div",{key:"47cd396c3f3797360b309928d2302a9f09a86b92",class:"erx-rating__stars",part:"stars",onMouseLeave:()=>this.handleMouseLeave()},r.map(e=>{const t=this.getStarFillPercentage(e),s=t>0;return a("div",{key:e,class:"erx-rating__star-container",part:"star-container"},this.allowHalf&&a("div",{class:{"erx-rating__star":!0,"erx-rating__star--half":!0,"erx-rating__star--active":this.getStarFillPercentage(e)>=50},part:"star star-half",tabIndex:this.readonly||this.disabled?-1:0,role:"button","aria-label":`Rate ${e+.5} out of ${this.max}`,onClick:()=>this.handleClick(e,!0),onMouseEnter:()=>this.handleMouseEnter(e,!0),onKeyDown:i=>this.handleKeyDown(i,e)},a("div",{class:"erx-rating__icon erx-rating__icon--empty"},this.renderIcon()),a("div",{class:"erx-rating__icon erx-rating__icon--filled",style:{clipPath:"inset(0 50% 0 0)"}},this.renderIcon())),a("div",{class:{"erx-rating__star":!0,"erx-rating__star--full":!0,"erx-rating__star--active":s},part:`star ${s?"star-active":"star-inactive"}`,tabIndex:this.readonly||this.disabled?-1:0,role:"button","aria-label":`Rate ${e+1} out of ${this.max}`,onClick:()=>this.handleClick(e,!1),onMouseEnter:()=>this.handleMouseEnter(e,!1),onKeyDown:i=>this.handleKeyDown(i,e)},a("div",{class:"erx-rating__icon erx-rating__icon--empty"},this.renderIcon()),a("div",{class:"erx-rating__icon erx-rating__icon--filled",style:{clipPath:`inset(0 ${100-t}% 0 0)`}},this.renderIcon())))})),(this.showLabel||this.showValue||this.label)&&a("div",{key:"5f47d7e9222d5d2cb9bd933eebb80a7ca0d48f80",class:"erx-rating__label",part:"label"},this.getLabel())))}};h.style=c();export{h as erx_rating};
