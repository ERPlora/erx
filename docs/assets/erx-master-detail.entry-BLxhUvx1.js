import{r as x,c as n,g as m,h as r}from"./index-DLMfuaWg.js";const h=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;height:100%}.erx-md{display:flex;height:100%;background:var(--erx-surface, #fff);border-radius:12px;border:1px solid var(--erx-border-color, #e5e7eb);overflow:hidden}.erx-md--right{flex-direction:row-reverse}.erx-md--resizing{-webkit-user-select:none;-moz-user-select:none;user-select:none}.erx-md__master{display:flex;flex-direction:column;border-right:1px solid var(--erx-border-color, #e5e7eb);background:var(--erx-surface-secondary, #f9fafb);transition:width 200ms ease;position:relative}.erx-md--right .erx-md__master{border-right:none;border-left:1px solid var(--erx-border-color, #e5e7eb)}.erx-md--collapsed .erx-md__master{justify-content:flex-start}.erx-md__collapse-btn{width:32px;height:32px;border:none;background:transparent;color:var(--erx-text-secondary, #6b7280);cursor:pointer;font-size:12px;margin:8px}.erx-md__collapse-btn:hover{color:var(--erx-text, #111827)}.erx-md__list{flex:1;overflow-y:auto}.erx-md__item{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background 150ms ease;border-bottom:1px solid var(--erx-border-color, #e5e7eb)}.erx-md__item:hover{background:var(--erx-surface, #fff)}.erx-md__item--selected{background:var(--erx-surface, #fff);border-left:3px solid var(--erx-color-primary, #667eea)}.erx-md__item-avatar{width:40px;height:40px;border-radius:50%;-o-object-fit:cover;object-fit:cover;flex-shrink:0}.erx-md__item-icon{font-size:20px;flex-shrink:0}.erx-md__item-content{flex:1;min-width:0}.erx-md__item-title{display:block;font-size:14px;font-weight:500;color:var(--erx-text, #111827);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.erx-md__item-subtitle{display:block;font-size:12px;color:var(--erx-text-tertiary, #9ca3af);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.erx-md__item-badge{padding:2px 8px;border-radius:10px;background:var(--erx-color-primary, #667eea);color:white;font-size:11px;font-weight:600;flex-shrink:0}.erx-md__divider{width:4px;background:var(--erx-border-color, #e5e7eb);cursor:col-resize;transition:background 150ms ease}.erx-md__divider:hover{background:var(--erx-color-primary, #667eea)}.erx-md__detail{flex:1;overflow:auto;padding:16px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-md,:host(.dark) .erx-md{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-md__master,:host(.dark) .erx-md__master{background:var(--erx-surface-secondary)}:host-context(.dark) .erx-md__item-title,:host(.dark) .erx-md__item-title{color:var(--erx-text)}",f=class{constructor(t){x(this,t),this.erxSelect=n(this,"erxSelect"),this.erxResize=n(this,"erxResize")}get el(){return m(this)}items=[];config={};selectedId;currentWidth=300;isCollapsed=!1;isResizing=!1;erxSelect;erxResize;componentWillLoad(){if(this.config.masterWidth){const t=this.config.masterWidth.match(/(\d+)/);t&&(this.currentWidth=parseInt(t[1]))}}handleItemClick(t){const s=this.items.find(o=>o.id===this.selectedId);this.erxSelect.emit({item:t,previousItem:s})}handleResizeStart=t=>{if(!this.config.resizable)return;t.preventDefault(),this.isResizing=!0;const s=t.clientX,o=this.currentWidth,a=this.config.position==="right",e=l=>{const c=a?s-l.clientX:l.clientX-s;let i=o+c;this.config.minMasterWidth&&(i=Math.max(i,this.config.minMasterWidth)),this.config.maxMasterWidth&&(i=Math.min(i,this.config.maxMasterWidth)),this.currentWidth=i,this.erxResize.emit({width:i})},d=()=>{this.isResizing=!1,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",d)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",d)};toggleCollapse=()=>{this.config.collapsible&&(this.isCollapsed=!this.isCollapsed)};render(){const{items:t,config:s,selectedId:o}=this,a=s.position||"left";return r("div",{key:"3de6cd3c06d8e4ae089f35369149768ffb07ce94",class:{"erx-md":!0,[`erx-md--${a}`]:!0,"erx-md--collapsed":this.isCollapsed,"erx-md--resizing":this.isResizing},part:"container"},r("div",{key:"7f97a501232df45b9c0a4d0dee6ad817004191fd",class:"erx-md__master",style:{width:this.isCollapsed?"48px":`${this.currentWidth}px`},part:"master"},s.collapsible&&r("button",{key:"5433f26595c254755e5dbdda88152f7ee91ba732",class:"erx-md__collapse-btn",onClick:this.toggleCollapse},this.isCollapsed?a==="left"?"▶":"◀":a==="left"?"◀":"▶"),!this.isCollapsed&&r("div",{key:"0690b80926711b639bbca069a5eee2df771ce525",class:"erx-md__list",part:"list"},t.map(e=>r("div",{class:{"erx-md__item":!0,"erx-md__item--selected":e.id===o},key:e.id,onClick:()=>this.handleItemClick(e)},e.avatar&&r("img",{src:e.avatar,alt:"",class:"erx-md__item-avatar"}),e.icon&&!e.avatar&&r("span",{class:"erx-md__item-icon"},e.icon),r("div",{class:"erx-md__item-content"},r("span",{class:"erx-md__item-title"},e.title),e.subtitle&&r("span",{class:"erx-md__item-subtitle"},e.subtitle)),e.badge!==void 0&&r("span",{class:"erx-md__item-badge"},e.badge))))),s.resizable&&s.showDivider!==!1&&!this.isCollapsed&&r("div",{key:"e874f379f25b07d79997efb742587954ae410e2f",class:"erx-md__divider",onMouseDown:this.handleResizeStart,part:"divider"}),r("div",{key:"9a31e2f0f1dd20d18c6d13d31346cd0af5bc7003",class:"erx-md__detail",part:"detail"},r("slot",{key:"321a8c1009ba4bb202673ae29203db7a2c7355cd"})))}};f.style=h();export{f as erx_master_detail};
