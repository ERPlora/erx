import{r as x,c as h,h as t}from"./index-DLMfuaWg.js";const g=[{id:"today",label:"Today",range:{start:new Date,end:new Date}},{id:"yesterday",label:"Yesterday",range:{start:new Date(Date.now()-864e5),end:new Date(Date.now()-864e5)}},{id:"last7",label:"Last 7 days",range:{start:new Date(Date.now()-7*864e5),end:new Date}},{id:"last30",label:"Last 30 days",range:{start:new Date(Date.now()-30*864e5),end:new Date}},{id:"thisMonth",label:"This month",range:{start:new Date(new Date().getFullYear(),new Date().getMonth(),1),end:new Date}},{id:"lastMonth",label:"Last month",range:{start:new Date(new Date().getFullYear(),new Date().getMonth()-1,1),end:new Date(new Date().getFullYear(),new Date().getMonth(),0)}}],_=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-drp{position:relative}.erx-drp--disabled{opacity:0.6;pointer-events:none}.erx-drp__label{display:block;font-size:13px;font-weight:500;color:var(--erx-text-secondary, #6b7280);margin-bottom:6px}.erx-drp__trigger{display:flex;align-items:center;justify-content:space-between;height:44px;padding:0 12px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:8px;background:var(--erx-surface, #fff);cursor:pointer;transition:all 150ms ease}.erx-drp__trigger:hover{border-color:var(--erx-color-primary, #667eea)}.erx-drp--open .erx-drp__trigger{border-color:var(--erx-color-primary, #667eea);box-shadow:0 0 0 3px rgba(102,126,234,0.1)}.erx-drp__value{font-size:14px;color:var(--erx-text, #111827)}.erx-drp__icon{font-size:16px}.erx-drp__dropdown{position:absolute;top:100%;left:0;margin-top:4px;background:var(--erx-surface, #fff);border:1px solid var(--erx-border-color, #e5e7eb);border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.15);z-index:100;display:flex;flex-direction:column}.erx-drp__presets{padding:12px;border-bottom:1px solid var(--erx-border-color, #e5e7eb);display:flex;flex-wrap:wrap;gap:6px}.erx-drp__preset{height:28px;padding:0 10px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:14px;background:var(--erx-surface, #fff);color:var(--erx-text-secondary, #6b7280);font-size:12px;cursor:pointer;transition:all 150ms ease}.erx-drp__preset:hover{border-color:var(--erx-color-primary, #667eea);color:var(--erx-color-primary, #667eea)}.erx-drp__calendars{display:flex;padding:12px;gap:16px}.erx-drp__calendar{width:280px}.erx-drp__month-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.erx-drp__nav-btn{width:28px;height:28px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:6px;background:var(--erx-surface, #fff);color:var(--erx-text, #111827);font-size:14px;cursor:pointer}.erx-drp__nav-btn:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-drp__month-title{font-size:14px;font-weight:600;color:var(--erx-text, #111827)}.erx-drp__weekdays{display:grid;grid-template-columns:repeat(7, 1fr);margin-bottom:4px}.erx-drp__weekday{text-align:center;font-size:11px;font-weight:600;color:var(--erx-text-tertiary, #9ca3af);padding:4px 0}.erx-drp__week{display:grid;grid-template-columns:repeat(7, 1fr)}.erx-drp__day{height:36px;display:flex;align-items:center;justify-content:center;font-size:13px;color:var(--erx-text, #111827);cursor:pointer;border-radius:0;transition:all 150ms ease}.erx-drp__day:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-drp__day--other-month{color:var(--erx-text-tertiary, #9ca3af)}.erx-drp__day--today{font-weight:600;color:var(--erx-color-primary, #667eea)}.erx-drp__day--in-range{background:rgba(102,126,234,0.1)}.erx-drp__day--range-start{background:var(--erx-color-primary, #667eea);color:white;border-radius:6px 0 0 6px}.erx-drp__day--range-end{background:var(--erx-color-primary, #667eea);color:white;border-radius:0 6px 6px 0}.erx-drp__day--range-start.erx-drp__day--range-end{border-radius:6px}.erx-drp__day--hover-range{background:rgba(102,126,234,0.05)}.erx-drp__day--disabled{opacity:0.3;cursor:not-allowed}.erx-drp__footer{display:flex;justify-content:flex-end;gap:8px;padding:12px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-drp__clear-btn,.erx-drp__apply-btn{height:36px;padding:0 16px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer}.erx-drp__clear-btn{border:1px solid var(--erx-border-color, #e5e7eb);background:var(--erx-surface, #fff);color:var(--erx-text-secondary, #6b7280)}.erx-drp__apply-btn{border:none;background:var(--erx-color-primary, #667eea);color:white}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-drp__trigger,:host(.dark) .erx-drp__trigger,:host-context(.dark) .erx-drp__dropdown,:host(.dark) .erx-drp__dropdown{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-drp__value,:host(.dark) .erx-drp__value,:host-context(.dark) .erx-drp__month-title,:host(.dark) .erx-drp__month-title{color:var(--erx-text)}",f=class{constructor(e){x(this,e),this.erxChange=h(this,"erxChange")}range;config={};placeholder="Select date range";disabled=!1;label;isOpen=!1;currentMonth=new Date;hoverDate=null;selectedRange={start:null,end:null};selectingEnd=!1;erxChange;componentWillLoad(){this.range&&(this.selectedRange={...this.range})}async clear(){this.selectedRange={start:null,end:null},this.selectingEnd=!1,this.erxChange.emit({start:null,end:null})}async setRange(e){this.selectedRange={...e},this.erxChange.emit({start:e.start,end:e.end})}get locale(){return this.config.locale||"en-US"}get firstDayOfWeek(){return this.config.firstDayOfWeek??0}get presets(){return this.config.presets||g}getMonthDays(e){const r=e.getFullYear(),n=e.getMonth(),s=new Date(r,n,1),o=new Date(r,n+1,0),d=new Date(s),a=(s.getDay()-this.firstDayOfWeek+7)%7;d.setDate(d.getDate()-a);const l=[];let i=[];for(let c=0;c<42;c++){const p=new Date(d);if(p.setDate(d.getDate()+c),i.push(p),i.length===7&&(l.push(i),i=[],p>o&&l.length>=5))break}return l}getWeekDayNames(){const e=[],r=new Date(2024,0,this.firstDayOfWeek);for(let n=0;n<7;n++){const s=new Date(r);s.setDate(r.getDate()+n),e.push(s.toLocaleDateString(this.locale,{weekday:"short"}))}return e}isToday(e){return e.toDateString()===new Date().toDateString()}isCurrentMonth(e,r){return e.getMonth()===r.getMonth()}isInRange(e){const{start:r,end:n}=this.selectedRange;return!r||!n?!1:e>=r&&e<=n}isRangeStart(e){return this.selectedRange.start?.toDateString()===e.toDateString()}isRangeEnd(e){return this.selectedRange.end?.toDateString()===e.toDateString()}isInHoverRange(e){return!this.selectingEnd||!this.selectedRange.start||!this.hoverDate?!1:e>this.selectedRange.start&&e<=this.hoverDate}isDisabled(e){return!!(this.config.minDate&&e<new Date(this.config.minDate)||this.config.maxDate&&e>new Date(this.config.maxDate))}handleDateClick(e){this.isDisabled(e)||(this.selectingEnd?(e<this.selectedRange.start?this.selectedRange={start:e,end:this.selectedRange.start}:this.selectedRange={...this.selectedRange,end:e},this.selectingEnd=!1,this.erxChange.emit({start:this.selectedRange.start,end:this.selectedRange.end})):(this.selectedRange={start:e,end:null},this.selectingEnd=!0))}handlePresetClick(e){this.selectedRange={...e.range},this.erxChange.emit({start:e.range.start,end:e.range.end,preset:e}),this.isOpen=!1}navigateMonth(e){const r=new Date(this.currentMonth);r.setMonth(r.getMonth()+(e==="next"?1:-1)),this.currentMonth=r}formatDisplayValue(){const{start:e,end:r}=this.selectedRange;return e?r?`${e.toLocaleDateString(this.locale)} - ${r.toLocaleDateString(this.locale)}`:e.toLocaleDateString(this.locale):this.placeholder}renderCalendar(e,r=!1){const n=this.getMonthDays(e),s=this.getWeekDayNames();return t("div",{class:"erx-drp__calendar"},t("div",{class:"erx-drp__month-header"},!r&&t("button",{class:"erx-drp__nav-btn",onClick:()=>this.navigateMonth("prev")},"â†"),t("span",{class:"erx-drp__month-title"},e.toLocaleDateString(this.locale,{month:"long",year:"numeric"})),(r||this.config.singleCalendar)&&t("button",{class:"erx-drp__nav-btn",onClick:()=>this.navigateMonth("next")},"â†’")),t("div",{class:"erx-drp__weekdays"},s.map(o=>t("div",{class:"erx-drp__weekday",key:o},o))),t("div",{class:"erx-drp__days"},n.map((o,d)=>t("div",{class:"erx-drp__week",key:d},o.map(a=>t("div",{class:{"erx-drp__day":!0,"erx-drp__day--today":this.isToday(a),"erx-drp__day--other-month":!this.isCurrentMonth(a,e),"erx-drp__day--in-range":this.isInRange(a),"erx-drp__day--range-start":this.isRangeStart(a),"erx-drp__day--range-end":this.isRangeEnd(a),"erx-drp__day--hover-range":this.isInHoverRange(a),"erx-drp__day--disabled":this.isDisabled(a)},key:a.toISOString(),onClick:()=>this.handleDateClick(a),onMouseEnter:()=>{this.hoverDate=a},onMouseLeave:()=>{this.hoverDate=null}},a.getDate()))))))}render(){const e=new Date(this.currentMonth);return e.setMonth(e.getMonth()+1),t("div",{key:"d0c4ba2f43a24cba173ebe8cd94d70e18ef2932d",class:{"erx-drp":!0,"erx-drp--disabled":this.disabled,"erx-drp--open":this.isOpen},part:"container"},this.label&&t("label",{key:"776013fd62bbcedead58d808f2460553ce8002af",class:"erx-drp__label"},this.label),t("div",{key:"ad82029ed5c38eb68f57ad351b7923e390d17152",class:"erx-drp__trigger",onClick:()=>{this.disabled||(this.isOpen=!this.isOpen)},part:"trigger"},t("span",{key:"9a1697e5fd559dbf9ac8513c33d18de0949faab9",class:"erx-drp__value"},this.formatDisplayValue()),t("span",{key:"f9ae39b27e5ac925cc05af7c91604f4475235ee6",class:"erx-drp__icon"},"ðŸ“…")),this.isOpen&&t("div",{key:"e3e7f6509428ca689051471f51e0446542509507",class:"erx-drp__dropdown",part:"dropdown"},this.config.showPresets!==!1&&t("div",{key:"1618462092f49d0c7fa6e0dce9734e7593bcc9cf",class:"erx-drp__presets",part:"presets"},this.presets.map(r=>t("button",{class:"erx-drp__preset",key:r.id,onClick:()=>this.handlePresetClick(r)},r.label))),t("div",{key:"97c0511c10d04696000d4da890dbd299366a4db1",class:"erx-drp__calendars",part:"calendars"},this.renderCalendar(this.currentMonth),!this.config.singleCalendar&&this.renderCalendar(e,!0)),t("div",{key:"fbf123dd692ef7fbb40a6c7c6d588aa75c456239",class:"erx-drp__footer",part:"footer"},t("button",{key:"da0834451cf4095064186e8292a198eadcbed7bc",class:"erx-drp__clear-btn",onClick:()=>this.clear(),type:"button"},"Clear"),t("button",{key:"e8d13ccba948d29d5f145fa68b114dde36a33882",class:"erx-drp__apply-btn",onClick:()=>{this.isOpen=!1},type:"button"},"Apply"))))}};f.style=_();export{f as erx_date_range_picker};
