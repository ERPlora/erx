import{r as l,c as s,h as r}from"./index-DLMfuaWg.js";const c=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-phone{display:flex;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:8px;background:var(--erx-surface, #fff);overflow:hidden}.erx-phone:focus-within{border-color:var(--erx-color-primary, #667eea);box-shadow:0 0 0 3px rgba(102,126,234,0.1)}.erx-phone--disabled{opacity:0.6;pointer-events:none}.erx-phone__country{position:relative;flex-shrink:0}.erx-phone__country-btn{display:flex;align-items:center;gap:6px;padding:10px 12px;border:none;border-right:1px solid var(--erx-border-color, #e5e7eb);background:var(--erx-surface-secondary, #f9fafb);font-size:14px;cursor:pointer}.erx-phone__country-btn:hover{background:var(--erx-border-color, #e5e7eb)}.erx-phone__flag{font-size:18px}.erx-phone__dial-code{color:var(--erx-text-secondary, #6b7280)}.erx-phone__caret{font-size:10px;color:var(--erx-text-tertiary, #9ca3af)}.erx-phone__dropdown{position:absolute;top:100%;left:0;margin-top:4px;width:280px;max-height:300px;background:var(--erx-surface, #fff);border:1px solid var(--erx-border-color, #e5e7eb);border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.12);z-index:1000;display:flex;flex-direction:column}.erx-phone__search{padding:10px 12px;border:none;border-bottom:1px solid var(--erx-border-color, #e5e7eb);background:transparent;font-size:14px;outline:none}.erx-phone__list{overflow-y:auto;flex:1}.erx-phone__option{display:flex;align-items:center;gap:12px;width:100%;padding:10px 12px;border:none;background:transparent;font-size:14px;text-align:left;cursor:pointer;transition:background 150ms ease}.erx-phone__option:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-phone__option--selected{background:rgba(102,126,234,0.1)}.erx-phone__option-flag{font-size:18px}.erx-phone__option-name{flex:1;color:var(--erx-text, #111827)}.erx-phone__option-dial{color:var(--erx-text-tertiary, #9ca3af)}.erx-phone__input{flex:1;padding:10px 12px;border:none;background:transparent;font-size:14px;color:var(--erx-text, #111827);outline:none}.erx-phone__input::-moz-placeholder{color:var(--erx-text-tertiary, #9ca3af)}.erx-phone__input::placeholder{color:var(--erx-text-tertiary, #9ca3af)}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-phone,:host(.dark) .erx-phone{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-phone__country-btn,:host(.dark) .erx-phone__country-btn{background:var(--erx-surface-secondary);border-color:var(--erx-border-color)}:host-context(.dark) .erx-phone__dropdown,:host(.dark) .erx-phone__dropdown{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-phone__input,:host(.dark) .erx-phone__input{color:var(--erx-text)}",d=[{code:"US",name:"United States",dialCode:"+1",flag:"ðŸ‡ºðŸ‡¸",format:"(###) ###-####"},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"ðŸ‡¬ðŸ‡§",format:"#### ######"},{code:"ES",name:"Spain",dialCode:"+34",flag:"ðŸ‡ªðŸ‡¸",format:"### ### ###"},{code:"FR",name:"France",dialCode:"+33",flag:"ðŸ‡«ðŸ‡·",format:"# ## ## ## ##"},{code:"DE",name:"Germany",dialCode:"+49",flag:"ðŸ‡©ðŸ‡ª",format:"### #######"},{code:"IT",name:"Italy",dialCode:"+39",flag:"ðŸ‡®ðŸ‡¹",format:"### ### ####"},{code:"MX",name:"Mexico",dialCode:"+52",flag:"ðŸ‡²ðŸ‡½",format:"## #### ####"},{code:"BR",name:"Brazil",dialCode:"+55",flag:"ðŸ‡§ðŸ‡·",format:"## #####-####"},{code:"AR",name:"Argentina",dialCode:"+54",flag:"ðŸ‡¦ðŸ‡·",format:"## ####-####"},{code:"CO",name:"Colombia",dialCode:"+57",flag:"ðŸ‡¨ðŸ‡´",format:"### #######"},{code:"CL",name:"Chile",dialCode:"+56",flag:"ðŸ‡¨ðŸ‡±",format:"# #### ####"},{code:"PE",name:"Peru",dialCode:"+51",flag:"ðŸ‡µðŸ‡ª",format:"### ### ###"},{code:"CN",name:"China",dialCode:"+86",flag:"ðŸ‡¨ðŸ‡³",format:"### #### ####"},{code:"JP",name:"Japan",dialCode:"+81",flag:"ðŸ‡¯ðŸ‡µ",format:"##-####-####"},{code:"KR",name:"South Korea",dialCode:"+82",flag:"ðŸ‡°ðŸ‡·",format:"##-####-####"},{code:"IN",name:"India",dialCode:"+91",flag:"ðŸ‡®ðŸ‡³",format:"##### #####"},{code:"AU",name:"Australia",dialCode:"+61",flag:"ðŸ‡¦ðŸ‡º",format:"### ### ###"},{code:"CA",name:"Canada",dialCode:"+1",flag:"ðŸ‡¨ðŸ‡¦",format:"(###) ###-####"}],p=class{constructor(e){l(this,e),this.erxChange=s(this,"erxChange")}value="";defaultCountry="US";allowedCountries;excludedCountries;showCountrySelector=!0;showDialCode=!0;autoFormat=!0;placeholder="Phone number";disabled=!1;erxChange;selectedCountry;dropdownOpen=!1;searchQuery="";componentWillLoad(){this.selectedCountry=this.getCountryByCode(this.defaultCountry)||d[0]}get availableCountries(){let e=d;if(this.allowedCountries?.length&&(e=e.filter(o=>this.allowedCountries.includes(o.code))),this.excludedCountries?.length&&(e=e.filter(o=>!this.excludedCountries.includes(o.code))),this.searchQuery){const o=this.searchQuery.toLowerCase();e=e.filter(a=>a.name.toLowerCase().includes(o)||a.code.toLowerCase().includes(o)||a.dialCode.includes(o))}return e}getCountryByCode(e){return d.find(o=>o.code===e)}formatNumber(e,o){if(!this.autoFormat||!o)return e;const a=e.replace(/\D/g,"");let t="",n=0;for(const i of o){if(n>=a.length)break;i==="#"?(t+=a[n],n++):t+=i}return t}handleInput=e=>{let a=e.target.value.replace(/[^\d]/g,"");this.autoFormat&&this.selectedCountry.format&&(a=this.formatNumber(a,this.selectedCountry.format)),this.value=a,this.emitChange()};selectCountry(e){this.selectedCountry=e,this.dropdownOpen=!1,this.searchQuery="",this.emitChange()}emitChange(){const e=this.value.replace(/\D/g,""),o=this.selectedCountry.dialCode+e;this.erxChange.emit({value:o,nationalNumber:e,countryCode:this.selectedCountry.code,dialCode:this.selectedCountry.dialCode,isValid:e.length>=7})}render(){return r("div",{key:"3e95d1fcc577bf755ec878ff37cab1d9db6c159c",class:{"erx-phone":!0,"erx-phone--disabled":this.disabled},part:"container"},this.showCountrySelector&&r("div",{key:"a22b6096ef67419fb8f78fc07f05d53c18954f50",class:"erx-phone__country"},r("button",{key:"e739823b7c3f202babdf0aa5079e29900f4a692b",class:"erx-phone__country-btn",onClick:()=>this.dropdownOpen=!this.dropdownOpen,disabled:this.disabled,type:"button",part:"country-btn"},r("span",{key:"469247b39317ad2fdab27503c2ba4de5f922ec2a",class:"erx-phone__flag"},this.selectedCountry.flag),this.showDialCode&&r("span",{key:"c709c9579bb4f93f36af5ca8a97fb5dc3d1ee3b6",class:"erx-phone__dial-code"},this.selectedCountry.dialCode),r("span",{key:"c510fa39666175f1e59b29e4a1ad3f90a79f0da8",class:"erx-phone__caret"},"â–¼")),this.dropdownOpen&&r("div",{key:"b9ca5522acf3323fe2a75509a2991e83a01a3d43",class:"erx-phone__dropdown",part:"dropdown"},r("input",{key:"7c1ca1a14004b0aad07012552e5c890faff131e7",type:"text",class:"erx-phone__search",placeholder:"Search countries...",value:this.searchQuery,onInput:e=>this.searchQuery=e.target.value}),r("div",{key:"ec61e343807ee1480615962272ea68631b43d0a4",class:"erx-phone__list"},this.availableCountries.map(e=>r("button",{class:{"erx-phone__option":!0,"erx-phone__option--selected":e.code===this.selectedCountry.code},onClick:()=>this.selectCountry(e),type:"button"},r("span",{class:"erx-phone__option-flag"},e.flag),r("span",{class:"erx-phone__option-name"},e.name),r("span",{class:"erx-phone__option-dial"},e.dialCode)))))),r("input",{key:"2912a90eefbec1cccafc278437f373f8dac7a2e0",type:"tel",class:"erx-phone__input",value:this.value,placeholder:this.placeholder,disabled:this.disabled,onInput:this.handleInput,part:"input"}))}};p.style=c();export{p as erx_phone_input};
