import{r as a,g as o,h as e}from"./index-DLMfuaWg.js";const i=()=>":host{display:block;font-family:'Courier New', Courier, monospace}.erx-receipt{background:var(--erx-surface, #ffffff);border:1px solid var(--erx-border-color, #e5e7eb);border-radius:var(--erx-border-radius, 8px);box-shadow:0 4px 12px rgba(0, 0, 0, 0.1);overflow:hidden}.erx-receipt--80mm{max-width:302px;}.erx-receipt--58mm{max-width:219px;}.erx-receipt__header{text-align:center;padding:16px 12px;border-bottom:1px dashed var(--erx-border-color, #e5e7eb)}.erx-receipt__logo{max-width:120px;max-height:60px;margin-bottom:8px}.erx-receipt__business-name{margin:0 0 4px;font-size:18px;font-weight:700;color:var(--erx-text, #111827)}.erx-receipt__address,.erx-receipt__phone,.erx-receipt__tax-id{margin:2px 0;font-size:11px;color:var(--erx-text-secondary, #6b7280)}.erx-receipt__divider{border:none;border-top:1px dashed var(--erx-border-color, #e5e7eb);margin:0}.erx-receipt__divider--double{border-top-style:double;border-top-width:3px}.erx-receipt__info{padding:12px}.erx-receipt__row{display:flex;justify-content:space-between;font-size:12px;color:var(--erx-text-secondary, #6b7280);padding:2px 0}.erx-receipt__items{padding:12px}.erx-receipt__item{margin-bottom:8px;padding-bottom:8px;border-bottom:1px dotted var(--erx-border-color, #e5e7eb)}.erx-receipt__item:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}.erx-receipt__item-line{display:flex;justify-content:space-between;font-size:12px;color:var(--erx-text, #111827)}.erx-receipt__item-name{font-weight:600}.erx-receipt__item-line--details{color:var(--erx-text-secondary, #6b7280);margin-top:2px}.erx-receipt__item-line--discount{color:var(--erx-color-success, #10b981);font-size:11px}.erx-receipt__totals{padding:12px}.erx-receipt__row--discount{color:var(--erx-color-success, #10b981)}.erx-receipt__row--total{font-size:16px;font-weight:700;color:var(--erx-text, #111827);padding-top:8px;margin-top:8px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-receipt__payment{padding:12px;background:var(--erx-surface-secondary, #f9fafb)}.erx-receipt__codes{padding:12px;text-align:center}.erx-receipt__barcode-placeholder,.erx-receipt__qr-placeholder{font-size:12px;color:var(--erx-text-tertiary, #9ca3af);padding:16px;background:var(--erx-surface-secondary, #f9fafb);border-radius:var(--erx-border-radius-sm, 4px)}.erx-receipt__barcode-placeholder{font-family:'Libre Barcode 39', monospace;font-size:36px;letter-spacing:-2px}.erx-receipt__footer{text-align:center;padding:12px;border-top:1px dashed var(--erx-border-color, #e5e7eb)}.erx-receipt__footer p{margin:0;font-size:11px;color:var(--erx-text-secondary, #6b7280)}.erx-receipt--compact .erx-receipt__header{padding:8px}.erx-receipt--compact .erx-receipt__business-name{font-size:14px}.erx-receipt--compact .erx-receipt__info,.erx-receipt--compact .erx-receipt__items,.erx-receipt--compact .erx-receipt__totals,.erx-receipt--compact .erx-receipt__payment,.erx-receipt--compact .erx-receipt__codes,.erx-receipt--compact .erx-receipt__footer{padding:8px}.erx-receipt--compact .erx-receipt__row,.erx-receipt--compact .erx-receipt__item-line{font-size:11px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-receipt,:host(.dark) .erx-receipt{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-receipt__business-name,:host(.dark) .erx-receipt__business-name,:host-context(.dark) .erx-receipt__item-name,:host(.dark) .erx-receipt__item-name,:host-context(.dark) .erx-receipt__row--total,:host(.dark) .erx-receipt__row--total{color:var(--erx-text)}:host-context(.dark) .erx-receipt__payment,:host(.dark) .erx-receipt__payment,:host-context(.dark) .erx-receipt__barcode-placeholder,:host(.dark) .erx-receipt__barcode-placeholder,:host-context(.dark) .erx-receipt__qr-placeholder,:host(.dark) .erx-receipt__qr-placeholder{background:var(--erx-surface-secondary)}@media print{:host{font-size:10px}.erx-receipt{box-shadow:none;border:none;max-width:none}}",d=class{constructor(r){a(this,r)}get el(){return o(this)}data;paperWidth=80;showLogo=!0;showBarcode=!0;showQrCode=!0;currency="$";locale="en-US";compact=!1;async print(){const r=this.el.shadowRoot?.querySelector(".erx-receipt");if(!r)return;const t=window.open("","_blank");if(!t)return;const c=this.el.shadowRoot?.querySelector("style")?.textContent||"";t.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Receipt #${this.data.receiptNumber}</title>
          <style>${c}</style>
          <style>
            @media print {
              body { margin: 0; padding: 0; }
              .erx-receipt { box-shadow: none; border: none; }
            }
          </style>
        </head>
        <body>${r.outerHTML}</body>
      </html>
    `),t.document.close(),t.print(),t.close()}async getHTML(){return this.el.shadowRoot?.querySelector(".erx-receipt")?.outerHTML||""}formatDate(r){return(typeof r=="string"?new Date(r):r).toLocaleDateString(this.locale,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}formatPrice(r){return new Intl.NumberFormat(this.locale,{style:"currency",currency:this.getCurrencyCode()}).format(r)}getCurrencyCode(){return{$:"USD","€":"EUR","£":"GBP"}[this.currency]||"USD"}calculateItemTotal(r){const t=r.price*r.quantity;return r.discount?r.discountType==="percent"?t*(1-r.discount/100):t-r.discount:t}render(){const{data:r}=this;return e("div",{key:"1aef7171e3e16590a57ed1d47fcb73e64b883084",class:{"erx-receipt":!0,"erx-receipt--compact":this.compact,[`erx-receipt--${this.paperWidth}mm`]:!0},part:"container"},e("div",{key:"b29a6aa28bbe878af527752a5a569ee7164feb38",class:"erx-receipt__header",part:"header"},this.showLogo&&r.logoUrl&&e("img",{key:"6bcad55061c675e2b9cf4bc8a2f08fbcb6b1cc85",src:r.logoUrl,alt:r.businessName,class:"erx-receipt__logo"}),e("h1",{key:"8a35c3b4463a9f13b6dab291e32656e449902a87",class:"erx-receipt__business-name"},r.businessName),r.businessAddress&&e("p",{key:"03e162ba7b400cd53c17ab5de15b75760f3cf88b",class:"erx-receipt__address"},r.businessAddress),r.businessPhone&&e("p",{key:"b7a3ad11cb2ef28a4b5500bd0e3e234c35175d19",class:"erx-receipt__phone"},r.businessPhone),r.businessTaxId&&e("p",{key:"044d1a81ef2bd5ff00a98762129595ba36c5e47d",class:"erx-receipt__tax-id"},"Tax ID: ",r.businessTaxId)),e("div",{key:"92b7478173a11f360254946e9caf6ee22ff24cad",class:"erx-receipt__divider"}),e("div",{key:"f3acd6a9d905c52885f42a3154b463cd895b9f20",class:"erx-receipt__info",part:"info"},e("div",{key:"6daa631ede31499a600145f8fb1753acacc04fa9",class:"erx-receipt__row"},e("span",{key:"7d2c66770fe23082e2511661672c429ce05440e5"},"Receipt #"),e("span",{key:"1be29226e4602a65c675ec5ceca00a1a07bf51b7"},r.receiptNumber)),e("div",{key:"482ee51a25cb550a5a5317e3c375c9d200e18ac4",class:"erx-receipt__row"},e("span",{key:"f445d3a2312f060c11b009a3050f04f4e98f8bcb"},"Date"),e("span",{key:"9268a29cf397d07679f2335b66fb3db1cc30d0b7"},this.formatDate(r.date))),r.cashier&&e("div",{key:"c2ba602b8b8f996663404220309d0600530f1166",class:"erx-receipt__row"},e("span",{key:"91c3d83547d3e00e63acc6f73c31de1071e7f715"},"Cashier"),e("span",{key:"faff47d06a5925791828f695f11a0b25d21111cd"},r.cashier)),r.customer&&e("div",{key:"dc1f5d53c84ce40d8ca29f741d1f6c282f89cc90",class:"erx-receipt__row"},e("span",{key:"0cb4a4a30d855f4ed29e4b3e6daa09dad529d4e6"},"Customer"),e("span",{key:"7efaf65a8e9e95c4b83d8e3467a6eb960c45f27d"},r.customer))),e("div",{key:"3cba29cefbc7cad3effde77658f989b82f40a311",class:"erx-receipt__divider erx-receipt__divider--double"}),e("div",{key:"1150c6436bb010bd70cafd8725d23d2eff65f66a",class:"erx-receipt__items",part:"items"},r.items.map((t,c)=>e("div",{class:"erx-receipt__item",key:c},e("div",{class:"erx-receipt__item-line"},e("span",{class:"erx-receipt__item-name"},t.name)),e("div",{class:"erx-receipt__item-line erx-receipt__item-line--details"},e("span",null,t.quantity," × ",this.formatPrice(t.price)),e("span",null,this.formatPrice(this.calculateItemTotal(t)))),t.discount&&e("div",{class:"erx-receipt__item-line erx-receipt__item-line--discount"},e("span",null,"Discount: ",t.discountType==="percent"?`${t.discount}%`:this.formatPrice(t.discount)))))),e("div",{key:"14b54b18bc3c7275f3f387ea56a06beb6fcd4f9d",class:"erx-receipt__divider"}),e("div",{key:"3e7864d7784977d7104c38b4df9940e684121497",class:"erx-receipt__totals",part:"totals"},e("div",{key:"2f622c1a21b96ef2993a86bc12502108ed258ad8",class:"erx-receipt__row"},e("span",{key:"579248abe93ab98a9c03e2f60cfccfb4237e5314"},"Subtotal"),e("span",{key:"f64cc6180f3f786b306fea75a1c5ee5a39d7da4f"},this.formatPrice(r.subtotal))),r.discount&&r.discount>0&&e("div",{key:"1465d74c2252482963cde9550ea9ea0732195bc4",class:"erx-receipt__row erx-receipt__row--discount"},e("span",{key:"78520f2092eab8840d6fcf437392b247f46f2ab8"},"Discount"),e("span",{key:"2795e5abd763b17b7f57a224c7101dede0bd872d"},"-",this.formatPrice(r.discount))),r.tax!==void 0&&e("div",{key:"0d267768fb92fab14949b3b54c85cae95ccfc524",class:"erx-receipt__row"},e("span",{key:"d2bfac25f18628b47297ead537b4e9f525442c9f"},"Tax ",r.taxRate?`(${r.taxRate}%)`:""),e("span",{key:"16ef8a945496d567a6f31f7fb44ff996a2f5c9c3"},this.formatPrice(r.tax))),e("div",{key:"2e2d077899c281693b938cd7ce26b8a190b3ef1b",class:"erx-receipt__row erx-receipt__row--total"},e("span",{key:"7608c1befe10469ff027dc1f56299a7470aa42af"},"TOTAL"),e("span",{key:"8be6c98a9318a04047056abfc5511d93ac1d8e86"},this.formatPrice(r.total)))),e("div",{key:"b7654e8a08588e4b027c7cdb34e933c5529ff03b",class:"erx-receipt__divider"}),r.paymentMethod&&e("div",{key:"bc4c385195b916052ad7022f6bad1435ff882793",class:"erx-receipt__payment",part:"payment"},e("div",{key:"e8ad2114e457b8b5b8e0294d0d866259ed8556e2",class:"erx-receipt__row"},e("span",{key:"41b478c14fffc95febc74b893ba66b2cb3ad8cb7"},"Payment"),e("span",{key:"8268c2e5688fb20892fb59264af32f61560a3917"},r.paymentMethod)),r.amountPaid!==void 0&&e("div",{key:"04fd6768a838f6bb2b963af5d9b1c0e3c34043df",class:"erx-receipt__row"},e("span",{key:"ac771efaa8f81f49df938693c703894071779b90"},"Paid"),e("span",{key:"7009dac961a477c1bb2682fc3ec1913bbc3dfc97"},this.formatPrice(r.amountPaid))),r.change!==void 0&&r.change>0&&e("div",{key:"f683d02faf8cb15eb6b3804b25dffd99bbeacb20",class:"erx-receipt__row"},e("span",{key:"764e55c130a317e2f5c40d406662b8f74a0f61e6"},"Change"),e("span",{key:"6be677a0dd82717fb577c305a5866cf94efb5cb8"},this.formatPrice(r.change)))),this.showBarcode&&r.barcode||this.showQrCode&&r.qrCode?e("div",{class:"erx-receipt__codes",part:"codes"},this.showBarcode&&r.barcode&&e("div",{class:"erx-receipt__barcode"},e("div",{class:"erx-receipt__barcode-placeholder"},"||||| ",r.barcode," |||||")),this.showQrCode&&r.qrCode&&e("div",{class:"erx-receipt__qr"},e("div",{class:"erx-receipt__qr-placeholder"},"[QR Code]"))):null,r.footerMessage&&e("div",{key:"3d6af09677cae7de5a43b614ff11271afb9d8539",class:"erx-receipt__footer",part:"footer"},e("p",{key:"1266aac6496863ca4a0f75140053b9cdee20bac3"},r.footerMessage)))}};d.style=i();export{d as erx_receipt};
