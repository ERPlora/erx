import{r as a,c as i,g as n,h as s}from"./index-DLMfuaWg.js";const o=()=>":host{font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-sheet__container{position:fixed;inset:0;z-index:1000}.erx-sheet__backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.5);animation:erx-sheet-fade-in 200ms ease}@keyframes erx-sheet-fade-in{from{opacity:0}to{opacity:1}}.erx-sheet{position:absolute;background:var(--erx-surface, #fff);display:flex;flex-direction:column;transition:transform 200ms ease}.erx-sheet--dragging{transition:none}.erx-sheet--bottom{bottom:0;left:0;right:0;border-radius:16px 16px 0 0;animation:erx-sheet-slide-up 200ms ease}@keyframes erx-sheet-slide-up{from{transform:translateY(100%)}to{transform:translateY(0)}}.erx-sheet--top{top:0;left:0;right:0;border-radius:0 0 16px 16px;animation:erx-sheet-slide-down 200ms ease}@keyframes erx-sheet-slide-down{from{transform:translateY(-100%)}to{transform:translateY(0)}}.erx-sheet--left{left:0;top:0;bottom:0;border-radius:0 16px 16px 0;animation:erx-sheet-slide-right 200ms ease}@keyframes erx-sheet-slide-right{from{transform:translateX(-100%)}to{transform:translateX(0)}}.erx-sheet--right{right:0;top:0;bottom:0;border-radius:16px 0 0 16px;animation:erx-sheet-slide-left 200ms ease}@keyframes erx-sheet-slide-left{from{transform:translateX(100%)}to{transform:translateX(0)}}.erx-sheet__handle{display:flex;align-items:center;justify-content:center;padding:12px;cursor:grab}.erx-sheet__handle:active{cursor:grabbing}.erx-sheet--left .erx-sheet__handle,.erx-sheet--right .erx-sheet__handle{width:20px;height:100%;position:absolute;top:0;padding:0}.erx-sheet--left .erx-sheet__handle{right:0}.erx-sheet--right .erx-sheet__handle{left:0}.erx-sheet__handle-bar{width:40px;height:4px;background:var(--erx-text-tertiary, #9ca3af);border-radius:2px;opacity:0.5}.erx-sheet__handle-bar--vertical{width:4px;height:40px}.erx-sheet__content{flex:1;overflow:auto;padding:16px}.erx-sheet--left .erx-sheet__content,.erx-sheet--right .erx-sheet__content{padding-top:16px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-sheet,:host(.dark) .erx-sheet{background:var(--erx-surface)}",h=class{constructor(e){a(this,e),this.erxOpenChange=i(this,"erxOpenChange"),this.erxBreakpointChange=i(this,"erxBreakpointChange")}get el(){return n(this)}position="bottom";size="md";customSize;backdrop=!0;backdropDismiss=!0;showHandle=!0;swipeToDismiss=!0;breakpoints=[];initialBreakpoint=0;open=!1;erxOpenChange;erxBreakpointChange;currentBreakpoint=0;isDragging=!1;dragOffset=0;startY=0;startX=0;handleOpenChange(e){this.erxOpenChange.emit({open:e}),e&&this.breakpoints.length>0&&(this.currentBreakpoint=this.initialBreakpoint)}async present(){this.open=!0}async dismiss(){this.open=!1}async setBreakpoint(e){e>=0&&e<this.breakpoints.length&&(this.currentBreakpoint=e,this.erxBreakpointChange.emit({breakpoint:e,ratio:this.breakpoints[e].ratio}))}handleBackdropClick=()=>{this.backdropDismiss&&(this.open=!1)};handleDragStart=e=>{!this.swipeToDismiss&&this.breakpoints.length===0||(this.isDragging=!0,"touches"in e?(this.startY=e.touches[0].clientY,this.startX=e.touches[0].clientX):(this.startY=e.clientY,this.startX=e.clientX),document.addEventListener("mousemove",this.handleDragMove),document.addEventListener("mouseup",this.handleDragEnd),document.addEventListener("touchmove",this.handleDragMove),document.addEventListener("touchend",this.handleDragEnd))};handleDragMove=e=>{if(!this.isDragging)return;let t,r;"touches"in e?(t=e.touches[0].clientY,r=e.touches[0].clientX):(t=e.clientY,r=e.clientX),this.position==="bottom"?this.dragOffset=Math.max(0,t-this.startY):this.position==="top"?this.dragOffset=Math.max(0,this.startY-t):this.position==="right"?this.dragOffset=Math.max(0,r-this.startX):this.position==="left"&&(this.dragOffset=Math.max(0,this.startX-r))};handleDragEnd=()=>{this.isDragging=!1,document.removeEventListener("mousemove",this.handleDragMove),document.removeEventListener("mouseup",this.handleDragEnd),document.removeEventListener("touchmove",this.handleDragMove),document.removeEventListener("touchend",this.handleDragEnd),this.dragOffset>100&&this.swipeToDismiss&&(this.open=!1),this.dragOffset=0};getSizeValue(){return this.customSize?this.customSize:{sm:"25%",md:"50%",lg:"75%",xl:"90%",full:"100%"}[this.size]}getSheetStyle(){const e={},t=this.getSizeValue();return this.position==="bottom"||this.position==="top"?(e.height=t,this.dragOffset>0&&(e.transform=this.position==="bottom"?`translateY(${this.dragOffset}px)`:`translateY(-${this.dragOffset}px)`)):(e.width=t,this.dragOffset>0&&(e.transform=this.position==="right"?`translateX(${this.dragOffset}px)`:`translateX(-${this.dragOffset}px)`)),e}render(){if(!this.open)return null;const e=this.position==="bottom"||this.position==="top";return s("div",{class:"erx-sheet__container",part:"container"},this.backdrop&&s("div",{class:"erx-sheet__backdrop",onClick:this.handleBackdropClick,part:"backdrop"}),s("div",{class:{"erx-sheet":!0,[`erx-sheet--${this.position}`]:!0,"erx-sheet--dragging":this.isDragging},style:this.getSheetStyle(),part:"sheet"},this.showHandle&&s("div",{class:"erx-sheet__handle",onMouseDown:this.handleDragStart,onTouchStart:this.handleDragStart,part:"handle"},s("div",{class:`erx-sheet__handle-bar ${e?"":"erx-sheet__handle-bar--vertical"}`})),s("div",{class:"erx-sheet__content",part:"content"},s("slot",null))))}static get watchers(){return{open:[{handleOpenChange:0}]}}};h.style=o();export{h as erx_sheet};
