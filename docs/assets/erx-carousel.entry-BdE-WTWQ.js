import{r as a,c as i,g as o,h as s}from"./index-DLMfuaWg.js";const n=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-carousel{position:relative}.erx-carousel__viewport{overflow:hidden;border-radius:12px}.erx-carousel__track{display:flex;transition:transform 400ms ease}.erx-carousel__slide{position:relative;flex-shrink:0}.erx-carousel__image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.erx-carousel__content{position:absolute;bottom:0;left:0;right:0;padding:24px;background:linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);color:white}.erx-carousel__title{margin:0 0 8px 0;font-size:24px;font-weight:600}.erx-carousel__desc{margin:0;font-size:14px;opacity:0.9}.erx-carousel__nav-btn{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border:none;background:rgba(255,255,255,0.9);color:var(--erx-text, #111827);font-size:24px;cursor:pointer;border-radius:50%;box-shadow:0 2px 8px rgba(0,0,0,0.15);transition:all 150ms ease;z-index:1}.erx-carousel__nav-btn:hover:not(:disabled){background:white;box-shadow:0 4px 12px rgba(0,0,0,0.2)}.erx-carousel__nav-btn:disabled{opacity:0.3;cursor:not-allowed}.erx-carousel__nav-btn--prev{left:16px}.erx-carousel__nav-btn--next{right:16px}.erx-carousel__pagination{display:flex;justify-content:center;gap:8px;margin-top:16px}.erx-carousel__dot{width:10px;height:10px;padding:0;border:none;border-radius:50%;background:var(--erx-border-color, #e5e7eb);cursor:pointer;transition:all 150ms ease}.erx-carousel__dot:hover{background:var(--erx-text-tertiary, #9ca3af)}.erx-carousel__dot--active{background:var(--erx-color-primary, #667eea);transform:scale(1.2)}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-carousel__nav-btn,:host(.dark) .erx-carousel__nav-btn{background:rgba(0,0,0,0.8);color:white}",l=class{constructor(e){a(this,e),this.erxSlideChange=i(this,"erxSlideChange")}get el(){return o(this)}slides=[];autoPlay=!1;interval=5e3;showNav=!0;showPagination=!0;loop=!0;slidesPerView=1;spaceBetween=0;pauseOnHover=!0;touchEnabled=!0;erxSlideChange;currentIndex=0;isPlaying=!1;isPaused=!1;autoPlayTimer;touchStartX=0;touchEndX=0;componentDidLoad(){this.autoPlay&&this.startAutoPlay()}disconnectedCallback(){this.stopAutoPlay()}async goTo(e){const t=e>this.currentIndex?"next":"prev";this.currentIndex=this.normalizeIndex(e),this.erxSlideChange.emit({index:this.currentIndex,slide:this.slides[this.currentIndex],direction:t})}async next(){this.goTo(this.currentIndex+1)}async prev(){this.goTo(this.currentIndex-1)}async play(){this.startAutoPlay()}async pause(){this.stopAutoPlay()}normalizeIndex(e){const t=this.slides.length-this.slidesPerView;if(this.loop){if(e<0)return t;if(e>t)return 0}return Math.max(0,Math.min(t,e))}startAutoPlay(){this.isPlaying=!0,this.autoPlayTimer=window.setInterval(()=>{this.isPaused||this.next()},this.interval)}stopAutoPlay(){this.isPlaying=!1,this.autoPlayTimer&&(clearInterval(this.autoPlayTimer),this.autoPlayTimer=void 0)}handleMouseEnter=()=>{this.pauseOnHover&&this.isPlaying&&(this.isPaused=!0)};handleMouseLeave=()=>{this.pauseOnHover&&(this.isPaused=!1)};handleTouchStart=e=>{this.touchEnabled&&(this.touchStartX=e.touches[0].clientX)};handleTouchMove=e=>{this.touchEnabled&&(this.touchEndX=e.touches[0].clientX)};handleTouchEnd=()=>{if(!this.touchEnabled)return;const e=this.touchStartX-this.touchEndX;Math.abs(e)>50&&(e>0?this.next():this.prev())};getTranslateX(){const e=100/this.slidesPerView;return`translateX(-${this.currentIndex*e}%)`}render(){const e=100/this.slidesPerView;return s("div",{key:"ff357012cdb26e2b814627db7f633b7cb6b2f802",class:"erx-carousel",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,part:"container"},s("div",{key:"01e10cc30c033dc42de77102fb958db68ea0cc28",class:"erx-carousel__viewport",part:"viewport"},s("div",{key:"9f60eb7531f4b32fceaf00b474737a8bc5e6cb47",class:"erx-carousel__track",style:{transform:this.getTranslateX(),gap:`${this.spaceBetween}px`},part:"track"},this.slides.map(t=>s("div",{class:"erx-carousel__slide",style:{flex:`0 0 calc(${e}% - ${this.spaceBetween}px)`},part:"slide"},t.image&&s("img",{src:t.image,alt:t.title||"",class:"erx-carousel__image",part:"image"}),(t.title||t.description)&&s("div",{class:"erx-carousel__content",part:"content"},t.title&&s("h3",{class:"erx-carousel__title"},t.title),t.description&&s("p",{class:"erx-carousel__desc"},t.description)),s("slot",{name:`slide-${t.id}`}))))),this.showNav&&this.slides.length>this.slidesPerView&&s("div",{key:"5a5950e785149a20bb0e61b040eb13d4562fd9de",class:"erx-carousel__nav",part:"nav"},s("button",{key:"245b79598c882b129e9abe082df789fdb1de8189",class:"erx-carousel__nav-btn erx-carousel__nav-btn--prev",onClick:()=>this.prev(),disabled:!this.loop&&this.currentIndex===0,part:"nav-prev"},"‹"),s("button",{key:"14e661ca3459536316a9180c2da5de4557546621",class:"erx-carousel__nav-btn erx-carousel__nav-btn--next",onClick:()=>this.next(),disabled:!this.loop&&this.currentIndex>=this.slides.length-this.slidesPerView,part:"nav-next"},"›")),this.showPagination&&this.slides.length>this.slidesPerView&&s("div",{key:"47857925f3c8db34f19bfccba61796665cd92e5f",class:"erx-carousel__pagination",part:"pagination"},this.slides.slice(0,this.slides.length-this.slidesPerView+1).map((t,r)=>s("button",{class:{"erx-carousel__dot":!0,"erx-carousel__dot--active":r===this.currentIndex},onClick:()=>this.goTo(r),part:"dot"}))))}};l.style=n();export{l as erx_carousel};
