import{r as t,c as o,g as s,h as e}from"./index-DLMfuaWg.js";const d=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;height:100%}.erx-pdf{display:flex;flex-direction:column;height:100%;background:var(--erx-surface, #fff);border:1px solid var(--erx-border-color, #e5e7eb);border-radius:8px;overflow:hidden}.erx-pdf__toolbar{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:8px 12px;background:var(--erx-surface-secondary, #f9fafb);border-bottom:1px solid var(--erx-border-color, #e5e7eb);flex-wrap:wrap}.erx-pdf__nav{display:flex;align-items:center;gap:8px}.erx-pdf__page-info{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--erx-text-secondary, #6b7280)}.erx-pdf__page-input{width:50px;padding:4px 8px;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:4px;background:var(--erx-surface, #fff);font-size:14px;text-align:center}.erx-pdf__zoom{display:flex;align-items:center;gap:8px}.erx-pdf__zoom-level{min-width:50px;font-size:14px;color:var(--erx-text-secondary, #6b7280);text-align:center}.erx-pdf__actions{display:flex;gap:4px}.erx-pdf__btn{width:32px;height:32px;padding:0;border:1px solid var(--erx-border-color, #e5e7eb);border-radius:6px;background:var(--erx-surface, #fff);font-size:14px;color:var(--erx-text, #111827);cursor:pointer;transition:all 150ms ease}.erx-pdf__btn:hover:not(:disabled){background:var(--erx-surface-secondary, #f9fafb)}.erx-pdf__btn:disabled{opacity:0.4;cursor:not-allowed}.erx-pdf__viewer{flex:1;position:relative;background:#525659;min-height:400px}.erx-pdf__iframe{width:100%;height:100%;border:none}.erx-pdf__loading{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:var(--erx-surface-secondary, #f9fafb)}.erx-pdf__spinner{width:32px;height:32px;border:3px solid var(--erx-border-color, #e5e7eb);border-top-color:var(--erx-color-primary, #667eea);border-radius:50%;animation:erx-pdf-spin 1s linear infinite}@keyframes erx-pdf-spin{to{transform:rotate(360deg)}}.erx-pdf__error{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:var(--erx-surface-secondary, #f9fafb);color:var(--erx-color-danger, #ef4444);font-size:14px}.erx-pdf__empty{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;background:var(--erx-surface-secondary, #f9fafb)}.erx-pdf__empty span{font-size:48px}.erx-pdf__empty p{margin:0;color:var(--erx-text-tertiary, #9ca3af);font-size:14px}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-pdf,:host(.dark) .erx-pdf{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-pdf__toolbar,:host(.dark) .erx-pdf__toolbar{background:var(--erx-surface-secondary);border-color:var(--erx-border-color)}:host-context(.dark) .erx-pdf__btn,:host(.dark) .erx-pdf__btn{background:var(--erx-surface);border-color:var(--erx-border-color);color:var(--erx-text)}",i=class{constructor(r){t(this,r),this.erxPageChange=o(this,"erxPageChange"),this.erxLoad=o(this,"erxLoad"),this.erxError=o(this,"erxError")}get el(){return s(this)}src;page=1;zoom=1;showToolbar=!0;showNavigation=!0;showZoom=!0;showDownload=!0;showPrint=!0;fitMode="width";erxPageChange;erxLoad;erxError;totalPages=0;isLoading=!0;error;iframeEl;handleSrcChange(){this.loadPdf()}componentDidLoad(){this.loadPdf()}async goToPage(r){r>=1&&r<=this.totalPages&&(this.page=r,this.erxPageChange.emit({page:this.page,totalPages:this.totalPages}))}async nextPage(){this.goToPage(this.page+1)}async prevPage(){this.goToPage(this.page-1)}async setZoom(r){this.zoom=Math.max(.25,Math.min(4,r))}async zoomIn(){this.setZoom(this.zoom+.25)}async zoomOut(){this.setZoom(this.zoom-.25)}async download(){if(this.src){const r=document.createElement("a");r.href=this.src,r.download="document.pdf",r.click()}}async print(){this.iframeEl?.contentWindow&&this.iframeEl.contentWindow.print()}loadPdf(){if(!this.src){this.error="No PDF source provided";return}this.isLoading=!0,this.error=void 0}handleIframeLoad=()=>{this.isLoading=!1,this.totalPages=1,this.erxLoad.emit({totalPages:this.totalPages,pageWidth:0,pageHeight:0})};handleIframeError=()=>{this.isLoading=!1,this.error="Failed to load PDF",this.erxError.emit({error:this.error})};handlePageInput=r=>{const a=parseInt(r.target.value,10);isNaN(a)||this.goToPage(a)};render(){const r=this.src?`${this.src}#page=${this.page}&zoom=${this.zoom*100}`:"";return e("div",{key:"d53950f27654f4b637833c3723e27818aadb626b",class:"erx-pdf",part:"container"},this.showToolbar&&e("div",{key:"7799c11cdadfdd3e48bbe5c7ac31835b55688257",class:"erx-pdf__toolbar",part:"toolbar"},this.showNavigation&&e("div",{key:"0eef92ffd5aba2635216d0fce300240b30a39f9d",class:"erx-pdf__nav"},e("button",{key:"51f9bb05f34246383f1dc8aba2f4b968ddaf407e",class:"erx-pdf__btn",onClick:()=>this.prevPage(),disabled:this.page<=1,title:"Previous page"},"â—€"),e("div",{key:"b299b3aa7a310ad88c025640c94b04f360af6774",class:"erx-pdf__page-info"},e("input",{key:"09167bf981d29be5ec8d38a83bed946e17d74b7a",type:"number",class:"erx-pdf__page-input",value:this.page,min:"1",max:this.totalPages,onInput:this.handlePageInput}),e("span",{key:"23327439aeadd47b873100d3592b838431e8ed2a"},"/ ",this.totalPages||"?")),e("button",{key:"ad05b134ddacf1d3b3d67752dfbce09f3998fa2f",class:"erx-pdf__btn",onClick:()=>this.nextPage(),disabled:this.page>=this.totalPages,title:"Next page"},"â–¶")),this.showZoom&&e("div",{key:"4dd3c3923697117b64929fb3d63e425e6b360d23",class:"erx-pdf__zoom"},e("button",{key:"5154e3c3422c44598790a9675e156a0b6994d4a3",class:"erx-pdf__btn",onClick:()=>this.zoomOut(),disabled:this.zoom<=.25,title:"Zoom out"},"âˆ’"),e("span",{key:"a13abdab2865db47a2073506f81c540c4d1deb8c",class:"erx-pdf__zoom-level"},Math.round(this.zoom*100),"%"),e("button",{key:"68a34989f4866bfb0dae230a52d21c8fa7f305be",class:"erx-pdf__btn",onClick:()=>this.zoomIn(),disabled:this.zoom>=4,title:"Zoom in"},"+")),e("div",{key:"a3e084a949e3cde3ed5aa5aa96caafb3baf54817",class:"erx-pdf__actions"},this.showDownload&&e("button",{key:"1b84eb1bf514b851e677e3d7b393b9de179586f6",class:"erx-pdf__btn",onClick:()=>this.download(),title:"Download"},"â¬‡"),this.showPrint&&e("button",{key:"5edda7d8e1b62a9a2db33217358f1235df064a8a",class:"erx-pdf__btn",onClick:()=>this.print(),title:"Print"},"ðŸ–¨"))),e("div",{key:"fa4c8d2cbdf34ceb1408eb349c9fa413818b94e3",class:"erx-pdf__viewer",part:"viewer"},this.isLoading&&e("div",{key:"cdf4fb4c8da4776b626a263c2eb3219fcfc186ff",class:"erx-pdf__loading"},e("div",{key:"fbd0e77c8ddaec1e22cfc1965d97ede3915962cb",class:"erx-pdf__spinner"}),e("span",{key:"f353bc63809d961f8f9c2ca071ec376a5dfa395c"},"Loading PDF...")),this.error&&e("div",{key:"4be9201dbbb0dc86c3b0cd754601af1195f8ffa6",class:"erx-pdf__error"},e("span",{key:"2cfd845432b1ac42aa642a68f7998def907dd971"},"âš ï¸ ",this.error)),this.src&&!this.error&&e("iframe",{key:"37ad824620cac12182201523b466ca72773b6281",ref:a=>this.iframeEl=a,src:r,class:"erx-pdf__iframe",onLoad:this.handleIframeLoad,onError:this.handleIframeError,part:"iframe"}),!this.src&&!this.error&&e("div",{key:"0a6ebe7355182f1f8a100eb69c80a7e249a04911",class:"erx-pdf__empty"},e("span",{key:"fbe9167d9931926b31bf7b4f13feafc597c6bac2"},"ðŸ“„"),e("p",{key:"ef98ccf314836e364045037958db54acb672ef20"},"No PDF loaded"))))}static get watchers(){return{src:[{handleSrcChange:0}]}}};i.style=d();export{i as erx_pdf_viewer};
