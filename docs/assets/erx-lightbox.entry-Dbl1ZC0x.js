import{r as o,c as i,g as n,h as t}from"./index-DLMfuaWg.js";const r=()=>":host{font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-lb{position:fixed;inset:0;z-index:9999;display:flex;flex-direction:column}.erx-lb__backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.95)}.erx-lb__header{position:relative;z-index:1;display:flex;align-items:center;justify-content:space-between;padding:16px 20px}.erx-lb__counter{color:white;font-size:14px;font-weight:500}.erx-lb__actions{display:flex;align-items:center;gap:8px}.erx-lb__zoom-controls{display:flex;align-items:center;gap:8px;padding:4px 8px;background:rgba(255,255,255,0.1);border-radius:6px}.erx-lb__zoom-level{color:white;font-size:12px;min-width:48px;text-align:center}.erx-lb__btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:rgba(255,255,255,0.1);color:white;font-size:18px;cursor:pointer;border-radius:6px;transition:background 150ms ease}.erx-lb__btn:hover:not(:disabled){background:rgba(255,255,255,0.2)}.erx-lb__btn:disabled{opacity:0.3;cursor:not-allowed}.erx-lb__close{font-size:16px}.erx-lb__main{position:relative;z-index:1;flex:1;display:flex;align-items:center;justify-content:center;padding:0 60px;min-height:0}.erx-lb__nav{position:absolute;top:50%;transform:translateY(-50%);width:48px;height:48px;display:flex;align-items:center;justify-content:center;border:none;background:rgba(255,255,255,0.1);color:white;font-size:32px;cursor:pointer;border-radius:50%;transition:all 150ms ease;z-index:2}.erx-lb__nav:hover{background:rgba(255,255,255,0.2)}.erx-lb__nav--prev{left:16px}.erx-lb__nav--next{right:16px}.erx-lb__image-container{max-width:100%;max-height:100%;overflow:hidden;display:flex;align-items:center;justify-content:center}.erx-lb__image{max-width:100%;max-height:calc(100vh - 200px);-o-object-fit:contain;object-fit:contain;transition:transform 200ms ease}.erx-lb__caption{position:relative;z-index:1;padding:16px 20px;text-align:center}.erx-lb__caption-title{margin:0 0 4px 0;color:white;font-size:16px;font-weight:600}.erx-lb__caption-desc{margin:0;color:rgba(255,255,255,0.7);font-size:14px}.erx-lb__thumbnails{position:relative;z-index:1;display:flex;gap:8px;padding:16px;justify-content:center;overflow-x:auto}.erx-lb__thumb{width:60px;height:60px;padding:0;border:2px solid transparent;border-radius:6px;overflow:hidden;cursor:pointer;opacity:0.5;transition:all 150ms ease;flex-shrink:0}.erx-lb__thumb:hover{opacity:0.8}.erx-lb__thumb--active{opacity:1;border-color:white}.erx-lb__thumb img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}",a=class{constructor(e){o(this,e),this.erxOpenChange=i(this,"erxOpenChange"),this.erxSlideChange=i(this,"erxSlideChange"),this.erxZoomChange=i(this,"erxZoomChange")}get el(){return n(this)}images=[];currentIndex=0;showNav=!0;showThumbnails=!0;showCounter=!0;showCaption=!0;enableZoom=!0;maxZoom=3;enableSlideshow=!1;slideshowInterval=3e3;backdropDismiss=!0;keyboardNav=!0;open=!1;erxOpenChange;erxSlideChange;erxZoomChange;zoom=1;isPlaying=!1;isLoading=!1;slideshowTimer;handleOpenChange(e){this.erxOpenChange.emit({open:e,index:this.currentIndex}),e||(this.stopSlideshow(),this.zoom=1)}handleKeyDown(e){if(!(!this.open||!this.keyboardNav))switch(e.key){case"Escape":this.open=!1;break;case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break;case"+":case"=":this.zoomIn();break;case"-":this.zoomOut();break;case"0":this.resetZoom();break}}disconnectedCallback(){this.stopSlideshow()}async show(e=0){this.currentIndex=e,this.open=!0}async close(){this.open=!1}async goTo(e){e>=0&&e<this.images.length&&(this.currentIndex=e,this.zoom=1,this.erxSlideChange.emit({index:e,image:this.images[e]}))}async next(){const e=(this.currentIndex+1)%this.images.length;this.goTo(e)}async prev(){const e=this.currentIndex===0?this.images.length-1:this.currentIndex-1;this.goTo(e)}zoomIn(){this.enableZoom&&(this.zoom=Math.min(this.zoom+.5,this.maxZoom),this.erxZoomChange.emit({zoom:this.zoom}))}zoomOut(){this.enableZoom&&(this.zoom=Math.max(this.zoom-.5,1),this.erxZoomChange.emit({zoom:this.zoom}))}resetZoom(){this.zoom=1,this.erxZoomChange.emit({zoom:this.zoom})}toggleSlideshow(){this.isPlaying?this.stopSlideshow():this.startSlideshow()}startSlideshow(){this.isPlaying=!0,this.slideshowTimer=window.setInterval(()=>{this.next()},this.slideshowInterval)}stopSlideshow(){this.isPlaying=!1,this.slideshowTimer&&(clearInterval(this.slideshowTimer),this.slideshowTimer=void 0)}handleBackdropClick=()=>{this.backdropDismiss&&(this.open=!1)};get currentImage(){return this.images[this.currentIndex]}render(){return!this.open||!this.currentImage?null:t("div",{class:"erx-lb",part:"container"},t("div",{class:"erx-lb__backdrop",onClick:this.handleBackdropClick,part:"backdrop"}),t("header",{class:"erx-lb__header",part:"header"},this.showCounter&&t("span",{class:"erx-lb__counter"},this.currentIndex+1," / ",this.images.length),t("div",{class:"erx-lb__actions"},this.enableZoom&&t("div",{class:"erx-lb__zoom-controls"},t("button",{class:"erx-lb__btn",onClick:()=>this.zoomOut(),disabled:this.zoom<=1},"−"),t("span",{class:"erx-lb__zoom-level"},Math.round(this.zoom*100),"%"),t("button",{class:"erx-lb__btn",onClick:()=>this.zoomIn(),disabled:this.zoom>=this.maxZoom},"+")),this.enableSlideshow&&t("button",{class:"erx-lb__btn",onClick:()=>this.toggleSlideshow()},this.isPlaying?"⏸":"▶"),t("button",{class:"erx-lb__btn erx-lb__close",onClick:()=>this.open=!1},"✕"))),t("div",{class:"erx-lb__main",part:"main"},this.showNav&&this.images.length>1&&t("button",{class:"erx-lb__nav erx-lb__nav--prev",onClick:()=>this.prev(),part:"nav-prev"},"‹"),t("div",{class:"erx-lb__image-container"},t("img",{src:this.currentImage.src,alt:this.currentImage.alt||"",class:"erx-lb__image",style:{transform:`scale(${this.zoom})`},part:"image"})),this.showNav&&this.images.length>1&&t("button",{class:"erx-lb__nav erx-lb__nav--next",onClick:()=>this.next(),part:"nav-next"},"›")),this.showCaption&&(this.currentImage.title||this.currentImage.description)&&t("div",{class:"erx-lb__caption",part:"caption"},this.currentImage.title&&t("h3",{class:"erx-lb__caption-title"},this.currentImage.title),this.currentImage.description&&t("p",{class:"erx-lb__caption-desc"},this.currentImage.description)),this.showThumbnails&&this.images.length>1&&t("div",{class:"erx-lb__thumbnails",part:"thumbnails"},this.images.map((e,s)=>t("button",{class:{"erx-lb__thumb":!0,"erx-lb__thumb--active":s===this.currentIndex},onClick:()=>this.goTo(s)},t("img",{src:e.thumbnail||e.src,alt:e.alt||""})))))}static get watchers(){return{open:[{handleOpenChange:0}]}}};a.style=r();export{a as erx_lightbox};
