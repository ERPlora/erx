import{r as x,c as s,h as e}from"./index-DLMfuaWg.js";const d=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-qc{background:var(--erx-surface, #fff);border-radius:12px;border:1px solid var(--erx-border-color, #e5e7eb);overflow:hidden}.erx-qc__header{padding:16px;border-bottom:1px solid var(--erx-border-color, #e5e7eb)}.erx-qc__title-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.erx-qc__number{font-size:16px;font-weight:600;color:var(--erx-text, #111827)}.erx-qc__status{font-size:11px;font-weight:600;padding:4px 10px;border-radius:12px;text-transform:uppercase}.erx-qc__status--pending{background:rgba(156,163,175,0.15);color:var(--erx-text-secondary, #6b7280)}.erx-qc__status--in-progress{background:rgba(102,126,234,0.15);color:var(--erx-color-primary, #667eea)}.erx-qc__status--completed{background:rgba(16,185,129,0.15);color:var(--erx-color-success, #10b981)}.erx-qc__status--rejected{background:rgba(239,68,68,0.15);color:var(--erx-color-danger, #ef4444)}.erx-qc__type{font-size:12px;color:var(--erx-text-secondary, #6b7280);text-transform:capitalize}.erx-qc__product{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--erx-surface-secondary, #f9fafb)}.erx-qc__product-img{width:48px;height:48px;border-radius:8px;-o-object-fit:cover;object-fit:cover;background:var(--erx-surface-tertiary, #f3f4f6)}.erx-qc__product-info{flex:1}.erx-qc__product-name{display:block;font-size:14px;font-weight:500;color:var(--erx-text, #111827)}.erx-qc__product-sku{display:block;font-size:12px;color:var(--erx-text-tertiary, #9ca3af)}.erx-qc__batch{display:block;font-size:11px;color:var(--erx-text-secondary, #6b7280);margin-top:2px}.erx-qc__summary{display:flex;align-items:center;padding:16px;gap:16px;border-bottom:1px solid var(--erx-border-color, #e5e7eb)}.erx-qc__summary-item{text-align:center;flex:1}.erx-qc__summary-value{display:block;font-size:24px;font-weight:700}.erx-qc__summary-item--pass .erx-qc__summary-value{color:var(--erx-color-success, #10b981)}.erx-qc__summary-item--fail .erx-qc__summary-value{color:var(--erx-color-danger, #ef4444)}.erx-qc__summary-item--pending .erx-qc__summary-value{color:var(--erx-text-tertiary, #9ca3af)}.erx-qc__summary-label{font-size:11px;color:var(--erx-text-secondary, #6b7280);text-transform:uppercase}.erx-qc__progress-ring{width:56px;height:56px;position:relative}.erx-qc__ring{width:100%;height:100%;transform:rotate(-90deg)}.erx-qc__ring-bg{fill:none;stroke:var(--erx-surface-tertiary, #f3f4f6);stroke-width:3}.erx-qc__ring-fill{fill:none;stroke:var(--erx-color-success, #10b981);stroke-width:3;stroke-linecap:round;transition:stroke-dasharray 500ms ease}.erx-qc__ring-text{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:12px;font-weight:600;color:var(--erx-text, #111827)}.erx-qc__items{max-height:400px;overflow-y:auto}.erx-qc__item{border-bottom:1px solid var(--erx-border-color, #e5e7eb)}.erx-qc__item:last-child{border-bottom:none}.erx-qc__item-header{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background 150ms ease}.erx-qc__item-header:hover{background:var(--erx-surface-secondary, #f9fafb)}.erx-qc__item-type{font-size:16px}.erx-qc__item-name{flex:1;font-size:14px;color:var(--erx-text, #111827)}.erx-qc__item-result{font-size:18px}.erx-qc__item-details{padding:0 16px 16px 44px}.erx-qc__item-desc{font-size:13px;color:var(--erx-text-secondary, #6b7280);margin:0 0 12px 0}.erx-qc__spec,.erx-qc__range,.erx-qc__actual{display:flex;justify-content:space-between;font-size:12px;margin-bottom:6px}.erx-qc__spec-label,.erx-qc__range-label,.erx-qc__actual-label{color:var(--erx-text-tertiary, #9ca3af)}.erx-qc__spec-value,.erx-qc__range-value,.erx-qc__actual-value{color:var(--erx-text, #111827);font-weight:500}.erx-qc__item-actions{display:flex;gap:8px;margin-top:12px}.erx-qc__result-btn{flex:1;height:32px;border:none;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all 150ms ease}.erx-qc__result-btn--pass{background:rgba(16,185,129,0.15);color:var(--erx-color-success, #10b981)}.erx-qc__result-btn--pass:hover{background:var(--erx-color-success, #10b981);color:white}.erx-qc__result-btn--fail{background:rgba(239,68,68,0.15);color:var(--erx-color-danger, #ef4444)}.erx-qc__result-btn--fail:hover{background:var(--erx-color-danger, #ef4444);color:white}.erx-qc__result-btn--na{background:var(--erx-surface-tertiary, #f3f4f6);color:var(--erx-text-secondary, #6b7280)}.erx-qc__inspector{display:flex;align-items:center;gap:8px;padding:12px 16px;border-top:1px solid var(--erx-border-color, #e5e7eb)}.erx-qc__inspector-avatar{width:28px;height:28px;border-radius:50%;background:rgba(102,126,234,0.1);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;color:var(--erx-color-primary, #667eea);overflow:hidden}.erx-qc__inspector-avatar img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.erx-qc__inspector-name{font-size:13px;color:var(--erx-text-secondary, #6b7280)}.erx-qc__notes{padding:12px 16px;background:var(--erx-surface-secondary, #f9fafb)}.erx-qc__notes-label{font-size:11px;font-weight:600;color:var(--erx-text-secondary, #6b7280);margin-bottom:4px}.erx-qc__notes-text{font-size:13px;color:var(--erx-text, #111827);margin:0;font-style:italic}.erx-qc__actions{display:flex;gap:8px;padding:16px}.erx-qc__btn{flex:1;height:40px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer}.erx-qc__btn--approve{background:var(--erx-color-success, #10b981);color:white}.erx-qc__btn--approve:disabled{background:var(--erx-surface-tertiary, #f3f4f6);color:var(--erx-text-tertiary, #9ca3af);cursor:not-allowed}.erx-qc__btn--reject{background:var(--erx-color-danger, #ef4444);color:white}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-qc,:host(.dark) .erx-qc{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-qc__number,:host(.dark) .erx-qc__number,:host-context(.dark) .erx-qc__product-name,:host(.dark) .erx-qc__product-name{color:var(--erx-text)}:host-context(.dark) .erx-qc__product,:host(.dark) .erx-qc__product{background:var(--erx-surface-secondary)}",_=class{constructor(r){x(this,r),this.erxResult=s(this,"erxResult"),this.erxComplete=s(this,"erxComplete"),this.erxSelect=s(this,"erxSelect")}check;editable=!0;showNotes=!0;expandedItem=null;erxResult;erxComplete;erxSelect;getResultIcon(r){return{pass:"âœ…",fail:"âŒ",pending:"â³",na:"âž–"}[r]||"â“"}getTypeIcon(r){return{visual:"ðŸ‘ï¸",measurement:"ðŸ“",functional:"âš™ï¸",documentation:"ðŸ“„"}[r]||"ðŸ“‹"}getPassCount(){return this.check.items.filter(r=>r.result==="pass").length}getFailCount(){return this.check.items.filter(r=>r.result==="fail").length}getPendingCount(){return this.check.items.filter(r=>r.result==="pending").length}handleItemResult(r,c){this.erxResult.emit({item:r,result:c})}handleComplete(r){this.erxComplete.emit({check:this.check,result:r})}toggleItem(r){this.expandedItem=this.expandedItem===r?null:r}render(){const{check:r,editable:c,showNotes:l}=this,t=this.getPassCount(),o=this.getFailCount(),n=this.getPendingCount(),i=r.items.length;return e("div",{key:"5a84b96ef98627ae477d0900ad516b44c4bf61ec",class:{"erx-qc":!0,[`erx-qc--${r.status}`]:!0},part:"container"},e("div",{key:"0f68461bf9356afc1dcd3a9503f3d0aa2095cdee",class:"erx-qc__header",part:"header"},e("div",{key:"1c7b98310b50d20931f18c1cf3ac19166a871bf2",class:"erx-qc__title-row"},e("span",{key:"d912f71c671ceff26f4a4d10d4d88cd687572f99",class:"erx-qc__number"},r.number),e("span",{key:"d7789510b19185f1b36ad03778dabcadef3645b9",class:`erx-qc__status erx-qc__status--${r.status}`},r.status.replace("-"," "))),e("span",{key:"6640a9091c6b8f3d7a1eb8d70b0498d2d0c4795c",class:"erx-qc__type"},r.type," Inspection")),e("div",{key:"a26545dde9fa7065c2abac258ceee2a833d6184b",class:"erx-qc__product",part:"product"},r.product.image&&e("img",{key:"bb43065622fcd6627b56ae05c9b23b2639c13278",src:r.product.image,alt:"",class:"erx-qc__product-img"}),e("div",{key:"a575cb07e2955b4fb2b1fb59e5c9bac46c38d26f",class:"erx-qc__product-info"},e("span",{key:"56691aa82aa0378935b4d9b27e4c124829dc64f9",class:"erx-qc__product-name"},r.product.name),r.product.sku&&e("span",{key:"d8b28720159d6ec447cb18e17a9ea024d0eb327d",class:"erx-qc__product-sku"},r.product.sku),r.batch&&e("span",{key:"267b25c8c09386a6b09b4e72c34e03c040cc0728",class:"erx-qc__batch"},"Batch: ",r.batch))),e("div",{key:"42183220197f039427b35e1834d0bfe4a061a292",class:"erx-qc__summary",part:"summary"},e("div",{key:"9e7577de78c894c47549079d66a1daf9a678b9f8",class:"erx-qc__summary-item erx-qc__summary-item--pass"},e("span",{key:"525c09358acccc85f241cc731683783b6665a123",class:"erx-qc__summary-value"},t),e("span",{key:"490d2f1d72d25c1c9acf1617ba90607bca885c3a",class:"erx-qc__summary-label"},"Pass")),e("div",{key:"f1b11be5b695ec18d25b8c81ce33992797d4c32f",class:"erx-qc__summary-item erx-qc__summary-item--fail"},e("span",{key:"073c8d3cf54decc070e29284f64ac2e07e0c4b17",class:"erx-qc__summary-value"},o),e("span",{key:"202d519eff89d953309132308adb3c793972e519",class:"erx-qc__summary-label"},"Fail")),e("div",{key:"a2309069ea387ae086f2f27a53cbca5fb05e1b6c",class:"erx-qc__summary-item erx-qc__summary-item--pending"},e("span",{key:"9fd15ece485d7d3a22a1cc591ece9951882d8246",class:"erx-qc__summary-value"},n),e("span",{key:"56ee17993bd1b0f51f1f36f8e680fcd1b900168f",class:"erx-qc__summary-label"},"Pending")),e("div",{key:"13b082cc9f515a16ef15b879010899a8c8da4da4",class:"erx-qc__progress-ring"},e("svg",{key:"12a761aac813973cccf91821d6b33130a765b734",viewBox:"0 0 36 36",class:"erx-qc__ring"},e("path",{key:"79c42833393eb2431a372802cd3a712a0f67f778",class:"erx-qc__ring-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),e("path",{key:"95a4a811b97a930ba2fd7f6b1d4a9f10071e21f9",class:"erx-qc__ring-fill","stroke-dasharray":`${t/i*100}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})),e("span",{key:"c2bf4b7fa66fc9c49c35cd985a9b6da79999749d",class:"erx-qc__ring-text"},Math.round(t/i*100),"%"))),e("div",{key:"dbd18b57c280348f3e9b15dfdf18eb112ae61edc",class:"erx-qc__items",part:"items"},r.items.map(a=>e("div",{class:{"erx-qc__item":!0,[`erx-qc__item--${a.result}`]:!0,"erx-qc__item--expanded":this.expandedItem===a.id},key:a.id},e("div",{class:"erx-qc__item-header",onClick:()=>this.toggleItem(a.id)},e("span",{class:"erx-qc__item-type"},this.getTypeIcon(a.type)),e("span",{class:"erx-qc__item-name"},a.name),e("span",{class:"erx-qc__item-result"},this.getResultIcon(a.result))),this.expandedItem===a.id&&e("div",{class:"erx-qc__item-details"},a.description&&e("p",{class:"erx-qc__item-desc"},a.description),a.specification&&e("div",{class:"erx-qc__spec"},e("span",{class:"erx-qc__spec-label"},"Specification:"),e("span",{class:"erx-qc__spec-value"},a.specification)),(a.minValue!==void 0||a.maxValue!==void 0)&&e("div",{class:"erx-qc__range"},e("span",{class:"erx-qc__range-label"},"Acceptable Range:"),e("span",{class:"erx-qc__range-value"},a.minValue??"-"," - ",a.maxValue??"-"," ",a.unit||"")),a.actualValue!==void 0&&e("div",{class:"erx-qc__actual"},e("span",{class:"erx-qc__actual-label"},"Actual Value:"),e("span",{class:"erx-qc__actual-value"},a.actualValue," ",a.unit||"")),c&&r.status==="in-progress"&&e("div",{class:"erx-qc__item-actions"},e("button",{class:"erx-qc__result-btn erx-qc__result-btn--pass",onClick:()=>this.handleItemResult(a,"pass")},"Pass"),e("button",{class:"erx-qc__result-btn erx-qc__result-btn--fail",onClick:()=>this.handleItemResult(a,"fail")},"Fail"),e("button",{class:"erx-qc__result-btn erx-qc__result-btn--na",onClick:()=>this.handleItemResult(a,"na")},"N/A")))))),r.inspector&&e("div",{key:"a7b9cffa38226820a326d2237e77c1cf334a0c3c",class:"erx-qc__inspector",part:"inspector"},r.inspector.avatar?e("img",{src:r.inspector.avatar,alt:"",class:"erx-qc__inspector-avatar"}):e("span",{class:"erx-qc__inspector-avatar"},r.inspector.name.charAt(0).toUpperCase()),e("span",{key:"d87c64bff5027c600f46685f1a8ed5a30e522578",class:"erx-qc__inspector-name"},r.inspector.name)),l&&r.notes&&e("div",{key:"8555ab86dbf88811ee3c14bc0adf1c87662ab384",class:"erx-qc__notes",part:"notes"},e("span",{key:"a4bc9790ed46a4307f6e4f0822a722569fc27c31",class:"erx-qc__notes-label"},"Notes:"),e("p",{key:"2c88b26af3ef8a4d62c62d7bccd56de616a45ee3",class:"erx-qc__notes-text"},r.notes)),c&&r.status==="in-progress"&&n===0&&e("div",{key:"169c0bdc524c97e4583e663385928893e088921c",class:"erx-qc__actions",part:"actions"},e("button",{key:"3b32eef655e58362e975b66aca5a3d526d10219c",class:"erx-qc__btn erx-qc__btn--approve",onClick:()=>this.handleComplete("pass"),disabled:o>0},"Approve"),e("button",{key:"5797a7f552a45bc9c83d6a68ec19795a7d532b72",class:"erx-qc__btn erx-qc__btn--reject",onClick:()=>this.handleComplete("fail")},"Reject")))}};_.style=d();export{_ as erx_quality_check};
