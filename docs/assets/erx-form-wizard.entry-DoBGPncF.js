import{r as p,c as n,h as r}from"./index-DLMfuaWg.js";const l=()=>":host{display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.erx-wizard{background:var(--erx-surface, #fff);border-radius:12px;border:1px solid var(--erx-border-color, #e5e7eb);overflow:hidden}.erx-wizard--disabled{opacity:0.6;pointer-events:none}.erx-wizard__steps{display:flex;padding:20px;border-bottom:1px solid var(--erx-border-color, #e5e7eb);background:var(--erx-surface-secondary, #f9fafb)}.erx-wizard--vertical .erx-wizard__steps{flex-direction:column;width:240px;border-bottom:none;border-right:1px solid var(--erx-border-color, #e5e7eb)}.erx-wizard--vertical{display:flex}.erx-wizard__step{display:flex;align-items:center;gap:12px;flex:1;position:relative}.erx-wizard--vertical .erx-wizard__step{flex:none;padding:12px 0}.erx-wizard__step--clickable{cursor:pointer}.erx-wizard__step--disabled{opacity:0.5;cursor:not-allowed}.erx-wizard__step-indicator{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;flex-shrink:0;transition:all 200ms ease}.erx-wizard__step--pending .erx-wizard__step-indicator{background:var(--erx-surface, #fff);border:2px solid var(--erx-border-color, #e5e7eb);color:var(--erx-text-secondary, #6b7280)}.erx-wizard__step--active .erx-wizard__step-indicator{background:var(--erx-color-primary, #667eea);border:2px solid var(--erx-color-primary, #667eea);color:white;box-shadow:0 0 0 4px rgba(102,126,234,0.2)}.erx-wizard__step--completed .erx-wizard__step-indicator{background:var(--erx-color-success, #10b981);border:2px solid var(--erx-color-success, #10b981);color:white}.erx-wizard__step--error .erx-wizard__step-indicator{background:var(--erx-color-danger, #ef4444);border:2px solid var(--erx-color-danger, #ef4444);color:white}.erx-wizard__check,.erx-wizard__error{font-size:16px}.erx-wizard__icon{font-size:18px}.erx-wizard__number{font-variant-numeric:tabular-nums}.erx-wizard__dot{width:8px;height:8px;border-radius:50%;background:currentColor}.erx-wizard__step-content{flex:1;min-width:0}.erx-wizard__step-title{display:block;font-size:14px;font-weight:500;color:var(--erx-text, #111827);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.erx-wizard__step--active .erx-wizard__step-title{color:var(--erx-color-primary, #667eea)}.erx-wizard__step-subtitle{display:block;font-size:12px;color:var(--erx-text-tertiary, #9ca3af)}.erx-wizard__step-optional{display:inline-block;font-size:10px;color:var(--erx-text-tertiary, #9ca3af);background:var(--erx-surface-tertiary, #f3f4f6);padding:2px 6px;border-radius:4px;margin-top:2px}.erx-wizard__connector{flex:1;height:2px;background:var(--erx-border-color, #e5e7eb);margin:0 8px}.erx-wizard__connector--completed{background:var(--erx-color-success, #10b981)}.erx-wizard--vertical .erx-wizard__connector{width:2px;height:24px;flex:none;margin:8px 0;position:absolute;left:17px;top:48px}.erx-wizard__content{padding:24px;flex:1}.erx-wizard__navigation{display:flex;justify-content:space-between;padding:16px 24px;border-top:1px solid var(--erx-border-color, #e5e7eb);background:var(--erx-surface-secondary, #f9fafb)}.erx-wizard__btn{height:40px;padding:0 20px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all 150ms ease}.erx-wizard__btn:disabled{opacity:0.5;cursor:not-allowed}.erx-wizard__btn--prev{border:1px solid var(--erx-border-color, #e5e7eb);background:var(--erx-surface, #fff);color:var(--erx-text-secondary, #6b7280)}.erx-wizard__btn--prev:hover:not(:disabled){background:var(--erx-surface-tertiary, #f3f4f6)}.erx-wizard__btn--skip{border:none;background:transparent;color:var(--erx-text-secondary, #6b7280)}.erx-wizard__btn--skip:hover:not(:disabled){color:var(--erx-text, #111827)}.erx-wizard__btn--next{border:none;background:var(--erx-color-primary, #667eea);color:white;margin-left:auto}.erx-wizard__btn--next:hover:not(:disabled){filter:brightness(1.1)}@media (prefers-color-scheme: dark){:host{color-scheme:dark}}:host-context(.dark) .erx-wizard,:host(.dark) .erx-wizard{background:var(--erx-surface);border-color:var(--erx-border-color)}:host-context(.dark) .erx-wizard__steps,:host(.dark) .erx-wizard__steps,:host-context(.dark) .erx-wizard__navigation,:host(.dark) .erx-wizard__navigation{background:var(--erx-surface-secondary)}:host-context(.dark) .erx-wizard__step-title,:host(.dark) .erx-wizard__step-title{color:var(--erx-text)}",x=class{constructor(e){p(this,e),this.erxStepChange=n(this,"erxStepChange"),this.erxComplete=n(this,"erxComplete")}config={steps:[]};disabled=!1;currentStep=0;completedSteps=new Set;errorSteps=new Set;isValidating=!1;erxStepChange;erxComplete;async goToStep(e){if(e<0||e>=this.config.steps.length||this.config.steps[e].disabled)return!1;if(this.config.linear&&e>this.currentStep){for(let a=0;a<e;a++)if(!this.completedSteps.has(a)&&!this.config.steps[a].optional)return!1}const t=this.currentStep;return this.currentStep=e,this.erxStepChange.emit({currentStep:e,previousStep:t,step:this.config.steps[e],direction:e>t?"next":e<t?"prev":"jump"}),!0}async next(){const e=this.config.steps[this.currentStep];if(e.validate){this.isValidating=!0;const t=await e.validate();if(this.isValidating=!1,!t)return this.errorSteps=new Set([...this.errorSteps,this.currentStep]),!1}return this.errorSteps.delete(this.currentStep),this.errorSteps=new Set(this.errorSteps),this.completedSteps=new Set([...this.completedSteps,this.currentStep]),this.currentStep===this.config.steps.length-1?(this.erxComplete.emit({steps:this.config.steps}),!0):this.goToStep(this.currentStep+1)}async prev(){return this.currentStep===0?!1:this.goToStep(this.currentStep-1)}async reset(){this.currentStep=0,this.completedSteps=new Set,this.errorSteps=new Set}getStepStatus(e){return this.errorSteps.has(e)?"error":e===this.currentStep?"active":this.completedSteps.has(e)?"completed":"pending"}canNavigateTo(e){if(this.config.steps[e].disabled)return!1;if(!this.config.linear||e<=this.currentStep)return!0;for(let t=0;t<e;t++)if(!this.completedSteps.has(t)&&!this.config.steps[t].optional)return!1;return!0}handleStepClick(e){this.canNavigateTo(e)&&this.goToStep(e)}render(){const{steps:e,showStepNumbers:t=!0,showNavigation:a=!0,orientation:d="horizontal"}=this.config;return r("div",{key:"140e50d9232079f6defcea205246ccd9b9030026",class:{"erx-wizard":!0,"erx-wizard--disabled":this.disabled,[`erx-wizard--${d}`]:!0},part:"container"},r("div",{key:"16bbf7fb800fd74accfebae9e59e20bdc3bb4646",class:"erx-wizard__steps",part:"steps"},e.map((i,s)=>{const o=this.getStepStatus(s),c=this.canNavigateTo(s);return r("div",{class:{"erx-wizard__step":!0,[`erx-wizard__step--${o}`]:!0,"erx-wizard__step--clickable":c,"erx-wizard__step--disabled":!!i.disabled},key:i.id,onClick:()=>this.handleStepClick(s)},r("div",{class:"erx-wizard__step-indicator"},o==="completed"?r("span",{class:"erx-wizard__check"},"âœ“"):o==="error"?r("span",{class:"erx-wizard__error"},"!"):i.icon?r("span",{class:"erx-wizard__icon"},i.icon):t?r("span",{class:"erx-wizard__number"},s+1):r("span",{class:"erx-wizard__dot"})),r("div",{class:"erx-wizard__step-content"},r("span",{class:"erx-wizard__step-title"},i.title),i.subtitle&&r("span",{class:"erx-wizard__step-subtitle"},i.subtitle),i.optional&&r("span",{class:"erx-wizard__step-optional"},"Optional")),s<e.length-1&&r("div",{class:{"erx-wizard__connector":!0,"erx-wizard__connector--completed":this.completedSteps.has(s)}}))})),r("div",{key:"5c23a5510c7390d87f412c288337a17495591b66",class:"erx-wizard__content",part:"content"},r("slot",{key:"b5d640b7ddc36345b9c99aa192c8bf4a653feaf0",name:`step-${this.currentStep}`}),r("slot",{key:"63e0781afd5b7428426aac32f816e9f00036e1d0"})),a&&r("div",{key:"ab9ae687ad594c76c770436c50d569b0c308465d",class:"erx-wizard__navigation",part:"navigation"},r("button",{key:"85d7d5b7ae529c51458bfff0995078fc9c07bb40",class:"erx-wizard__btn erx-wizard__btn--prev",onClick:()=>this.prev(),disabled:this.currentStep===0||this.isValidating,type:"button"},"Previous"),this.config.allowSkip&&this.config.steps[this.currentStep]?.optional&&r("button",{key:"cfa78aca4c11bef58666abab9c641dff845a8c84",class:"erx-wizard__btn erx-wizard__btn--skip",onClick:()=>this.goToStep(this.currentStep+1),disabled:this.isValidating,type:"button"},"Skip"),r("button",{key:"cc0ec1b8682a5609b0d52bac4deeca0d6f66369e",class:"erx-wizard__btn erx-wizard__btn--next",onClick:()=>this.next(),disabled:this.isValidating,type:"button"},this.isValidating?"Validating...":this.currentStep===e.length-1?"Complete":"Next")))}};x.style=l();export{x as erx_form_wizard};
