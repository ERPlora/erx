<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-virtual-keyboard - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>
    <div class="component-header">
      <h1>erx-virtual-keyboard</h1>
      <p>On-screen virtual keyboard with multiple layouts (QWERTY, numeric, phone), themes, and input targeting.</p>
    </div>
    <div class="demo-section">
      <h2>QWERTY Layout</h2>
      <div class="demo-box">
        <div style="margin-bottom: 1rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem; color: var(--text-muted);">Type here:</label>
          <input
            id="qwerty-input"
            type="text"
            placeholder="Click keyboard keys..."
            style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; font-size: 1rem;"
          />
        </div>
        <erx-virtual-keyboard
          id="qwerty-keyboard"
          layout="qwerty"
          target="#qwerty-input">
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Numeric Layout</h2>
      <div class="demo-box">
        <div style="margin-bottom: 1rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem; color: var(--text-muted);">Enter amount:</label>
          <input
            id="numeric-input"
            type="text"
            placeholder="0.00"
            style="width: 200px; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; font-size: 1.25rem; text-align: right;"
          />
        </div>
        <erx-virtual-keyboard
          id="numeric-keyboard"
          layout="numeric"
          target="#numeric-input">
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Phone Layout</h2>
      <div class="demo-box">
        <div style="margin-bottom: 1rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem; color: var(--text-muted);">Phone number:</label>
          <input
            id="phone-input"
            type="tel"
            placeholder="+1 (555) 000-0000"
            style="width: 250px; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; font-size: 1rem;"
          />
        </div>
        <erx-virtual-keyboard
          id="phone-keyboard"
          layout="phone"
          target="#phone-input">
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Dark Theme</h2>
      <div class="demo-box dark-demo">
        <div style="margin-bottom: 1rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem; opacity: 0.7;">Dark mode input:</label>
          <input
            id="dark-input"
            type="text"
            placeholder="Type here..."
            style="width: 100%; padding: 0.75rem; border: 1px solid #475569; border-radius: 8px; font-size: 1rem; background: #334155; color: white;"
          />
        </div>
        <erx-virtual-keyboard
          id="dark-keyboard"
          layout="qwerty"
          theme="dark"
          target="#dark-input">
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Without Target (Event-based)</h2>
      <div class="demo-box">
        <p style="margin-bottom: 1rem; color: var(--text-muted); font-size: 0.875rem;">
          This keyboard doesn't target any input. Use events to capture key presses.
        </p>
        <div id="event-display" style="margin-bottom: 1rem; padding: 1rem; background: var(--bg); border: 1px solid var(--border); border-radius: 8px; font-family: monospace; min-height: 50px;">
          Current value: <span id="keyboard-value"></span>
        </div>
        <erx-virtual-keyboard
          id="event-keyboard"
          layout="qwerty">
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Show/Hide Keyboard</h2>
      <div class="demo-box">
        <div style="margin-bottom: 1rem;">
          <button id="toggle-btn" style="padding: 0.5rem 1rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; margin-right: 0.5rem;">
            Toggle Keyboard
          </button>
          <button id="show-btn" style="padding: 0.5rem 1rem; background: #22c55e; color: white; border: none; border-radius: 6px; cursor: pointer; margin-right: 0.5rem;">
            Show
          </button>
          <button id="hide-btn" style="padding: 0.5rem 1rem; background: #ef4444; color: white; border: none; border-radius: 6px; cursor: pointer;">
            Hide
          </button>
        </div>
        <input
          id="toggle-input"
          type="text"
          placeholder="Click toggle to show/hide keyboard"
          style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; font-size: 1rem; margin-bottom: 1rem;"
        />
        <erx-virtual-keyboard
          id="toggle-keyboard"
          layout="qwerty"
          target="#toggle-input">
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Disabled State</h2>
      <div class="demo-box">
        <erx-virtual-keyboard
          id="disabled-keyboard"
          layout="numeric"
          disabled>
        </erx-virtual-keyboard>
      </div>
    </div>

    <div class="demo-section">
      <h2>Event Output</h2>
      <div class="demo-box">
        <div id="event-output" style="font-family: monospace; font-size: 0.875rem; color: var(--text-muted); white-space: pre-wrap;">
          Press keys to see the event details...
        </div>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Event-based keyboard
      const eventKeyboard = document.getElementById('event-keyboard');
      const keyboardValue = document.getElementById('keyboard-value');

      eventKeyboard.addEventListener('erxInput', (e) => {
        keyboardValue.textContent = e.detail.value;
      });

      // Toggle keyboard
      const toggleKeyboard = document.getElementById('toggle-keyboard');
      const toggleBtn = document.getElementById('toggle-btn');
      const showBtn = document.getElementById('show-btn');
      const hideBtn = document.getElementById('hide-btn');

      toggleBtn.addEventListener('click', () => {
        toggleKeyboard.visible = !toggleKeyboard.visible;
      });

      showBtn.addEventListener('click', async () => {
        await toggleKeyboard.show();
      });

      hideBtn.addEventListener('click', async () => {
        await toggleKeyboard.hide();
      });

      // Event handling for all keyboards
      const eventOutput = document.getElementById('event-output');
      document.querySelectorAll('erx-virtual-keyboard').forEach(keyboard => {
        keyboard.addEventListener('erxInput', (e) => {
          eventOutput.innerHTML = `<strong>erxInput:</strong>\n${JSON.stringify(e.detail, null, 2)}`;
        });

        keyboard.addEventListener('erxEnter', (e) => {
          eventOutput.innerHTML = `<strong>erxEnter:</strong>\n${JSON.stringify(e.detail, null, 2)}`;
        });

        keyboard.addEventListener('erxClose', () => {
          eventOutput.innerHTML = `<strong>erxClose:</strong> Keyboard closed`;
        });
      });
    });
  </script>
</body>
</html>
