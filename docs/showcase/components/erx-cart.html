<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-cart - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>

    <div class="component-header">
      <h1>erx-cart</h1>
      <p>A shopping cart component with item management, quantity controls, discounts, tax calculation, and checkout functionality.</p>
    </div>

    <div class="demo-section">
      <h2>Basic Cart</h2>
      <div class="demo-box">
        <div style="max-width: 400px;">
          <erx-cart id="cart-basic"></erx-cart>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Cart with Tax</h2>
      <div class="demo-box">
        <div style="max-width: 400px;">
          <erx-cart id="cart-tax" tax-rate="0.21" tax-label="IVA"></erx-cart>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Compact Mode</h2>
      <div class="demo-box">
        <div style="max-width: 350px;">
          <erx-cart id="cart-compact" compact></erx-cart>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Empty Cart</h2>
      <div class="demo-box">
        <div style="max-width: 400px;">
          <erx-cart id="cart-empty" empty-message="No items in your cart yet"></erx-cart>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Cart with Discounts</h2>
      <div class="demo-box">
        <div style="max-width: 400px;">
          <erx-cart id="cart-discount"></erx-cart>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Interactive Demo</h2>
      <div class="demo-box">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
          <div>
            <h3 style="margin-bottom: 1rem;">Products</h3>
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
              <button onclick="addToCart('product-1')" style="padding: 0.75rem; cursor: pointer;">Add Wireless Mouse - $29.99</button>
              <button onclick="addToCart('product-2')" style="padding: 0.75rem; cursor: pointer;">Add Keyboard - $89.99</button>
              <button onclick="addToCart('product-3')" style="padding: 0.75rem; cursor: pointer;">Add USB Cable - $9.99</button>
            </div>
          </div>
          <div>
            <erx-cart id="cart-interactive"></erx-cart>
          </div>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Props</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Prop</th>
            <th style="text-align: left; padding: 0.5rem;">Type</th>
            <th style="text-align: left; padding: 0.5rem;">Default</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>items</code></td>
            <td style="padding: 0.5rem;">ErxCartItem[]</td>
            <td style="padding: 0.5rem;">[]</td>
            <td style="padding: 0.5rem;">Cart items array</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>taxRate</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">0</td>
            <td style="padding: 0.5rem;">Tax rate (decimal, e.g., 0.21 for 21%)</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>taxLabel</code></td>
            <td style="padding: 0.5rem;">string</td>
            <td style="padding: 0.5rem;">'Tax'</td>
            <td style="padding: 0.5rem;">Tax label text</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>taxIncluded</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Whether tax is included in prices</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>currency</code></td>
            <td style="padding: 0.5rem;">string</td>
            <td style="padding: 0.5rem;">'$'</td>
            <td style="padding: 0.5rem;">Currency symbol</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showImages</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">true</td>
            <td style="padding: 0.5rem;">Show item images</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>compact</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Compact display mode</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>emptyMessage</code></td>
            <td style="padding: 0.5rem;">string</td>
            <td style="padding: 0.5rem;">'Your cart is empty'</td>
            <td style="padding: 0.5rem;">Message when cart is empty</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>Events</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Event</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxItemChange</code></td>
            <td style="padding: 0.5rem;">Emitted when item quantity changes</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxItemRemove</code></td>
            <td style="padding: 0.5rem;">Emitted when item is removed</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxClear</code></td>
            <td style="padding: 0.5rem;">Emitted when cart is cleared</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxCheckout</code></td>
            <td style="padding: 0.5rem;">Emitted when checkout is clicked</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>Methods</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Method</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>addItem(item)</code></td>
            <td style="padding: 0.5rem;">Add item to cart</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>removeItem(itemId)</code></td>
            <td style="padding: 0.5rem;">Remove item from cart</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>updateQuantity(itemId, quantity)</code></td>
            <td style="padding: 0.5rem;">Update item quantity</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>clear()</code></td>
            <td style="padding: 0.5rem;">Clear all items</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>getSummary()</code></td>
            <td style="padding: 0.5rem;">Get current cart summary</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    const cartItems = [
      { id: '1', productId: 'prod-1', name: 'Wireless Mouse', price: 29.99, quantity: 2, image: 'https://picsum.photos/seed/mouse/60/60' },
      { id: '2', productId: 'prod-2', name: 'Mechanical Keyboard', price: 89.99, quantity: 1, image: 'https://picsum.photos/seed/keyboard/60/60' },
      { id: '3', productId: 'prod-3', name: 'USB-C Cable', price: 12.99, quantity: 3, image: 'https://picsum.photos/seed/cable/60/60' },
    ];

    // Basic cart
    document.getElementById('cart-basic').items = cartItems;

    // Cart with tax
    document.getElementById('cart-tax').items = cartItems;

    // Compact cart
    document.getElementById('cart-compact').items = cartItems.slice(0, 2);

    // Empty cart - no items

    // Cart with discounts
    document.getElementById('cart-discount').items = [
      { ...cartItems[0], discount: 10, discountType: 'percent' },
      { ...cartItems[1], discount: 15, discountType: 'fixed' },
      cartItems[2]
    ];

    // Interactive cart
    const interactiveCart = document.getElementById('cart-interactive');
    interactiveCart.items = [];

    const products = {
      'product-1': { name: 'Wireless Mouse', price: 29.99, image: 'https://picsum.photos/seed/mouse/60/60' },
      'product-2': { name: 'Mechanical Keyboard', price: 89.99, image: 'https://picsum.photos/seed/keyboard/60/60' },
      'product-3': { name: 'USB-C Cable', price: 9.99, image: 'https://picsum.photos/seed/cable/60/60' },
    };

    window.addToCart = function(productId) {
      const product = products[productId];
      interactiveCart.addItem({
        id: `item-${Date.now()}`,
        productId: productId,
        name: product.name,
        price: product.price,
        quantity: 1,
        image: product.image
      });
    };

    interactiveCart.addEventListener('erxCheckout', (e) => {
      alert(`Checkout clicked! Total: $${e.detail.summary.total.toFixed(2)}`);
    });
  </script>
</body>
</html>
