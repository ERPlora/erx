<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-code-block - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>
    <div class="component-header">
      <h1>erx-code-block</h1>
      <p>Code display component with line numbers, copy functionality, language badges, and line highlighting.</p>
    </div>
    <div class="demo-section">
      <h2>JavaScript Code</h2>
      <div class="demo-box">
        <erx-code-block id="jsCode" language="javascript"></erx-code-block>
      </div>
    </div>
    <div class="demo-section">
      <h2>TypeScript with File Name</h2>
      <div class="demo-box">
        <erx-code-block id="tsCode" language="typescript" file-name="api.service.ts"></erx-code-block>
      </div>
    </div>
    <div class="demo-section">
      <h2>HTML with Highlighted Lines</h2>
      <div class="demo-box">
        <erx-code-block id="htmlCode" language="html" highlight-lines="3,4,5"></erx-code-block>
      </div>
    </div>
    <div class="demo-section">
      <h2>CSS without Line Numbers</h2>
      <div class="demo-box">
        <erx-code-block id="cssCode" language="css" show-line-numbers="false"></erx-code-block>
      </div>
    </div>
    <div class="demo-section">
      <h2>Python with Max Height</h2>
      <div class="demo-box">
        <erx-code-block id="pythonCode" language="python" max-height="200px"></erx-code-block>
      </div>
    </div>
    <div class="demo-section">
      <h2>JSON Configuration</h2>
      <div class="demo-box">
        <erx-code-block id="jsonCode" language="json" file-name="package.json"></erx-code-block>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // JavaScript code
      document.getElementById('jsCode').code = `// User authentication service
async function authenticateUser(email, password) {
  const response = await fetch('/api/auth/login', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email, password })
  });

  if (!response.ok) {
    throw new Error('Authentication failed');
  }

  const { token, user } = await response.json();
  localStorage.setItem('authToken', token);
  return user;
}`;

      // TypeScript code
      document.getElementById('tsCode').code = `import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

interface User {
  id: string;
  name: string;
  email: string;
  role: 'admin' | 'user';
}

@Injectable({ providedIn: 'root' })
export class ApiService {
  private baseUrl = '/api/v1';

  constructor(private http: HttpClient) {}

  getUsers(): Observable<User[]> {
    return this.http.get<User[]>(\`\${this.baseUrl}/users\`);
  }

  getUserById(id: string): Observable<User> {
    return this.http.get<User>(\`\${this.baseUrl}/users/\${id}\`);
  }
}`;

      // HTML code with highlighted lines
      document.getElementById('htmlCode').code = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My App</title>
</head>
<body>
  <div id="app">
    <h1>Welcome</h1>
    <p>Hello, World!</p>
  </div>
  <script src="app.js"><\/script>
</body>
</html>`;

      // CSS code
      document.getElementById('cssCode').code = `.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  font-weight: 500;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.button--primary {
  background: #667eea;
  color: white;
}

.button--primary:hover {
  background: #5a67d8;
}`;

      // Python code with scroll
      document.getElementById('pythonCode').code = `from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import List, Optional
import uvicorn

app = FastAPI(title="User API")

class User(BaseModel):
    id: int
    name: str
    email: str
    active: bool = True

users_db: List[User] = []

@app.get("/users", response_model=List[User])
async def get_users():
    return users_db

@app.get("/users/{user_id}", response_model=User)
async def get_user(user_id: int):
    for user in users_db:
        if user.id == user_id:
            return user
    raise HTTPException(status_code=404, detail="User not found")

@app.post("/users", response_model=User)
async def create_user(user: User):
    users_db.append(user)
    return user

if __name__ == "__main__":
    uvicorn.run(app, host="0.0.0.0", port=8000)`;

      // JSON configuration
      document.getElementById('jsonCode').code = `{
  "name": "@erplora/erx",
  "version": "1.0.0",
  "description": "ERPlora Web Components Library",
  "main": "dist/index.cjs.js",
  "module": "dist/index.js",
  "types": "dist/types/index.d.ts",
  "collection": "dist/collection/collection-manifest.json",
  "scripts": {
    "build": "stencil build",
    "start": "stencil build --dev --watch --serve",
    "test": "stencil test --spec",
    "generate": "stencil generate"
  },
  "devDependencies": {
    "@stencil/core": "^4.0.0",
    "typescript": "^5.0.0"
  }
}`;
    });
  </script>
</body>
</html>
