<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-order-ticket - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
  <style>
    .tickets-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
    }
    .demo-label {
      margin-top: 2rem;
    }
    .demo-label:first-child {
      margin-top: 0;
    }
  </style>
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>
    <div class="component-header">
      <h1>erx-order-ticket</h1>
      <p>Order ticket display for kitchen/fulfillment stations. Shows order details, items, status, and action buttons.</p>
    </div>

    <!-- Basic Demo -->
    <div class="demo-section">
      <h2>Kitchen Display</h2>
      <div class="demo-box">
        <span class="demo-label">Multiple order statuses</span>
        <div class="tickets-grid" id="kitchen-tickets">
          <!-- Tickets will be inserted here -->
        </div>
      </div>
    </div>

    <!-- Rush Order Demo -->
    <div class="demo-section">
      <h2>Rush Order</h2>
      <div class="demo-box">
        <span class="demo-label">Priority order with visual indicator</span>
        <div class="tickets-grid">
          <erx-order-ticket id="rush-ticket"></erx-order-ticket>
        </div>
      </div>
    </div>

    <!-- With Prices Demo -->
    <div class="demo-section">
      <h2>With Prices</h2>
      <div class="demo-box">
        <span class="demo-label">Order ticket showing item prices and total</span>
        <div class="tickets-grid">
          <erx-order-ticket id="priced-ticket" show-prices="true"></erx-order-ticket>
        </div>
      </div>
    </div>

    <!-- Compact Mode Demo -->
    <div class="demo-section">
      <h2>Compact Mode</h2>
      <div class="demo-box">
        <span class="demo-label">Compact display for smaller screens</span>
        <div class="tickets-grid">
          <erx-order-ticket id="compact-ticket" compact="true"></erx-order-ticket>
        </div>
      </div>
    </div>

    <!-- Different Order Types -->
    <div class="demo-section">
      <h2>Order Types</h2>
      <div class="demo-box">
        <span class="demo-label">Dine-in, Takeout, and Delivery</span>
        <div class="tickets-grid" id="order-types">
          <!-- Order type tickets will be inserted here -->
        </div>
      </div>
    </div>

    <!-- Code Example -->
    <div class="demo-section">
      <h2>Usage</h2>
      <pre class="code-block">&lt;erx-order-ticket
  show-prices="true"
  show-status="true"
  show-actions="true"
  currency="$"
&gt;&lt;/erx-order-ticket&gt;

&lt;script&gt;
const ticket = document.querySelector('erx-order-ticket');
ticket.order = {
  orderNumber: '1042',
  timestamp: new Date(),
  status: 'pending',
  orderType: 'dine-in',
  tableNumber: '5',
  customerName: 'John Smith',
  items: [
    { name: 'Margherita Pizza', quantity: 1, price: 14.99 },
    { name: 'Caesar Salad', quantity: 2, variant: 'Large', price: 8.99 }
  ],
  total: 32.97
};

ticket.addEventListener('erxAction', (e) => {
  console.log('Action:', e.detail.action, 'Order:', e.detail.order);
});
&lt;/script&gt;</pre>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Kitchen display tickets
      const kitchenContainer = document.getElementById('kitchen-tickets');

      const kitchenOrders = [
        {
          orderNumber: '1042',
          timestamp: new Date(Date.now() - 15 * 60000),
          status: 'pending',
          orderType: 'dine-in',
          tableNumber: '5',
          items: [
            { name: 'Margherita Pizza', quantity: 1, variant: 'Large' },
            { name: 'Caesar Salad', quantity: 2, notes: 'No croutons' },
            { name: 'Garlic Bread', quantity: 1 }
          ],
          notes: 'Birthday celebration'
        },
        {
          orderNumber: '1043',
          timestamp: new Date(Date.now() - 8 * 60000),
          status: 'preparing',
          orderType: 'takeout',
          customerName: 'Sarah Johnson',
          items: [
            { name: 'BBQ Chicken Wings', quantity: 2, variant: '12 pcs', status: 'ready' },
            { name: 'Loaded Fries', quantity: 1, status: 'preparing' },
            { name: 'Coleslaw', quantity: 2, status: 'pending' }
          ]
        },
        {
          orderNumber: '1044',
          timestamp: new Date(Date.now() - 3 * 60000),
          status: 'ready',
          orderType: 'delivery',
          customerName: 'Mike Chen',
          items: [
            { name: 'Beef Burger', quantity: 2, variant: 'Medium Rare' },
            { name: 'Sweet Potato Fries', quantity: 2 },
            { name: 'Chocolate Milkshake', quantity: 2 }
          ]
        }
      ];

      kitchenOrders.forEach(order => {
        const ticket = document.createElement('erx-order-ticket');
        ticket.order = order;
        ticket.addEventListener('erxAction', (e) => {
          alert(`Action: ${e.detail.action} on Order #${e.detail.order.orderNumber}`);
        });
        kitchenContainer.appendChild(ticket);
      });

      // Rush order ticket
      const rushTicket = document.getElementById('rush-ticket');
      rushTicket.order = {
        orderNumber: '1045',
        timestamp: new Date(),
        status: 'pending',
        priority: 'rush',
        orderType: 'dine-in',
        tableNumber: '12',
        customerName: 'VIP Guest',
        items: [
          { name: 'Filet Mignon', quantity: 1, variant: 'Medium', notes: 'Extra sauce on side' },
          { name: 'Lobster Tail', quantity: 1 },
          { name: 'House Wine', quantity: 2, variant: 'Red' }
        ],
        notes: 'VIP customer - priority service'
      };

      // Ticket with prices
      const pricedTicket = document.getElementById('priced-ticket');
      pricedTicket.order = {
        orderNumber: '1046',
        timestamp: new Date(Date.now() - 5 * 60000),
        status: 'preparing',
        orderType: 'takeout',
        customerName: 'Emily Davis',
        items: [
          { name: 'Grilled Salmon', quantity: 1, price: 24.99 },
          { name: 'Steamed Vegetables', quantity: 1, price: 6.99 },
          { name: 'Lemon Tart', quantity: 2, price: 7.99 },
          { name: 'Sparkling Water', quantity: 1, price: 3.99 }
        ],
        total: 51.95
      };

      // Compact ticket
      const compactTicket = document.getElementById('compact-ticket');
      compactTicket.order = {
        orderNumber: '1047',
        timestamp: new Date(Date.now() - 2 * 60000),
        status: 'pending',
        orderType: 'dine-in',
        tableNumber: '8',
        items: [
          { name: 'Espresso', quantity: 2 },
          { name: 'Croissant', quantity: 1 }
        ]
      };

      // Order type tickets
      const orderTypesContainer = document.getElementById('order-types');

      const orderTypes = [
        {
          orderNumber: '1048',
          timestamp: new Date(),
          status: 'pending',
          orderType: 'dine-in',
          tableNumber: '3',
          items: [
            { name: 'Pasta Carbonara', quantity: 1 },
            { name: 'Tiramisu', quantity: 1 }
          ]
        },
        {
          orderNumber: '1049',
          timestamp: new Date(),
          status: 'pending',
          orderType: 'takeout',
          customerName: 'Alex Wilson',
          items: [
            { name: 'Fish & Chips', quantity: 2 },
            { name: 'Mushy Peas', quantity: 1 }
          ]
        },
        {
          orderNumber: '1050',
          timestamp: new Date(),
          status: 'pending',
          orderType: 'delivery',
          customerName: 'Lisa Park',
          items: [
            { name: 'Pad Thai', quantity: 1 },
            { name: 'Spring Rolls', quantity: 2 },
            { name: 'Green Curry', quantity: 1 }
          ]
        }
      ];

      orderTypes.forEach(order => {
        const ticket = document.createElement('erx-order-ticket');
        ticket.order = order;
        orderTypesContainer.appendChild(ticket);
      });
    });
  </script>
</body>
</html>
