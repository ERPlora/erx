<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-metric-card - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>
    <div class="component-header">
      <h1>erx-metric-card</h1>
      <p>Individual metric display card with sparklines, trend indicators, target progress, and threshold-based status colors.</p>
    </div>
    <div class="demo-section">
      <h2>Basic Metric Cards</h2>
      <div class="demo-box">
        <div class="demo-row">
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="revenueCard"></erx-metric-card>
          </div>
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="ordersCard"></erx-metric-card>
          </div>
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="usersCard"></erx-metric-card>
          </div>
        </div>
      </div>
    </div>
    <div class="demo-section">
      <h2>Metrics with Sparklines</h2>
      <div class="demo-box">
        <div class="demo-row">
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="sparklineCard1"></erx-metric-card>
          </div>
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="sparklineCard2"></erx-metric-card>
          </div>
        </div>
      </div>
    </div>
    <div class="demo-section">
      <h2>Metrics with Targets</h2>
      <div class="demo-box">
        <div class="demo-row">
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="targetCard1"></erx-metric-card>
          </div>
          <div class="demo-col" style="max-width: 280px;">
            <erx-metric-card id="targetCard2"></erx-metric-card>
          </div>
        </div>
      </div>
    </div>
    <div class="demo-section">
      <h2>Metrics with Thresholds</h2>
      <div class="demo-box">
        <div class="demo-row">
          <div class="demo-col" style="max-width: 280px;">
            <span class="demo-label">Good Status</span>
            <erx-metric-card id="thresholdGood"></erx-metric-card>
          </div>
          <div class="demo-col" style="max-width: 280px;">
            <span class="demo-label">Warning Status</span>
            <erx-metric-card id="thresholdWarning"></erx-metric-card>
          </div>
          <div class="demo-col" style="max-width: 280px;">
            <span class="demo-label">Critical Status</span>
            <erx-metric-card id="thresholdCritical"></erx-metric-card>
          </div>
        </div>
      </div>
    </div>
    <div class="demo-section">
      <h2>Event Output</h2>
      <div class="demo-box">
        <div id="eventOutput" style="padding: 1rem; background: var(--bg); border-radius: 8px; font-family: monospace; font-size: 0.875rem;">
          Click on a metric card to see the output...
        </div>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const eventOutput = document.getElementById('eventOutput');

      // Basic Metric Cards
      document.getElementById('revenueCard').metric = {
        label: 'Monthly Revenue',
        value: 45230,
        format: 'currency',
        change: 12.5,
        trend: 'up',
        icon: 'ðŸ’°'
      };
      document.getElementById('revenueCard').config = { showTrend: true };

      document.getElementById('ordersCard').metric = {
        label: 'Total Orders',
        value: 1234,
        change: -3.2,
        trend: 'down',
        icon: 'ðŸ“¦'
      };
      document.getElementById('ordersCard').config = { showTrend: true };

      document.getElementById('usersCard').metric = {
        label: 'Active Users',
        value: 892,
        change: 8.7,
        trend: 'up',
        icon: 'ðŸ‘¥'
      };
      document.getElementById('usersCard').config = { showTrend: true };

      // Sparkline Cards
      document.getElementById('sparklineCard1').metric = {
        label: 'Daily Sales',
        value: 28450,
        format: 'currency',
        change: 15.3,
        trend: 'up',
        sparkline: [120, 190, 150, 250, 220, 300, 280, 350]
      };
      document.getElementById('sparklineCard1').config = { showTrend: true, showSparkline: true };

      document.getElementById('sparklineCard2').metric = {
        label: 'Page Views',
        value: 125000,
        change: -2.1,
        trend: 'down',
        sparkline: [140, 135, 150, 145, 130, 128, 135, 125]
      };
      document.getElementById('sparklineCard2').config = { showTrend: true, showSparkline: true };

      // Target Cards
      document.getElementById('targetCard1').metric = {
        label: 'Quarterly Revenue',
        value: 78500,
        format: 'currency',
        target: 100000,
        description: 'Q4 2024 Target Progress'
      };
      document.getElementById('targetCard1').config = { showTarget: true };

      document.getElementById('targetCard2').metric = {
        label: 'Monthly Signups',
        value: 450,
        target: 500,
        description: 'January Target Progress'
      };
      document.getElementById('targetCard2').config = { showTarget: true };

      // Threshold Cards
      document.getElementById('thresholdGood').metric = {
        label: 'Server Uptime',
        value: 99.9,
        format: 'percent',
        threshold: { warning: 99, critical: 95, direction: 'below' }
      };

      document.getElementById('thresholdWarning').metric = {
        label: 'CPU Usage',
        value: 72,
        format: 'percent',
        threshold: { warning: 70, critical: 90, direction: 'above' }
      };

      document.getElementById('thresholdCritical').metric = {
        label: 'Disk Space',
        value: 92,
        format: 'percent',
        threshold: { warning: 80, critical: 90, direction: 'above' }
      };

      // Event listeners
      document.querySelectorAll('erx-metric-card').forEach(card => {
        card.addEventListener('erxSelect', (e) => {
          eventOutput.innerHTML = `<strong>Metric Selected:</strong> ${e.detail.label}<br><strong>Value:</strong> ${e.detail.value}<br><strong>Trend:</strong> ${e.detail.trend || 'stable'}`;
        });
      });
    });
  </script>
</body>
</html>
