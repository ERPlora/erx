<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-stats - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>
    <div class="component-header">
      <h1>erx-stats</h1>
      <p>Dashboard statistics display component with trend indicators, sparklines, and customizable layouts.</p>
    </div>
    <div class="demo-section">
      <h2>Basic Stats</h2>
      <div class="demo-box">
        <erx-stats id="basicStats"></erx-stats>
      </div>
    </div>
    <div class="demo-section">
      <h2>Stats with Sparklines</h2>
      <div class="demo-box">
        <erx-stats id="sparklineStats"></erx-stats>
      </div>
    </div>
    <div class="demo-section">
      <h2>Different Sizes</h2>
      <div class="demo-box">
        <div style="margin-bottom: 1.5rem;">
          <span class="demo-label">Small</span>
          <erx-stats id="smallStats" size="sm"></erx-stats>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <span class="demo-label">Medium (Default)</span>
          <erx-stats id="mediumStats" size="md"></erx-stats>
        </div>
        <div>
          <span class="demo-label">Large</span>
          <erx-stats id="largeStats" size="lg"></erx-stats>
        </div>
      </div>
    </div>
    <div class="demo-section">
      <h2>Custom Column Layout</h2>
      <div class="demo-box">
        <erx-stats id="columnStats"></erx-stats>
      </div>
    </div>
    <div class="demo-section">
      <h2>Event Output</h2>
      <div class="demo-box">
        <div id="eventOutput" style="padding: 1rem; background: var(--bg); border-radius: 8px; font-family: monospace; font-size: 0.875rem;">
          Click on a stat card to see the output...
        </div>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const eventOutput = document.getElementById('eventOutput');

      // Basic Stats
      const basicStats = document.getElementById('basicStats');
      basicStats.stats = [
        { id: '1', label: 'Total Revenue', value: '$45,230', change: 12.5, trend: 'up' },
        { id: '2', label: 'Orders', value: '1,234', change: 8.2, trend: 'up' },
        { id: '3', label: 'Customers', value: '892', change: -2.4, trend: 'down' },
        { id: '4', label: 'Conversion Rate', value: '3.2%', change: 0.8, trend: 'up' }
      ];
      basicStats.config = { columns: 4, showTrend: true };

      // Stats with Sparklines
      const sparklineStats = document.getElementById('sparklineStats');
      sparklineStats.stats = [
        {
          id: '1',
          label: 'Sales',
          value: '$28,450',
          change: 15.3,
          trend: 'up',
          sparkline: [12, 19, 15, 25, 22, 30, 28, 35]
        },
        {
          id: '2',
          label: 'Visitors',
          value: '12.5K',
          change: 6.2,
          trend: 'up',
          sparkline: [100, 120, 115, 140, 135, 150, 145, 160]
        },
        {
          id: '3',
          label: 'Bounce Rate',
          value: '32.4%',
          change: -4.1,
          trend: 'down',
          sparkline: [40, 38, 42, 35, 37, 33, 36, 32]
        },
        {
          id: '4',
          label: 'Avg. Session',
          value: '4m 32s',
          change: 1.2,
          trend: 'up',
          sparkline: [200, 220, 210, 240, 250, 260, 255, 272]
        }
      ];
      sparklineStats.config = { columns: 4, showTrend: true, showSparkline: true };

      // Size variants
      const sizeData = [
        { id: '1', label: 'Users', value: '1,234', change: 5.2, trend: 'up' },
        { id: '2', label: 'Revenue', value: '$12,345', change: -2.1, trend: 'down' }
      ];

      document.getElementById('smallStats').stats = sizeData;
      document.getElementById('smallStats').config = { columns: 2 };

      document.getElementById('mediumStats').stats = sizeData;
      document.getElementById('mediumStats').config = { columns: 2 };

      document.getElementById('largeStats').stats = sizeData;
      document.getElementById('largeStats').config = { columns: 2 };

      // Custom Columns
      const columnStats = document.getElementById('columnStats');
      columnStats.stats = [
        { id: '1', label: 'Products', value: '156', icon: 'ðŸ“¦', change: 12, trend: 'up' },
        { id: '2', label: 'Orders Today', value: '48', icon: 'ðŸ›’', change: 8, trend: 'up' },
        { id: '3', label: 'Pending', value: '12', icon: 'â³', change: -15, trend: 'down' }
      ];
      columnStats.config = { columns: 3, showTrend: true };

      // Event listeners
      [basicStats, sparklineStats, columnStats].forEach(stat => {
        stat.addEventListener('erxSelect', (e) => {
          eventOutput.innerHTML = `<strong>Stat Clicked:</strong> ${e.detail.label}<br><strong>Value:</strong> ${e.detail.value}<br><strong>Trend:</strong> ${e.detail.trend || 'stable'}`;
        });
      });
    });
  </script>
</body>
</html>
