<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-data-grid - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>

    <div class="component-header">
      <h1>erx-data-grid</h1>
      <p>A powerful data grid component with sorting, filtering, pagination, selection, and inline editing capabilities.</p>
    </div>

    <div class="demo-section">
      <h2>Basic Data Grid</h2>
      <div class="demo-box">
        <erx-data-grid id="grid-basic"></erx-data-grid>
      </div>
      <div class="code-block">
&lt;erx-data-grid id="grid"&gt;&lt;/erx-data-grid&gt;

&lt;script&gt;
const grid = document.getElementById('grid');
grid.columns = [
  { field: 'id', header: 'ID', width: 80 },
  { field: 'name', header: 'Name', sortable: true },
  { field: 'email', header: 'Email', sortable: true },
  { field: 'status', header: 'Status' }
];
grid.data = [...];
&lt;/script&gt;
      </div>
    </div>

    <div class="demo-section">
      <h2>With Selection</h2>
      <div class="demo-box">
        <erx-data-grid id="grid-select" selectable="multiple" striped hover></erx-data-grid>
        <p id="selected-output" style="margin-top: 1rem; color: var(--text-muted);"></p>
      </div>
    </div>

    <div class="demo-section">
      <h2>With Pagination</h2>
      <div class="demo-box">
        <erx-data-grid id="grid-paginated" paginate page-size="5" bordered></erx-data-grid>
      </div>
    </div>

    <div class="demo-section">
      <h2>With Filtering</h2>
      <div class="demo-box">
        <erx-data-grid id="grid-filter" filterable></erx-data-grid>
      </div>
    </div>

    <div class="demo-section">
      <h2>Editable Grid</h2>
      <div class="demo-box">
        <erx-data-grid id="grid-editable" editable compact></erx-data-grid>
        <p style="margin-top: 1rem; color: var(--text-muted);">Double-click a cell to edit</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Props</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Prop</th>
            <th style="text-align: left; padding: 0.5rem;">Type</th>
            <th style="text-align: left; padding: 0.5rem;">Default</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>data</code></td>
            <td style="padding: 0.5rem;">array</td>
            <td style="padding: 0.5rem;">[]</td>
            <td style="padding: 0.5rem;">Row data array</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>columns</code></td>
            <td style="padding: 0.5rem;">array</td>
            <td style="padding: 0.5rem;">[]</td>
            <td style="padding: 0.5rem;">Column definitions</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>selectable</code></td>
            <td style="padding: 0.5rem;">boolean | 'single' | 'multiple'</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable row selection</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>sortable</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">true</td>
            <td style="padding: 0.5rem;">Enable column sorting</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>filterable</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable column filtering</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>editable</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable inline cell editing</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>paginate</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable pagination</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>pageSize</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">25</td>
            <td style="padding: 0.5rem;">Rows per page</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>striped</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable striped rows</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>bordered</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show borders</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>compact</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Compact row height</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>loading</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show loading state</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>Events</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Event</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxSort</code></td>
            <td style="padding: 0.5rem;">Emitted when sort changes</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxFilter</code></td>
            <td style="padding: 0.5rem;">Emitted when filters change</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxRowSelect</code></td>
            <td style="padding: 0.5rem;">Emitted when row selection changes</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxRowClick</code></td>
            <td style="padding: 0.5rem;">Emitted when a row is clicked</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxCellEdit</code></td>
            <td style="padding: 0.5rem;">Emitted when cell edit is committed</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxPageChange</code></td>
            <td style="padding: 0.5rem;">Emitted when page changes</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Sample data
    const sampleData = [
      { id: 1, name: 'John Doe', email: 'john@example.com', status: 'Active', department: 'Engineering', salary: 85000 },
      { id: 2, name: 'Jane Smith', email: 'jane@example.com', status: 'Active', department: 'Design', salary: 75000 },
      { id: 3, name: 'Bob Johnson', email: 'bob@example.com', status: 'Inactive', department: 'Marketing', salary: 65000 },
      { id: 4, name: 'Alice Brown', email: 'alice@example.com', status: 'Active', department: 'Engineering', salary: 90000 },
      { id: 5, name: 'Charlie Wilson', email: 'charlie@example.com', status: 'Active', department: 'Sales', salary: 70000 },
      { id: 6, name: 'Diana Lee', email: 'diana@example.com', status: 'Inactive', department: 'HR', salary: 60000 },
      { id: 7, name: 'Eve Davis', email: 'eve@example.com', status: 'Active', department: 'Engineering', salary: 95000 },
      { id: 8, name: 'Frank Miller', email: 'frank@example.com', status: 'Active', department: 'Design', salary: 72000 },
      { id: 9, name: 'Grace Taylor', email: 'grace@example.com', status: 'Active', department: 'Marketing', salary: 68000 },
      { id: 10, name: 'Henry Anderson', email: 'henry@example.com', status: 'Inactive', department: 'Sales', salary: 71000 },
      { id: 11, name: 'Ivy Martinez', email: 'ivy@example.com', status: 'Active', department: 'Engineering', salary: 88000 },
      { id: 12, name: 'Jack Thompson', email: 'jack@example.com', status: 'Active', department: 'Design', salary: 74000 },
    ];

    const columns = [
      { field: 'id', header: 'ID', width: 80, sortable: true },
      { field: 'name', header: 'Name', sortable: true, editable: true },
      { field: 'email', header: 'Email', sortable: true, editable: true },
      { field: 'department', header: 'Department', sortable: true },
      { field: 'status', header: 'Status', sortable: true },
      { field: 'salary', header: 'Salary', type: 'currency', align: 'right', sortable: true, editable: true }
    ];

    // Basic grid
    const gridBasic = document.getElementById('grid-basic');
    gridBasic.columns = columns;
    gridBasic.data = sampleData.slice(0, 5);

    // Selectable grid
    const gridSelect = document.getElementById('grid-select');
    gridSelect.columns = columns;
    gridSelect.data = sampleData;
    gridSelect.addEventListener('erxRowSelect', (e) => {
      document.getElementById('selected-output').textContent =
        `Selected: ${e.detail.selectedKeys.length} row(s) - IDs: ${e.detail.selectedKeys.join(', ') || 'none'}`;
    });

    // Paginated grid
    const gridPaginated = document.getElementById('grid-paginated');
    gridPaginated.columns = columns;
    gridPaginated.data = sampleData;

    // Filterable grid
    const gridFilter = document.getElementById('grid-filter');
    gridFilter.columns = columns;
    gridFilter.data = sampleData;

    // Editable grid
    const gridEditable = document.getElementById('grid-editable');
    gridEditable.columns = columns;
    gridEditable.data = sampleData.slice(0, 5);
    gridEditable.addEventListener('erxCellEdit', (e) => {
      console.log('Cell edited:', e.detail);
    });
  </script>
</body>
</html>
