<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-leave-request - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>

    <div class="component-header">
      <h1>erx-leave-request</h1>
      <p>Leave request form for employees to submit time-off requests with leave type selection, date ranges, and approval workflow.</p>
    </div>

    <div class="demo-section">
      <h2>Basic Leave Request Form</h2>
      <div class="demo-box">
        <div style="max-width: 500px; margin: 0 auto;">
          <erx-leave-request id="leave-basic"></erx-leave-request>
        </div>
      </div>
      <div class="code-block">
&lt;erx-leave-request
  employee-id="EMP001"
  employee-name="John Doe"
&gt;&lt;/erx-leave-request&gt;

&lt;script&gt;
const form = document.querySelector('erx-leave-request');
form.leaveTypes = [
  { id: 'vacation', label: 'Vacation', color: '#10b981', balance: 15 },
  { id: 'sick', label: 'Sick Leave', color: '#ef4444', balance: 10 },
  { id: 'personal', label: 'Personal', color: '#6366f1', balance: 3 }
];
form.addEventListener('erxSubmit', (e) =&gt; {
  console.log('Request submitted:', e.detail);
});
&lt;/script&gt;
      </div>
    </div>

    <div class="demo-section">
      <h2>With Leave Balance</h2>
      <div class="demo-box">
        <div style="max-width: 500px; margin: 0 auto;">
          <erx-leave-request id="leave-balance" show-balance></erx-leave-request>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>With Calendar View</h2>
      <div class="demo-box">
        <erx-leave-request id="leave-calendar" show-calendar show-team-absences></erx-leave-request>
      </div>
    </div>

    <div class="demo-section">
      <h2>Manager Approval View</h2>
      <div class="demo-box">
        <erx-leave-request id="leave-approval" mode="approval"></erx-leave-request>
        <p id="approval-output" style="margin-top: 1rem; color: var(--text-muted);"></p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Compact Mode</h2>
      <div class="demo-box">
        <div style="max-width: 400px; margin: 0 auto;">
          <erx-leave-request id="leave-compact" compact></erx-leave-request>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Props</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Prop</th>
            <th style="text-align: left; padding: 0.5rem;">Type</th>
            <th style="text-align: left; padding: 0.5rem;">Default</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>employeeId</code></td>
            <td style="padding: 0.5rem;">string</td>
            <td style="padding: 0.5rem;">''</td>
            <td style="padding: 0.5rem;">Employee identifier</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>employeeName</code></td>
            <td style="padding: 0.5rem;">string</td>
            <td style="padding: 0.5rem;">''</td>
            <td style="padding: 0.5rem;">Employee display name</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>leaveTypes</code></td>
            <td style="padding: 0.5rem;">LeaveType[]</td>
            <td style="padding: 0.5rem;">[]</td>
            <td style="padding: 0.5rem;">Available leave types</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>mode</code></td>
            <td style="padding: 0.5rem;">'request' | 'approval'</td>
            <td style="padding: 0.5rem;">'request'</td>
            <td style="padding: 0.5rem;">Form mode</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showBalance</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show leave balance</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showCalendar</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show calendar picker</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showTeamAbsences</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show team member absences</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>compact</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Use compact layout</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>requests</code></td>
            <td style="padding: 0.5rem;">LeaveRequest[]</td>
            <td style="padding: 0.5rem;">[]</td>
            <td style="padding: 0.5rem;">Pending requests (approval mode)</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>maxDays</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">30</td>
            <td style="padding: 0.5rem;">Maximum days per request</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>Events</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Event</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxSubmit</code></td>
            <td style="padding: 0.5rem;">Emitted when request is submitted</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxCancel</code></td>
            <td style="padding: 0.5rem;">Emitted when form is cancelled</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxApprove</code></td>
            <td style="padding: 0.5rem;">Emitted when request is approved</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxReject</code></td>
            <td style="padding: 0.5rem;">Emitted when request is rejected</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxDateChange</code></td>
            <td style="padding: 0.5rem;">Emitted when dates are selected</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxValidationError</code></td>
            <td style="padding: 0.5rem;">Emitted on validation failure</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Leave types
    const leaveTypes = [
      { id: 'vacation', label: 'Vacation', color: '#10b981', balance: 15, used: 5 },
      { id: 'sick', label: 'Sick Leave', color: '#ef4444', balance: 10, used: 2 },
      { id: 'personal', label: 'Personal', color: '#6366f1', balance: 3, used: 1 },
      { id: 'bereavement', label: 'Bereavement', color: '#64748b', balance: 5, used: 0 },
      { id: 'parental', label: 'Parental Leave', color: '#f59e0b', balance: 90, used: 0 }
    ];

    // Pending requests for approval mode
    const pendingRequests = [
      { id: 'req-1', employeeId: 'EMP002', employeeName: 'Jane Smith', type: 'vacation', startDate: '2025-02-01', endDate: '2025-02-05', days: 5, reason: 'Family vacation', status: 'pending', submittedAt: '2025-01-15' },
      { id: 'req-2', employeeId: 'EMP003', employeeName: 'Bob Johnson', type: 'sick', startDate: '2025-01-20', endDate: '2025-01-21', days: 2, reason: 'Medical appointment', status: 'pending', submittedAt: '2025-01-18' },
      { id: 'req-3', employeeId: 'EMP004', employeeName: 'Alice Brown', type: 'personal', startDate: '2025-01-25', endDate: '2025-01-25', days: 1, reason: 'Personal errands', status: 'pending', submittedAt: '2025-01-17' },
    ];

    // Team absences
    const teamAbsences = [
      { employeeName: 'Charlie Wilson', startDate: '2025-01-20', endDate: '2025-01-22', type: 'vacation' },
      { employeeName: 'Diana Lee', startDate: '2025-01-21', endDate: '2025-01-21', type: 'sick' },
    ];

    // Basic form
    const leaveBasic = document.getElementById('leave-basic');
    leaveBasic.employeeId = 'EMP001';
    leaveBasic.employeeName = 'John Doe';
    leaveBasic.leaveTypes = leaveTypes;
    leaveBasic.addEventListener('erxSubmit', (e) => {
      console.log('Request submitted:', e.detail);
      alert('Leave request submitted successfully!');
    });

    // With balance
    const leaveBalance = document.getElementById('leave-balance');
    leaveBalance.employeeId = 'EMP001';
    leaveBalance.employeeName = 'John Doe';
    leaveBalance.leaveTypes = leaveTypes;

    // With calendar
    const leaveCalendar = document.getElementById('leave-calendar');
    leaveCalendar.employeeId = 'EMP001';
    leaveCalendar.employeeName = 'John Doe';
    leaveCalendar.leaveTypes = leaveTypes;
    leaveCalendar.teamAbsences = teamAbsences;

    // Approval mode
    const leaveApproval = document.getElementById('leave-approval');
    leaveApproval.requests = pendingRequests;
    leaveApproval.addEventListener('erxApprove', (e) => {
      document.getElementById('approval-output').textContent = `Approved: ${e.detail.request.employeeName}'s ${e.detail.request.type} request`;
    });
    leaveApproval.addEventListener('erxReject', (e) => {
      document.getElementById('approval-output').textContent = `Rejected: ${e.detail.request.employeeName}'s ${e.detail.request.type} request`;
    });

    // Compact mode
    const leaveCompact = document.getElementById('leave-compact');
    leaveCompact.employeeId = 'EMP001';
    leaveCompact.employeeName = 'John Doe';
    leaveCompact.leaveTypes = leaveTypes;
  </script>
</body>
</html>
