<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-org-chart - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>

    <div class="component-header">
      <h1>erx-org-chart</h1>
      <p>Organization hierarchy chart for visualizing company structure, reporting lines, and team relationships with interactive navigation.</p>
    </div>

    <div class="demo-section">
      <h2>Basic Organization Chart</h2>
      <div class="demo-box" style="overflow-x: auto;">
        <erx-org-chart id="chart-basic"></erx-org-chart>
      </div>
      <div class="code-block">
&lt;erx-org-chart&gt;&lt;/erx-org-chart&gt;

&lt;script&gt;
const chart = document.querySelector('erx-org-chart');
chart.data = {
  id: 'ceo',
  name: 'Sarah Chen',
  title: 'CEO',
  children: [
    {
      id: 'cto',
      name: 'John Doe',
      title: 'CTO',
      children: [...]
    },
    // ...
  ]
};
&lt;/script&gt;
      </div>
    </div>

    <div class="demo-section">
      <h2>Horizontal Layout</h2>
      <div class="demo-box" style="overflow-x: auto;">
        <erx-org-chart id="chart-horizontal" direction="horizontal"></erx-org-chart>
      </div>
    </div>

    <div class="demo-section">
      <h2>Compact Mode</h2>
      <div class="demo-box" style="overflow-x: auto;">
        <erx-org-chart id="chart-compact" compact></erx-org-chart>
      </div>
    </div>

    <div class="demo-section">
      <h2>With Search and Zoom</h2>
      <div class="demo-box" style="overflow-x: auto;">
        <erx-org-chart id="chart-search" searchable zoomable show-controls></erx-org-chart>
        <p id="search-output" style="margin-top: 1rem; color: var(--text-muted);"></p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Department View</h2>
      <div class="demo-box" style="overflow-x: auto;">
        <erx-org-chart id="chart-department" view="department" show-headcount></erx-org-chart>
      </div>
    </div>

    <div class="demo-section">
      <h2>Interactive Selection</h2>
      <div class="demo-box" style="overflow-x: auto;">
        <erx-org-chart id="chart-select" selectable show-path></erx-org-chart>
        <p id="select-output" style="margin-top: 1rem; color: var(--text-muted);"></p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Props</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Prop</th>
            <th style="text-align: left; padding: 0.5rem;">Type</th>
            <th style="text-align: left; padding: 0.5rem;">Default</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>data</code></td>
            <td style="padding: 0.5rem;">OrgNode</td>
            <td style="padding: 0.5rem;">null</td>
            <td style="padding: 0.5rem;">Root node of org hierarchy</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>direction</code></td>
            <td style="padding: 0.5rem;">'vertical' | 'horizontal'</td>
            <td style="padding: 0.5rem;">'vertical'</td>
            <td style="padding: 0.5rem;">Chart orientation</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>view</code></td>
            <td style="padding: 0.5rem;">'tree' | 'department'</td>
            <td style="padding: 0.5rem;">'tree'</td>
            <td style="padding: 0.5rem;">Display mode</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>compact</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Use compact node style</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>searchable</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable search functionality</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>zoomable</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable zoom controls</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showControls</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show navigation controls</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showHeadcount</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show team headcount</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>selectable</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable node selection</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>showPath</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Highlight path to selected</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>maxDepth</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">Infinity</td>
            <td style="padding: 0.5rem;">Maximum depth to display</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>expandLevel</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">2</td>
            <td style="padding: 0.5rem;">Initially expanded levels</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>Events</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Event</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxNodeClick</code></td>
            <td style="padding: 0.5rem;">Emitted when a node is clicked</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxNodeSelect</code></td>
            <td style="padding: 0.5rem;">Emitted when a node is selected</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxNodeExpand</code></td>
            <td style="padding: 0.5rem;">Emitted when a node is expanded</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxNodeCollapse</code></td>
            <td style="padding: 0.5rem;">Emitted when a node is collapsed</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxSearch</code></td>
            <td style="padding: 0.5rem;">Emitted when search is performed</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxZoomChange</code></td>
            <td style="padding: 0.5rem;">Emitted when zoom level changes</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Organization data
    const orgData = {
      id: 'ceo',
      name: 'Sarah Chen',
      title: 'Chief Executive Officer',
      department: 'Executive',
      avatar: '',
      email: 'sarah.chen@company.com',
      headcount: 156,
      children: [
        {
          id: 'cto',
          name: 'John Doe',
          title: 'Chief Technology Officer',
          department: 'Engineering',
          avatar: '',
          email: 'john.doe@company.com',
          headcount: 45,
          children: [
            {
              id: 'eng-lead-1',
              name: 'Alice Brown',
              title: 'Engineering Manager',
              department: 'Backend',
              avatar: '',
              headcount: 12,
              children: [
                { id: 'dev-1', name: 'Tom Wilson', title: 'Senior Developer', department: 'Backend', avatar: '' },
                { id: 'dev-2', name: 'Emma Davis', title: 'Developer', department: 'Backend', avatar: '' },
                { id: 'dev-3', name: 'James Lee', title: 'Developer', department: 'Backend', avatar: '' }
              ]
            },
            {
              id: 'eng-lead-2',
              name: 'Bob Johnson',
              title: 'Engineering Manager',
              department: 'Frontend',
              avatar: '',
              headcount: 10,
              children: [
                { id: 'dev-4', name: 'Lisa Wang', title: 'Senior Developer', department: 'Frontend', avatar: '' },
                { id: 'dev-5', name: 'Mike Chen', title: 'Developer', department: 'Frontend', avatar: '' }
              ]
            },
            {
              id: 'eng-lead-3',
              name: 'Carol White',
              title: 'DevOps Lead',
              department: 'Infrastructure',
              avatar: '',
              headcount: 8,
              children: [
                { id: 'ops-1', name: 'David Kim', title: 'DevOps Engineer', department: 'Infrastructure', avatar: '' },
                { id: 'ops-2', name: 'Sarah Park', title: 'SRE', department: 'Infrastructure', avatar: '' }
              ]
            }
          ]
        },
        {
          id: 'cpo',
          name: 'Jane Smith',
          title: 'Chief Product Officer',
          department: 'Product',
          avatar: '',
          email: 'jane.smith@company.com',
          headcount: 28,
          children: [
            {
              id: 'pm-lead',
              name: 'Mark Taylor',
              title: 'Product Lead',
              department: 'Product',
              avatar: '',
              headcount: 8,
              children: [
                { id: 'pm-1', name: 'Anna Garcia', title: 'Product Manager', department: 'Product', avatar: '' },
                { id: 'pm-2', name: 'Chris Martin', title: 'Product Manager', department: 'Product', avatar: '' }
              ]
            },
            {
              id: 'design-lead',
              name: 'Emily Brown',
              title: 'Design Lead',
              department: 'Design',
              avatar: '',
              headcount: 12,
              children: [
                { id: 'design-1', name: 'Rachel Green', title: 'Senior Designer', department: 'Design', avatar: '' },
                { id: 'design-2', name: 'Kevin Yang', title: 'UX Designer', department: 'Design', avatar: '' }
              ]
            }
          ]
        },
        {
          id: 'cfo',
          name: 'Robert Williams',
          title: 'Chief Financial Officer',
          department: 'Finance',
          avatar: '',
          email: 'robert.williams@company.com',
          headcount: 18,
          children: [
            {
              id: 'finance-lead',
              name: 'Nancy Drew',
              title: 'Finance Manager',
              department: 'Finance',
              avatar: '',
              headcount: 10,
              children: [
                { id: 'fin-1', name: 'Paul Adams', title: 'Senior Accountant', department: 'Finance', avatar: '' },
                { id: 'fin-2', name: 'Linda Scott', title: 'Accountant', department: 'Finance', avatar: '' }
              ]
            }
          ]
        },
        {
          id: 'chro',
          name: 'Michelle Davis',
          title: 'Chief HR Officer',
          department: 'Human Resources',
          avatar: '',
          email: 'michelle.davis@company.com',
          headcount: 12,
          children: [
            {
              id: 'hr-lead',
              name: 'Thomas Moore',
              title: 'HR Manager',
              department: 'Human Resources',
              avatar: '',
              headcount: 8,
              children: [
                { id: 'hr-1', name: 'Jennifer Hall', title: 'HR Specialist', department: 'Human Resources', avatar: '' },
                { id: 'hr-2', name: 'Brian Clark', title: 'Recruiter', department: 'Human Resources', avatar: '' }
              ]
            }
          ]
        }
      ]
    };

    // Basic chart
    const chartBasic = document.getElementById('chart-basic');
    chartBasic.data = orgData;

    // Horizontal chart
    const chartHorizontal = document.getElementById('chart-horizontal');
    chartHorizontal.data = orgData;

    // Compact chart
    const chartCompact = document.getElementById('chart-compact');
    chartCompact.data = orgData;

    // Searchable chart
    const chartSearch = document.getElementById('chart-search');
    chartSearch.data = orgData;
    chartSearch.addEventListener('erxSearch', (e) => {
      document.getElementById('search-output').textContent = `Found ${e.detail.results.length} matches for "${e.detail.query}"`;
    });

    // Department view
    const chartDepartment = document.getElementById('chart-department');
    chartDepartment.data = orgData;

    // Selectable chart
    const chartSelect = document.getElementById('chart-select');
    chartSelect.data = orgData;
    chartSelect.addEventListener('erxNodeSelect', (e) => {
      const path = e.detail.path ? e.detail.path.map(n => n.name).join(' > ') : e.detail.node.name;
      document.getElementById('select-output').textContent = `Selected: ${e.detail.node.name} (${e.detail.node.title})\nPath: ${path}`;
    });
  </script>
</body>
</html>
