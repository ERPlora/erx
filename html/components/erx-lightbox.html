<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-lightbox - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>

    <div class="component-header">
      <h1>erx-lightbox</h1>
      <p>A lightbox overlay component for viewing images and media in a fullscreen modal. Supports galleries, zoom, captions, and keyboard navigation.</p>
    </div>

    <div class="demo-section">
      <h2>Single Image</h2>
      <div class="demo-box">
        <img
          src="https://picsum.photos/300/200?random=70"
          alt="Click to open"
          style="cursor: pointer; border-radius: 8px;"
          onclick="openLightbox('https://picsum.photos/1200/800?random=70', 'A beautiful landscape')">
        <p style="margin-top: 1rem; color: var(--text-muted);">Click the image to open lightbox.</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Image Gallery</h2>
      <div class="demo-box">
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.5rem;">
          <img src="https://picsum.photos/200/200?random=71" alt="Image 1" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(0)">
          <img src="https://picsum.photos/200/200?random=72" alt="Image 2" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(1)">
          <img src="https://picsum.photos/200/200?random=73" alt="Image 3" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(2)">
          <img src="https://picsum.photos/200/200?random=74" alt="Image 4" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(3)">
          <img src="https://picsum.photos/200/200?random=75" alt="Image 5" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(4)">
          <img src="https://picsum.photos/200/200?random=76" alt="Image 6" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(5)">
          <img src="https://picsum.photos/200/200?random=77" alt="Image 7" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(6)">
          <img src="https://picsum.photos/200/200?random=78" alt="Image 8" style="cursor: pointer; border-radius: 8px; width: 100%;" onclick="openGallery(7)">
        </div>
        <p style="margin-top: 1rem; color: var(--text-muted);">Click any image to open gallery. Use arrow keys or swipe to navigate.</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>With Thumbnails</h2>
      <div class="demo-box">
        <button onclick="openGalleryWithThumbnails()" style="padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer;">
          Open Gallery with Thumbnails
        </button>
      </div>
    </div>

    <div class="demo-section">
      <h2>With Zoom</h2>
      <div class="demo-box">
        <button onclick="openLightboxWithZoom()" style="padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer;">
          Open Zoomable Image
        </button>
        <p style="margin-top: 1rem; color: var(--text-muted);">Use mouse wheel or pinch to zoom. Drag to pan when zoomed.</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Video Lightbox</h2>
      <div class="demo-box">
        <button onclick="openVideoLightbox()" style="padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer;">
          Open Video
        </button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Mixed Media Gallery</h2>
      <div class="demo-box">
        <button onclick="openMixedGallery()" style="padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer;">
          Open Mixed Gallery
        </button>
        <p style="margin-top: 1rem; color: var(--text-muted);">Gallery with both images and videos.</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Slideshow Mode</h2>
      <div class="demo-box">
        <button onclick="openSlideshow()" style="padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer;">
          Start Slideshow
        </button>
        <p style="margin-top: 1rem; color: var(--text-muted);">Auto-advances every 3 seconds.</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Props</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Prop</th>
            <th style="text-align: left; padding: 0.5rem;">Type</th>
            <th style="text-align: left; padding: 0.5rem;">Default</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>items</code></td>
            <td style="padding: 0.5rem;">array</td>
            <td style="padding: 0.5rem;">[]</td>
            <td style="padding: 0.5rem;">Array of media items</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>start-index</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">0</td>
            <td style="padding: 0.5rem;">Starting item index</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>show-thumbnails</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Show thumbnail strip</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>show-counter</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">true</td>
            <td style="padding: 0.5rem;">Show image counter</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>show-captions</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">true</td>
            <td style="padding: 0.5rem;">Show item captions</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>enable-zoom</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable zoom on images</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>slideshow</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">false</td>
            <td style="padding: 0.5rem;">Enable slideshow mode</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>slideshow-interval</code></td>
            <td style="padding: 0.5rem;">number</td>
            <td style="padding: 0.5rem;">5000</td>
            <td style="padding: 0.5rem;">Slideshow interval (ms)</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>loop</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">true</td>
            <td style="padding: 0.5rem;">Loop through items</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>backdrop-close</code></td>
            <td style="padding: 0.5rem;">boolean</td>
            <td style="padding: 0.5rem;">true</td>
            <td style="padding: 0.5rem;">Close on backdrop click</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>Events</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 2px solid var(--border);">
            <th style="text-align: left; padding: 0.5rem;">Event</th>
            <th style="text-align: left; padding: 0.5rem;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxOpen</code></td>
            <td style="padding: 0.5rem;">Emitted when lightbox opens</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxClose</code></td>
            <td style="padding: 0.5rem;">Emitted when lightbox closes</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td style="padding: 0.5rem;"><code>erxChange</code></td>
            <td style="padding: 0.5rem;">Emitted when current item changes</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Lightbox Component -->
    <erx-lightbox id="lightbox"></erx-lightbox>
  </div>

  <script>
    const lightbox = document.getElementById('lightbox');

    // Single image
    function openLightbox(src, caption) {
      lightbox.items = [{ type: 'image', src, caption }];
      lightbox.open();
    }

    // Gallery images
    const galleryImages = Array.from({ length: 8 }, (_, i) => ({
      type: 'image',
      src: `https://picsum.photos/1200/800?random=${71 + i}`,
      thumbnail: `https://picsum.photos/200/200?random=${71 + i}`,
      caption: `Gallery Image ${i + 1}`
    }));

    function openGallery(index) {
      lightbox.items = galleryImages;
      lightbox.startIndex = index;
      lightbox.open();
    }

    function openGalleryWithThumbnails() {
      lightbox.items = galleryImages;
      lightbox.showThumbnails = true;
      lightbox.open();
    }

    function openLightboxWithZoom() {
      lightbox.items = [{
        type: 'image',
        src: 'https://picsum.photos/2400/1600?random=80',
        caption: 'High resolution image - scroll to zoom'
      }];
      lightbox.enableZoom = true;
      lightbox.open();
    }

    function openVideoLightbox() {
      lightbox.items = [{
        type: 'video',
        src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
        poster: 'https://picsum.photos/800/450?random=81',
        caption: 'Big Buck Bunny - Sample Video'
      }];
      lightbox.open();
    }

    function openMixedGallery() {
      lightbox.items = [
        { type: 'image', src: 'https://picsum.photos/1200/800?random=82', caption: 'Image 1' },
        { type: 'video', src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4', caption: 'Video 1' },
        { type: 'image', src: 'https://picsum.photos/1200/800?random=83', caption: 'Image 2' },
        { type: 'image', src: 'https://picsum.photos/1200/800?random=84', caption: 'Image 3' },
        { type: 'video', src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4', caption: 'Video 2' },
      ];
      lightbox.showThumbnails = true;
      lightbox.open();
    }

    function openSlideshow() {
      lightbox.items = galleryImages;
      lightbox.slideshow = true;
      lightbox.slideshowInterval = 3000;
      lightbox.open();
    }

    // Event listeners
    lightbox.addEventListener('erxOpen', () => console.log('Lightbox opened'));
    lightbox.addEventListener('erxClose', () => {
      console.log('Lightbox closed');
      // Reset props
      lightbox.showThumbnails = false;
      lightbox.enableZoom = false;
      lightbox.slideshow = false;
    });
    lightbox.addEventListener('erxChange', (e) => console.log('Changed to index:', e.detail.index));
  </script>
</body>
</html>
