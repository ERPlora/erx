<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>erx-master-detail - ERX Components</title>
  <script type="module" src="https://unpkg.com/@erplora/erx/dist/erx/erx.esm.js"></script>
  <script nomodule src="https://unpkg.com/@erplora/erx/dist/erx/erx.js"></script>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="component-page" style="padding: 2rem;">
    <a href="../index.html" class="back-link">&larr; Back to Components</a>
    <div class="component-header">
      <h1>erx-master-detail</h1>
      <p>Two-panel layout with a master list and detail view. Ideal for email clients, file browsers, and list-detail interfaces.</p>
    </div>
    <div class="demo-section">
      <h2>Basic Master-Detail</h2>
      <div class="demo-box" style="padding: 0; height: 400px; overflow: hidden; border-radius: 8px;">
        <erx-master-detail id="md-basic" style="height: 100%;"></erx-master-detail>
      </div>
    </div>
    <div class="demo-section">
      <h2>Resizable Master Panel</h2>
      <div class="demo-box" style="padding: 0; height: 400px; overflow: hidden; border-radius: 8px;">
        <erx-master-detail id="md-resizable" style="height: 100%;">
          <div id="md-resizable-detail" style="padding: 1.5rem; height: 100%;">
            <p style="color: var(--text-muted);">Drag the divider to resize the master panel.</p>
            <p style="color: var(--text-muted); margin-top: 0.5rem;">Click an item to see its details.</p>
          </div>
        </erx-master-detail>
      </div>
    </div>
    <div class="demo-section">
      <h2>Collapsible Master Panel</h2>
      <div class="demo-box" style="padding: 0; height: 350px; overflow: hidden; border-radius: 8px;">
        <erx-master-detail id="md-collapsible" style="height: 100%;">
          <div style="padding: 1.5rem; height: 100%;">
            <h3>Detail View</h3>
            <p style="color: var(--text-muted); margin-top: 0.5rem;">Click the arrow button to collapse the master list.</p>
          </div>
        </erx-master-detail>
      </div>
    </div>
    <div class="demo-section">
      <h2>Right-Side Master Panel</h2>
      <div class="demo-box" style="padding: 0; height: 350px; overflow: hidden; border-radius: 8px;">
        <erx-master-detail id="md-right" style="height: 100%;">
          <div style="padding: 1.5rem; height: 100%;">
            <h3>Main Content</h3>
            <p style="color: var(--text-muted); margin-top: 0.5rem;">The master list is positioned on the right side.</p>
          </div>
        </erx-master-detail>
      </div>
    </div>
    <div class="demo-section">
      <h2>Email Client Example</h2>
      <div class="demo-box" style="padding: 0; height: 450px; overflow: hidden; border-radius: 8px;">
        <erx-master-detail id="md-email" selected-id="email-1" style="height: 100%;">
          <div id="email-detail" style="padding: 1.5rem; height: 100%; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
              <div>
                <h2>Weekly Team Update</h2>
                <p style="color: var(--text-muted); font-size: 0.875rem;">From: team@company.com</p>
              </div>
              <span style="color: var(--text-muted); font-size: 0.875rem;">10:30 AM</span>
            </div>
            <hr style="border: none; border-top: 1px solid var(--border); margin: 1rem 0;">
            <div style="line-height: 1.8; color: var(--text);">
              <p>Hi Team,</p>
              <p style="margin-top: 1rem;">Here's our weekly update on project progress and upcoming milestones.</p>
              <p style="margin-top: 1rem;"><strong>Completed this week:</strong></p>
              <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li>Feature A implementation</li>
                <li>Bug fixes for module B</li>
                <li>Performance optimizations</li>
              </ul>
              <p style="margin-top: 1rem;"><strong>Next week's goals:</strong></p>
              <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li>Complete Feature C</li>
                <li>Start testing phase</li>
                <li>Documentation updates</li>
              </ul>
              <p style="margin-top: 1.5rem;">Best regards,<br>The Team</p>
            </div>
          </div>
        </erx-master-detail>
      </div>
    </div>
  </div>
  <script>
    // Basic master-detail
    const mdBasic = document.getElementById('md-basic');
    mdBasic.items = [
      { id: '1', title: 'Item One', subtitle: 'Description for item one' },
      { id: '2', title: 'Item Two', subtitle: 'Description for item two' },
      { id: '3', title: 'Item Three', subtitle: 'Description for item three' },
      { id: '4', title: 'Item Four', subtitle: 'Description for item four' },
      { id: '5', title: 'Item Five', subtitle: 'Description for item five' },
    ];
    mdBasic.innerHTML = '<div style="padding: 1.5rem;"><h3>Select an Item</h3><p style="color: var(--text-muted);">Click on an item in the list to view details.</p></div>';

    // Resizable master-detail
    const mdResizable = document.getElementById('md-resizable');
    mdResizable.items = [
      { id: '1', title: 'Document A', subtitle: 'PDF, 2.4 MB' },
      { id: '2', title: 'Document B', subtitle: 'DOCX, 156 KB' },
      { id: '3', title: 'Image C', subtitle: 'PNG, 4.2 MB' },
      { id: '4', title: 'Spreadsheet D', subtitle: 'XLSX, 890 KB' },
    ];
    mdResizable.config = { resizable: true, minMasterWidth: 200, maxMasterWidth: 500 };

    // Collapsible master-detail
    const mdCollapsible = document.getElementById('md-collapsible');
    mdCollapsible.items = [
      { id: '1', title: 'Category A' },
      { id: '2', title: 'Category B' },
      { id: '3', title: 'Category C' },
    ];
    mdCollapsible.config = { collapsible: true };

    // Right-side master panel
    const mdRight = document.getElementById('md-right');
    mdRight.items = [
      { id: '1', title: 'Option 1' },
      { id: '2', title: 'Option 2' },
      { id: '3', title: 'Option 3' },
    ];
    mdRight.config = { position: 'right', masterWidth: '250px' };

    // Email client example
    const mdEmail = document.getElementById('md-email');
    mdEmail.items = [
      { id: 'email-1', title: 'Weekly Team Update', subtitle: 'team@company.com - 10:30 AM', badge: '' },
      { id: 'email-2', title: 'Project Deadline Reminder', subtitle: 'manager@company.com - 9:15 AM' },
      { id: 'email-3', title: 'Meeting Notes', subtitle: 'colleague@company.com - Yesterday' },
      { id: 'email-4', title: 'Invoice #12345', subtitle: 'billing@vendor.com - Yesterday' },
      { id: 'email-5', title: 'Welcome to the Team!', subtitle: 'hr@company.com - Jan 15' },
    ];
    mdEmail.config = { resizable: true, masterWidth: '350px', minMasterWidth: 280 };

    mdEmail.addEventListener('erxSelect', (e) => {
      const detail = document.getElementById('email-detail');
      const item = e.detail.item;
      detail.innerHTML = `
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
          <div>
            <h2>${item.title}</h2>
            <p style="color: var(--text-muted); font-size: 0.875rem;">From: ${item.subtitle.split(' - ')[0]}</p>
          </div>
          <span style="color: var(--text-muted); font-size: 0.875rem;">${item.subtitle.split(' - ')[1]}</span>
        </div>
        <hr style="border: none; border-top: 1px solid var(--border); margin: 1rem 0;">
        <p style="color: var(--text-muted);">Email content for "${item.title}" would appear here.</p>
      `;
    });
  </script>
</body>
</html>
